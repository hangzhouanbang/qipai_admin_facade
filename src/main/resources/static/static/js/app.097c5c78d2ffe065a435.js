webpackJsonp([1],{"1cEi":function(e,t){},"4viN":function(e,t){},"5ZBB":function(e,t){},"7Otq":function(e,t,a){e.exports=a.p+"static/img/logo.1a676ff.png"},D86o:function(e,t){},F61n:function(e,t){},GTCN:function(e,t){},IQs6:function(e,t){},ISg2:function(e,t){},K4Vv:function(e,t){},LLm3:function(e,t){},MVg2:function(e,t){},N4Es:function(e,t){},NHnr:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=a("7+uW"),i={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{attrs:{id:"app"}},[t("router-view")],1)},staticRenderFns:[]};var r=a("VU/8")({name:"App"},i,!1,function(e){a("LLm3")},null,null).exports,n=a("/ocq"),o=a("mtWM"),l=a.n(o),c={data:function(){return{loading:!1,account:{nickname:this.nickname,pass:this.pass},rules:{nickname:[{required:!0,message:"请输入账号",trigger:"blur"}],pass:[{required:!0,message:"请输入密码",trigger:"blur"}]},checked:!0}},methods:{trim:function(e){if(null!=e)return e.replace(/(^\s+)|(\s+$)/g,"")},handleLogin:function(){var e=this;l()({method:"post",url:this.global.mPath+"/login/login",headers:{"Content-type":"application/x-www-form-urlencoded"},params:{nickname:this.trim(this.account.nickname),pass:this.trim(this.account.pass)}}).then(function(t){null==t.data.data?e.$message({showClose:!0,message:"账号或密码错误",type:"warning"}):(e.$router.replace("/newVip"),e.$message({showClose:!0,message:"登录成功",type:"success"}),sessionStorage.setItem("nickname",t.data.data.admin.nickname),sessionStorage.setItem("token",t.data.data.token))}).catch(function(t){if(t&&t.response)switch(t.response.status){case 504:e.$message({showClose:!0,message:"服务器异常",type:"warning"})}})}}},u={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-form",{ref:"AccountFrom",staticClass:"demo-ruleForm login-container",attrs:{model:e.account,rules:e.rules,"label-position":"left","label-width":"0px"}},[a("h3",{staticClass:"title"},[e._v("管理员登录")]),e._v(" "),a("el-form-item",{attrs:{prop:"nickname"}},[a("el-input",{attrs:{type:"text","auto-complete":"off",placeholder:"账号"},model:{value:e.account.nickname,callback:function(t){e.$set(e.account,"nickname",t)},expression:"account.nickname"}})],1),e._v(" "),a("el-form-item",{attrs:{prop:"pass"}},[a("el-input",{attrs:{type:"password","auto-complete":"off",placeholder:"密码"},model:{value:e.account.pass,callback:function(t){e.$set(e.account,"pass",t)},expression:"account.pass"}})],1),e._v(" "),a("el-form-item",{staticStyle:{width:"100%"}},[a("el-button",{staticStyle:{width:"100%"},attrs:{type:"primary",loading:e.loading},nativeOn:{click:function(t){return t.preventDefault(),e.handleLogin(t)}}},[e._v("\n      登录\n    ")])],1)],1)},staticRenderFns:[]};var d=a("VU/8")(c,u,!1,function(e){a("jMov")},"data-v-c21cfb74",null).exports,m={name:"Home",created:function(){},data:function(){return{defaultActiveIndex:"0",nickname:sessionStorage.getItem("nickname"),collapsed:!1}},methods:{handleSelect:function(e){this.defaultActiveIndex=e},collapse:function(){this.collapsed=!this.collapsed},jumpTo:function(e){this.defaultActiveIndex=e,this.$router.push(e)},logout:function(){var e=this;l()({method:"post",url:this.global.mPath+"/login/logout",headers:{"Content-type":"application/x-www-form-urlencoded"},params:{token:sessionStorage.getItem("token")}}).then(function(t){e.$router.replace("/")}).catch(function(e){})}},mounted:function(){var e=localStorage.getItem("access-user");e&&(e=JSON.parse(e),this.nickname=e.nickname||"")}},p={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("el-row",{staticClass:"container"},[s("el-col",{staticClass:"topbar-wrap",attrs:{span:24}},[s("div",{staticClass:"topbar-logo topbar-btn"},[s("a",{attrs:{href:"/"}},[s("img",{staticStyle:{"padding-left":"8px"},attrs:{src:a("7Otq")}})])]),e._v(" "),s("div",{staticClass:"topbar-title"},[s("span",{staticStyle:{"font-size":"18px",color:"#fff"}},[e._v("后台管理系统")])]),e._v(" "),s("div",{staticClass:"topbar-account topbar-btn"},[s("el-dropdown",{attrs:{trigger:"click"}},[s("span",{staticClass:"el-dropdown-link userinfo-inner"},[s("i",{staticClass:"iconfont icon-guanliyuan"}),e._v(" "+e._s(e.nickname)+"  "),s("i",{staticClass:"iconfont icon-down"})]),e._v(" "),s("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[s("el-dropdown-item",[s("div",{on:{click:function(t){e.jumpTo("/home")}}},[s("span",{staticStyle:{color:"#555","font-size":"14px"}},[e._v("个人信息")])])]),e._v(" "),s("el-dropdown-item",{attrs:{divided:""},nativeOn:{click:function(t){return e.logout(t)}}},[e._v("退出登录")])],1)],1)],1)]),e._v(" "),s("el-col",{staticClass:"main",attrs:{span:24}},[s("aside",{class:{showSidebar:!e.collapsed}},[s("div",{staticClass:"menu-toggle",on:{click:function(t){return t.preventDefault(),e.collapse(t)}}},[s("i",{directives:[{name:"show",rawName:"v-show",value:!e.collapsed,expression:"!collapsed"}],staticClass:"iconfont icon-weibiaoti25"}),e._v(" "),s("i",{directives:[{name:"show",rawName:"v-show",value:e.collapsed,expression:"collapsed"}],staticClass:"iconfont icon-weibiaoti26"})]),e._v(" "),s("el-menu",{attrs:{"default-active":e.defaultActiveIndex,router:"",collapse:e.collapsed},on:{select:e.handleSelect}},[e._l(e.$router.options.routes,function(t,a){return t.menuShow?[t.leaf?t.leaf&&t.children&&t.children.length?s("el-menu-item",{class:e.$route.path==t.children[0].path?"is-active":"",attrs:{index:t.children[0].path}},[s("i",{class:t.iconCls}),s("span",{attrs:{slot:"title"},slot:"title"},[e._v(e._s(t.children[0].name))])]):e._e():s("el-submenu",{attrs:{index:a+""}},[s("template",{slot:"title"},[s("i",{class:t.iconCls}),s("span",{attrs:{slot:"title"},slot:"title"},[e._v(e._s(t.name))])]),e._v(" "),e._l(t.children,function(t){return t.menuShow?s("el-menu-item",{key:t.path,class:e.$route.path==t.path?"is-active":"",attrs:{index:t.path}},[s("i",{class:t.iconCls}),s("span",{attrs:{slot:"title"},slot:"title"},[e._v(e._s(t.name))])]):e._e()})],2)]:e._e()})],2)],1),e._v(" "),s("section",{staticClass:"content-container"},[s("div",{staticClass:"grid-content bg-purple-light"},[s("el-col",{staticClass:"content-wrapper",attrs:{span:24}},[s("transition",{attrs:{name:"fade",mode:"out-in"}},[s("router-view")],1)],1)],1)])])],1)},staticRenderFns:[]};var h=a("VU/8")(m,p,!1,function(e){a("W97L")},"data-v-16a97206",null).exports,g=a("woOf"),f=a.n(g),b=a("bOdI"),v=a.n(b),y={name:"Admin",data:function(){var e;return e={radio:"",items:[],roles:[],filters:{name:""},books:[],total:0,page:1,limit:10},v()(e,"roles",""),v()(e,"loading",!1),v()(e,"sels",[]),v()(e,"editFormVisible",!1),v()(e,"checked",!0),v()(e,"editForm",{}),v()(e,"editRole",{}),v()(e,"addForm",{}),v()(e,"addFormVisible",!1),v()(e,"editRoleVisible",!1),v()(e,"addLoading",!1),v()(e,"addFormRules",{nickname:[{required:!0,message:"请输入用户名",trigger:"blur"}],pass:[{required:!0,message:"请输入密码",trigger:"blur"}],user:[{required:!0,message:"请输入真实姓名",trigger:"blur"}],idCard:[{required:!0,message:"请输入身份证号",trigger:"blur"}]}),e},methods:{handleCurrentChange:function(e){this.page=e,this.handleSearch(this.page)},dateTimeFormat:function(e){var t=new Date(+e),a=function(e){return(e="0"+e).substring(e.length-2,e.length)};if(null!=t){var s=t.getFullYear(),i=t.getMonth()+1,r=t.getDate(),n=t.getHours(),o=t.getMinutes(),l=t.getSeconds();return s+"-"+a(i)+"-"+a(r)+" "+a(n)+":"+a(o)+":"+a(l)}},trim:function(e){if(null!=e)return e.replace(/(^\s+)|(\s+$)/g,"")},handleSearch:function(){var e=this;l()({method:"post",url:this.global.mPath+"/admin/queryadmin",headers:{"Content-type":"application/x-www-form-urlencoded"},params:{page:this.page,size:"15",nickname:this.trim(this.filters.nickname),token:sessionStorage.getItem("token")}}).then(function(t){e.items=t.data.data.items,e.total=t.data.data.pageCount;for(var a=0;a<e.items.length;a++)e.items[a].createTime=e.dateTimeFormat(e.items[a].createTime)}).catch(function(t){if(t&&t.response)switch(t.response.status){case 504:e.$message({showClose:!0,message:"服务器异常",type:"warning"});break;case 405:e.$message({showClose:!0,message:"请先登录",type:"warning"})}})},selsChange:function(e){this.sels=e},delBook:function(e,t){var a=this,s=this;this.$confirm("确认删除该记录吗?","提示",{type:"warning"}).then(function(){s.loading=!0,l()({method:"post",url:a.global.mPath+"/admin/deleteadmin",headers:{"Content-type":"application/x-www-form-urlencoded"},params:{id:t.id,token:sessionStorage.getItem("token")}}).then(function(e){s.loading=!1,1==e.data.success?(s.$message.success({showClose:!0,message:"删除成功",duration:1500}),s.handleSearch(1)):s.$message.error({showClose:!0,message:err.toString(),duration:2e3})}).catch(function(e){s.loading=!1,console.log(error),s.$message.error({showClose:!0,message:"请求出现异常",duration:2e3})})})},showEditDialog:function(e,t){this.editFormVisible=!0,this.editForm=f()({},t)},editSubmit:function(){var e=this;this.editForm.createTime=this.dateTimeFormat(this.editForm.createTime),this.$refs.editForm.validate(function(t){t&&(e.loading=!0,l()({method:"post",url:e.global.mPath+"/admin/repass",headers:{"Content-type":"application/x-www-form-urlencoded"},params:{id:e.editForm.id,pass:e.editForm.password,token:sessionStorage.getItem("token")}}).then(function(t){e.loading=!1,1==t.data.success?(e.editFormVisible=!1,e.$message.success({showClose:!0,message:"修改成功",duration:1500}),e.handleSearch(1)):e.$message.error({showClose:!0,message:err.toString(),duration:2e3})}).catch(function(t){e.loading=!1,console.log(error),e.$message.error({showClose:!0,message:"请求出现异常",duration:2e3})}))})},showEditRole:function(e,t){var a=this;this.editRoleVisible=!0,this.editRole=f()({},t),l()({method:"post",url:this.global.mPath+"/role/queryallrole",headers:{"Content-type":"application/x-www-form-urlencoded"},params:{token:sessionStorage.getItem("token")}}).then(function(e){console.log(e.data.data),a.roles=e.data.data}).catch(function(e){})},roleSubmit:function(){var e=this,t=this.sels.map(function(e){return e.id}).toString();console.log(t),console.log(this.editRole),l()({method:"post",url:this.global.mPath+"/admin/editrole",headers:{"Content-type":"application/x-www-form-urlencoded"},params:{adminId:this.editRole.id,roleId:t,token:sessionStorage.getItem("token")}}).then(function(t){console.log(t.data),0==t.data.success?e.$message({showClose:!0,message:"编辑失败",type:"warning"}):1==t.data.success&&(e.$message({showClose:!0,message:"编辑成功",type:"success"}),e.editRoleVisible=!1,e.handleSearch(1))}).catch(function(e){})},showAddDialog:function(){this.addFormVisible=!0,this.addForm={name:"",author:"",publishAt:"",description:""}},addSubmit:function(){var e=this;l()({method:"post",url:this.global.mPath+"/admin/addadmin",headers:{"Content-type":"application/x-www-form-urlencoded"},params:{nickname:this.trim(this.addForm.nickname),pass:this.trim(this.addForm.pass),user:this.trim(this.addForm.user),idCard:this.trim(this.addForm.idCard),token:sessionStorage.getItem("token")}}).then(function(t){0==t.data.success?e.$message({showClose:!0,message:"添加失败",type:"warning"}):1==t.data.success&&(e.$message({showClose:!0,message:"添加成功",type:"success"}),e.addFormVisible=!1,e.handleSearch(1))}).catch(function(t){if(t&&t.response)switch(t.response.status){case 504:e.$message({showClose:!0,message:"服务器异常",type:"warning"});break;case 405:e.$message({showClose:!0,message:"请先登录",type:"warning"})}})},batchDeleteBook:function(){var e=this,t=this.sels.map(function(e){return e.id}).toString(),a=this;this.$confirm("确认删除选中记录吗？","提示",{type:"warning"}).then(function(){a.loading=!0,l()({method:"post",url:e.global.mPath+"/admin/deleteadmin",headers:{"Content-type":"application/x-www-form-urlencoded"},params:{id:t,token:sessionStorage.getItem("token")}}).then(function(e){a.loading=!1,1==e.data.success?(a.$message.success({showClose:!0,message:"删除成功",duration:1500}),a.handleSearch(1)):a.$message.error({showClose:!0,message:err.toString(),duration:2e3})}).catch(function(e){a.loading=!1,console.log(error),a.$message.error({showClose:!0,message:"请求出现异常",duration:2e3})})})}},mounted:function(){this.handleSearch(1)}},w={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-row",{staticClass:"warp"},[a("el-col",{staticClass:"warp-breadcrum",attrs:{span:24}},[a("el-breadcrumb",{attrs:{separator:"/"}},[a("el-breadcrumb-item",{attrs:{to:{path:"/"}}},[a("b",[e._v("管理员管理")])])],1)],1),e._v(" "),a("el-col",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticClass:"warp-main",attrs:{span:24,"element-loading-text":"拼命加载中"}},[a("el-col",{staticClass:"toolbar",staticStyle:{"padding-bottom":"0px"},attrs:{span:24}},[a("el-form",{attrs:{inline:!0,model:e.filters}},[a("el-form-item",[a("el-input",{attrs:{placeholder:"用户名"},nativeOn:{keyup:function(t){return"button"in t||!e._k(t.keyCode,"enter",13,t.key,"Enter")?e.handleSearch(t):null}},model:{value:e.filters.nickname,callback:function(t){e.$set(e.filters,"nickname",t)},expression:"filters.nickname"}})],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:e.handleSearch}},[e._v("查询")])],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:e.showAddDialog}},[e._v("新增")])],1)],1)],1),e._v(" "),a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.items,"highlight-current-row":""},on:{"selection-change":e.selsChange}},[a("el-table-column",{attrs:{type:"selection",width:"55"}}),e._v(" "),a("el-table-column",{attrs:{type:"index",width:"60"}}),e._v(" "),a("el-table-column",{attrs:{prop:"nickname",label:"用户名",width:"100"}}),e._v(" "),a("el-table-column",{attrs:{prop:"user",label:"姓名",width:"100"}}),e._v(" "),a("el-table-column",{attrs:{prop:"idCard",label:"身份证号",width:"170"}}),e._v(" "),a("el-table-column",{attrs:{label:"角色",width:"100"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("ul",{staticStyle:{"margin-left":"-26px"}},e._l(t.row.roleList,function(t){return a("li",[e._v(e._s(t.role))])}))]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"createTime",label:"添加时间",width:"160"}}),e._v(" "),a("el-table-column",{attrs:{label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{size:"small"},on:{click:function(a){e.showEditDialog(t.$index,t.row)}}},[e._v("修改密码")]),e._v(" "),a("el-button",{attrs:{size:"small"},on:{click:function(a){e.showEditRole(t.$index,t.row)}}},[e._v("编辑角色")]),e._v(" "),a("el-button",{attrs:{type:"danger",size:"small"},on:{click:function(a){e.delBook(t.$index,t.row)}}},[e._v("删除")])]}}])})],1),e._v(" "),a("el-col",{staticClass:"toolbar",attrs:{span:24}},[a("el-button",{attrs:{type:"danger",disabled:0===this.sels.length},on:{click:e.batchDeleteBook}},[e._v("批量删除")]),e._v(" "),a("el-pagination",{staticStyle:{float:"right"},attrs:{layout:"prev, pager, next","page-size":1,total:e.total},on:{"current-change":e.handleCurrentChange}})],1),e._v(" "),a("el-dialog",{attrs:{title:"修改密码",visible:e.editFormVisible,"close-on-click-modal":!1},on:{"update:visible":function(t){e.editFormVisible=t}}},[a("el-form",{ref:"editForm",attrs:{model:e.editForm,"label-width":"100px"}},[a("el-form-item",{attrs:{label:"用户名",prop:"nickname"}},[a("el-input",{attrs:{"auto-complete":"off"},model:{value:e.editForm.nickname,callback:function(t){e.$set(e.editForm,"nickname",t)},expression:"editForm.nickname"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"姓名",prop:"user"}},[a("el-input",{attrs:{"auto-complete":"off"},model:{value:e.editForm.user,callback:function(t){e.$set(e.editForm,"user",t)},expression:"editForm.user"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"身份证号",prop:"idCard"}},[a("el-input",{attrs:{rows:8},model:{value:e.editForm.idCard,callback:function(t){e.$set(e.editForm,"idCard",t)},expression:"editForm.idCard"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"添加时间",prop:"createTime"}},[a("el-input",{attrs:{rows:8},model:{value:e.editForm.createTime,callback:function(t){e.$set(e.editForm,"createTime",t)},expression:"editForm.createTime"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"密码"}},[a("el-input",{attrs:{type:"password",rows:8},model:{value:e.editForm.password,callback:function(t){e.$set(e.editForm,"password",t)},expression:"editForm.password"}})],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{nativeOn:{click:function(t){e.editFormVisible=!1}}},[e._v("取消")]),e._v(" "),a("el-button",{attrs:{type:"primary"},nativeOn:{click:function(t){return e.editSubmit(t)}}},[e._v("提交")])],1)],1),e._v(" "),a("el-dialog",{attrs:{title:"编辑角色",visible:e.editRoleVisible,"close-on-click-modal":!1},on:{"update:visible":function(t){e.editRoleVisible=t}}},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.roles,"highlight-current-row":""},on:{"selection-change":e.selsChange}},[a("el-table-column",{attrs:{type:"selection",width:"55"}}),e._v(" "),a("el-table-column",{attrs:{type:"index",width:"60"}}),e._v(" "),a("el-table-column",{attrs:{prop:"role",label:"角色名",width:"auto",sortable:""}})],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{nativeOn:{click:function(t){e.editRoleVisible=!1}}},[e._v("取消")]),e._v(" "),a("el-button",{attrs:{type:"primary"},nativeOn:{click:function(t){return e.roleSubmit(t)}}},[e._v("提交")])],1)],1),e._v(" "),a("el-dialog",{attrs:{title:"新增",visible:e.addFormVisible,"close-on-click-modal":!1},on:{"update:visible":function(t){e.addFormVisible=t}}},[a("el-form",{ref:"addForm",attrs:{model:e.addForm,"label-width":"80px",rules:e.addFormRules}},[a("el-form-item",{attrs:{label:"用户名",prop:"nickname"}},[a("el-input",{attrs:{"auto-complete":"off"},model:{value:e.addForm.nickname,callback:function(t){e.$set(e.addForm,"nickname",t)},expression:"addForm.nickname"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"密码",prop:"pass"}},[a("el-input",{attrs:{type:"password","auto-complete":"off"},model:{value:e.addForm.pass,callback:function(t){e.$set(e.addForm,"pass",t)},expression:"addForm.pass"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"姓名",prop:"user"}},[a("el-input",{attrs:{"auto-complete":"off"},model:{value:e.addForm.user,callback:function(t){e.$set(e.addForm,"user",t)},expression:"addForm.user"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"身份证号",prop:"idCard"}},[a("el-input",{attrs:{"auto-complete":"off"},model:{value:e.addForm.idCard,callback:function(t){e.$set(e.addForm,"idCard",t)},expression:"addForm.idCard"}})],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{nativeOn:{click:function(t){e.addFormVisible=!1}}},[e._v("取消")]),e._v(" "),a("el-button",{attrs:{type:"primary",loading:e.addLoading},nativeOn:{click:function(t){return e.addSubmit(t)}}},[e._v("提交")])],1)],1)],1)],1)},staticRenderFns:[]};var _=a("VU/8")(y,w,!1,function(e){a("YKab")},null,null).exports,k={name:"NewVip",data:function(){return{sels:[],activeName:"first",giveFormVisible:!1,givefromintegral:!1,other:!1,rules:{gold:[{required:!0,message:"请输入金币数量",trigger:"blur"}],score:[{required:!0,message:"请输入积分数量",trigger:"blur"}]},normalForm:{},options:[{value:"会员用户"},{value:"非会员用户"},{value:"所有用户"}],states:[{value:"在线"},{value:"下线"}],identity:"",identity1:"",state:"",state1:"",items:[],tableData:[],details:{},vip:[],filters:{name:""},total:0,page:1,page1:0,limit:10,loading:!1,addLoading:!1,watercourse:!1,addFormRules:{nickname:[{required:!0,message:"请输入用户名",trigger:"blur"}],pass:[{required:!0,message:"请输入密码",trigger:"blur"}],user:[{required:!0,message:"请输入真实姓名",trigger:"blur"}],idCard:[{required:!0,message:"请输入身份证号",trigger:"blur"}]},addForm:{name:"",author:"",publishAt:"",description:""},giftcourse:!1,noVipAmount:"",vipAmount:"",amount:"",sorting:{}}},methods:{trim:function(e){if(null!=e)return e.replace(/(^\s+)|(\s+$)/g,"")},dateTimeFormat:function(e){var t=new Date(+e),a=function(e){return(e="0"+e).substring(e.length-2,e.length)};if(null!=t){var s=t.getFullYear(),i=t.getMonth()+1,r=t.getDate(),n=t.getHours(),o=t.getMinutes(),l=t.getSeconds();return s+"-"+a(i)+"-"+a(r)+" "+a(n)+":"+a(o)+":"+a(l)}},showother:function(e,t){var a=this;sessionStorage.setItem("id",this.vip[e].id),l()({method:"post",url:this.global.mPath+"/member/querymemberdetail",headers:{"Content-type":"application/x-www-form-urlencoded"},params:{memberId:t.id,token:sessionStorage.getItem("token")}}).then(function(e){a.loading=!1,a.details=e.data.data,a.tableData=e.data.data.roomList;for(var t=0;t<a.tableData.length;t++)1==a.tableData[t].vip?a.tableData[t].vip="是":a.tableData[t].vip="否"}).catch(function(e){if(e&&e.response)switch(e.response.status){case 504:case 500:a.$message({showClose:!0,message:"服务器异常",type:"warning"}),a.loading=!1;break;case 405:a.$message({showClose:!0,message:"请先登录",type:"warning"})}}),this.other=!0,this.addForm={name:"",author:"",publishAt:"",description:""}},givegold:function(){var e=this,t=this.sels.map(function(e){return e.id}).toString(),a=this;this.$confirm("确认赠送金币吗？","提示",{type:"warning"}).then(function(){void 0==e.normalForm.gold||""==e.normalForm.gold?e.$message({showClose:!0,message:"不能为空",type:"warning"}):e.normalForm.gold<0?e.$message({showClose:!0,message:"请输入正整数",type:"warning"}):(a.loading=!0,l()({method:"post",url:e.global.mPath+"/member/give_reward",headers:{"Content-type":"application/x-www-form-urlencoded"},params:{gold:e.trim(e.normalForm.gold),id:t,token:sessionStorage.getItem("token")}}).then(function(t){a.loading=!1,1==t.data.success?(a.$message.success({showClose:!0,message:"赠送成功",duration:1500}),e.normalForm.gold="",e.giveFormVisible=!1):a.$message.error({showClose:!0,message:err.toString(),duration:2e3})}).catch(function(t){if(t&&t.response)switch(t.response.status){case 504:case 500:e.$message({showClose:!0,message:"服务器异常",type:"warning"}),e.loading=!1;break;case 405:e.$message({showClose:!0,message:"请先登录",type:"warning"});break;case 400:e.$message({showClose:!0,message:"请按要求输入",type:"warning"}),a.loading=!1}}))})},showgold:function(e,t){this.giveFormVisible=!0,this.addForm={name:"",author:"",publishAt:"",description:""}},giveintegral:function(){var e=this,t=this.sels.map(function(e){return e.id}).toString(),a=this;this.$confirm("确认赠送金币吗？","提示",{type:"warning"}).then(function(){void 0==e.normalForm.score||""==e.normalForm.score?e.$message({showClose:!0,message:"不能为空",type:"warning"}):e.normalForm.score<0?e.$message({showClose:!0,message:"请输入正整数",type:"warning"}):(a.loading=!0,l()({method:"post",url:e.global.mPath+"/member/give_reward",headers:{"Content-type":"application/x-www-form-urlencoded"},params:{score:e.trim(e.normalForm.score),id:t,token:sessionStorage.getItem("token")}}).then(function(t){a.loading=!1,1==t.data.success?(a.$message.success({showClose:!0,message:"赠送成功",duration:1500}),e.normalForm.score="",e.givefromintegral=!1):a.$message.error({showClose:!0,message:err.toString(),duration:2e3})}).catch(function(t){if(t&&t.response)switch(t.response.status){case 504:case 500:e.$message({showClose:!0,message:"服务器异常",type:"warning"}),e.loading=!1;break;case 405:e.$message({showClose:!0,message:"请先登录",type:"warning"});break;case 400:e.$message({showClose:!0,message:"请按要求输入",type:"warning"})}}))})},showintegral:function(e,t){this.givefromintegral=!0,this.addForm={name:"",author:"",publishAt:"",description:""}},ChangePage:function(e){this.page=e,this.jade(sessionStorage.getItem("id"),this.page)},ChangePage1:function(e){this.page1=e,this.certificate(sessionStorage.getItem("ID"),this.page1)},goldwathercourse:function(e){sessionStorage.setItem("id",e),this.watercourse=!0,this.jade(e,1),this.page=1},jade:function(e,t){var a=this;l()({method:"post",url:this.global.mPath+"/member/querygoldrecord",headers:{"Content-type":"application/x-www-form-urlencoded"},params:{size:"15",page:t,memberId:e,token:sessionStorage.getItem("token")}}).then(function(e){a.loading=!1,a.items=e.data.data.items,a.page=e.data.data.pageCount;for(var t=0;t<a.items.length;t++)a.items[t].accountingTime=a.dateTimeFormat(a.items[t].accountingTime)}).catch(function(e){if(e&&e.response)switch(e.response.status){case 504:case 500:a.$message({showClose:!0,message:"服务器异常",type:"warning"}),a.loading=!1;break;case 405:a.$message({showClose:!0,message:"请先登录",type:"warning"})}})},integral:function(e){sessionStorage.setItem("ID",e),this.giftcourse=!0,this.certificate(e,1),this.page1=1},certificate:function(e,t){var a=this;l()({method:"post",url:this.global.mPath+"/member/queryscorerecord",headers:{"Content-type":"application/x-www-form-urlencoded"},params:{size:"15",page:t,memberId:e,token:sessionStorage.getItem("token")}}).then(function(e){a.loading=!1,a.items=e.data.data.items,a.page1=e.data.data.pageCount;for(var t=0;t<a.items.length;t++)a.items[t].accountingTime=a.dateTimeFormat(a.items[t].accountingTime)}).catch(function(e){if(e&&e.response)switch(e.response.status){case 504:case 500:a.$message({showClose:!0,message:"服务器异常",type:"warning"}),a.loading=!1;break;case 405:a.$message({showClose:!0,message:"请先登录",type:"warning"})}})},handleCurrentChange:function(e){this.page=e,this.sort(this.sorting)},selsChange:function(e){this.sels=e},handleSearch:function(e,t,a,s,i,r,n,o,c){var u=this;"会员用户"==this.identity?this.identity1=!0:"非会员用户"==this.identity?this.identity1=!1:this.identity1="","在线"==this.state?this.state1="online":"下线"==this.state&&(this.state1="offline"),this.loading=!0,l()({method:"post",url:this.global.mPath+"/member/querymember",headers:{"Content-type":"application/x-www-form-urlencoded"},params:{size:"10",page:this.page,token:sessionStorage.getItem("token"),id:this.filters.id,nickname:this.filters.nickname,isVip:this.identity1,onlineState:this.state1,goldSort:e,scoreSort:t,createTimeSort:a,vipSort:s,vipEndTimeSort:i,vipLevelSort:r,vipScoreSort:n,onlineStateSort:o,verifyUserSort:c}}).then(function(e){u.loading=!1,u.amount=e.data.data.amount,u.vipAmount=e.data.data.vipAmount,u.noVipAmount=e.data.data.noVipAmount,u.vip=e.data.data.memberList.items,u.total=e.data.data.memberList.pageCount;for(var t=0;t<u.vip.length;t++)u.vip[t].vipEndTime=u.dateTimeFormat(u.vip[t].vipEndTime),u.vip[t].createTime=u.dateTimeFormat(u.vip[t].createTime),1==u.vip[t].vip?u.vip[t].vip="是":u.vip[t].vip="否",1==u.vip[t].verifyUser?u.vip[t].verifyUser="是":u.vip[t].verifyUser="否"}).catch(function(e){if(e&&e.response)switch(e.response.status){case 504:case 500:u.$message({showClose:!0,message:"服务器异常",type:"warning"}),u.loading=!1;break;case 405:u.$message({showClose:!0,message:"请先登录",type:"warning"})}})},sort:function(e){this.sorting=e,"gold"==this.sorting.prop&&("ascending"==this.sorting.order&&(this.sorting.gold="ASC"),"descending"==this.sorting.order&&(this.sorting.gold="DESC")),"score"==this.sorting.prop&&("ascending"==this.sorting.order&&(this.sorting.score="ASC"),"descending"==this.sorting.order&&(this.sorting.score="DESC")),"createTime"==this.sorting.prop&&("ascending"==this.sorting.order&&(this.sorting.createTime="ASC"),"descending"==this.sorting.order&&(this.sorting.createTime="DESC")),"vip"==this.sorting.prop&&("ascending"==this.sorting.order&&(this.sorting.vip="ASC"),"descending"==this.sorting.order&&(this.sorting.vip="DESC")),"vipEndTime"==this.sorting.prop&&("ascending"==this.sorting.order&&(this.sorting.vipEndTime="ASC"),"descending"==this.sorting.order&&(this.sorting.vipEndTime="DESC")),"vipLevel"==this.sorting.prop&&("ascending"==this.sorting.order&&(this.sorting.vipLevel="ASC"),"descending"==this.sorting.order&&(this.sorting.vipLevel="DESC")),"vipScore"==this.sorting.prop&&("ascending"==this.sorting.order&&(this.sorting.vipScore="ASC"),"descending"==this.sorting.order&&(this.sorting.vipScore="DESC")),"onlineState"==this.sorting.prop&&("ascending"==this.sorting.order&&(this.sorting.onlineState="ASC"),"descending"==this.sorting.order&&(this.sorting.onlineState="DESC")),"verifyUser"==this.sorting.prop&&("ascending"==this.sorting.order&&(this.sorting.verifyUser="ASC"),"descending"==this.sorting.order&&(this.sorting.verifyUser="DESC")),this.handleSearch(this.sorting.gold,this.sorting.score,this.sorting.createTime,this.sorting.vip,this.sorting.vipEndTime,this.sorting.vipLevel,this.sorting.vipScore,this.sorting.onlineState,this.sorting.verifyUser)}},mounted:function(){this.handleSearch()}},C={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-row",{staticClass:"warp"},[a("el-col",{staticClass:"warp-breadcrum",attrs:{span:24}},[a("el-breadcrumb",{attrs:{separator:"/"}},[a("el-breadcrumb-item",{attrs:{to:{path:"/"}}},[a("b",[e._v("会员中心")])]),e._v(" "),a("el-breadcrumb-item",[e._v("用户管理")])],1)],1),e._v(" "),a("el-row",{staticStyle:{"margin-top":"30px"},attrs:{gutter:20}},[a("el-col",{attrs:{span:6}},[a("div",{staticClass:"grid-content bg-purple"},[a("div",{staticClass:"type"},[e._v("所有用户")]),e._v(" "),a("div",{staticClass:"num"},[e._v(e._s(e.amount)+"人")])])]),e._v(" "),a("el-col",{attrs:{span:6}},[a("div",{staticClass:"grid-content bg-purple"},[a("div",{staticClass:"type"},[e._v("会员用户")]),e._v(" "),a("div",{staticClass:"num"},[e._v(e._s(e.vipAmount)+"人")])])]),e._v(" "),a("el-col",{attrs:{span:6}},[a("div",{staticClass:"grid-content bg-purple"},[a("div",{staticClass:"type"},[e._v("非会员用户")]),e._v(" "),a("div",{staticClass:"num"},[e._v(e._s(e.noVipAmount)+"人")])])])],1),e._v(" "),a("el-col",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticClass:"warp-main",attrs:{span:24,"element-loading-text":"拼命加载中"}},[a("el-col",{staticClass:"toolbar",staticStyle:{"padding-bottom":"0px"},attrs:{span:24}},[a("el-form",{attrs:{inline:!0,model:e.filters}},[a("el-form-item",[a("el-input",{attrs:{placeholder:"用户ID"},nativeOn:{keyup:function(t){if(!("button"in t)&&e._k(t.keyCode,"enter",13,t.key,"Enter"))return null;e.handleSearch()}},model:{value:e.filters.id,callback:function(t){e.$set(e.filters,"id",t)},expression:"filters.id"}})],1),e._v(" "),a("el-form-item",[a("el-input",{attrs:{placeholder:"用户昵称"},nativeOn:{keyup:function(t){if(!("button"in t)&&e._k(t.keyCode,"enter",13,t.key,"Enter"))return null;e.handleSearch()}},model:{value:e.filters.nickname,callback:function(t){e.$set(e.filters,"nickname",t)},expression:"filters.nickname"}})],1),e._v(" "),a("el-form-item",[a("el-select",{attrs:{placeholder:"请选择身份进行查询"},on:{change:function(t){e.handleSearch()}},model:{value:e.identity,callback:function(t){e.identity=t},expression:"identity"}},e._l(e.options,function(e){return a("el-option",{key:e.value,attrs:{value:e.value}})}))],1),e._v(" "),a("el-form-item",[a("el-select",{attrs:{placeholder:"请选择在线状态"},on:{change:function(t){e.handleSearch()}},model:{value:e.state,callback:function(t){e.state=t},expression:"state"}},e._l(e.states,function(e){return a("el-option",{key:e.value,attrs:{value:e.value}})}))],1),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:e.showgold}},[e._v("赠送玉石")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:e.showintegral}},[e._v("赠送礼券")])],1)],1),e._v(" "),a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.vip,"highlight-current-row":""},on:{"selection-change":e.selsChange,"sort-change":e.sort}},[a("el-table-column",{attrs:{type:"selection",width:"55"}}),e._v(" "),a("el-table-column",{attrs:{type:"index",width:"40"}}),e._v(" "),a("el-table-column",{attrs:{prop:"id",label:"用户ID",width:"90"}}),e._v(" "),a("el-table-column",{attrs:{prop:"headimgurl",label:"用户头像",width:"100"},scopedSlots:e._u([{key:"default",fn:function(e){return[a("img",{staticStyle:{width:"50px",height:"50px"},attrs:{src:e.row.headimgurl,alt:""}})]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"nickname",label:"用户名称",width:"100"}}),e._v(" "),a("el-table-column",{attrs:{prop:"gold",label:"玉石剩余量",width:"120",sortable:"custom"}}),e._v(" "),a("el-table-column",{attrs:{prop:"score",label:"礼券剩余量",width:"120",sortable:"custom"}}),e._v(" "),a("el-table-column",{attrs:{prop:"createTime",label:"注册时间",width:"100",sortable:"custom"}}),e._v(" "),a("el-table-column",{attrs:{prop:"vip",label:"是否会员",width:"100",sortable:"custom"}}),e._v(" "),a("el-table-column",{attrs:{prop:"vipEndTime",label:"到期时间",width:"100",sortable:"custom"}}),e._v(" "),a("el-table-column",{attrs:{prop:"vipLevel",label:"会员等级",width:"100",sortable:"custom"}}),e._v(" "),a("el-table-column",{attrs:{prop:"vipScore",label:"会员积分",width:"100",sortable:"custom"}}),e._v(" "),a("el-table-column",{attrs:{prop:"onlineState",label:"在线状态",width:"100",sortable:"custom"}}),e._v(" "),a("el-table-column",{attrs:{prop:"verifyUser",label:"是否通过实名认证",width:"160",sortable:"custom"}}),e._v(" "),a("el-table-column",{attrs:{label:"流水",width:"80"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{staticStyle:{margin:"0"},attrs:{type:"primary"},on:{click:function(a){e.goldwathercourse(t.row.id)}}},[e._v("玉石")]),e._v(" "),a("el-button",{staticStyle:{margin:"10px 0 0 0"},attrs:{type:"primary"},on:{click:function(a){e.integral(t.row.id)}}},[e._v("礼券")])]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"other",label:"其他信息"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"text"},on:{click:function(a){e.showother(t.$index,t.row)}}},[e._v("详细信息")])]}}])})],1),e._v(" "),a("el-col",{staticClass:"toolbar",attrs:{span:24}},[a("el-pagination",{staticStyle:{float:"right"},attrs:{layout:"prev, pager, next","page-size":1,total:e.total},on:{"current-change":e.handleCurrentChange}})],1),e._v(" "),a("el-dialog",{attrs:{title:"赠送玉石",visible:e.giveFormVisible,"close-on-click-modal":!1},on:{"update:visible":function(t){e.giveFormVisible=t}}},[a("el-form",{staticClass:"demo-ruleForm",attrs:{model:e.normalForm,"label-width":"100px",rules:e.rules}},[a("el-form-item",{attrs:{label:"玉石数量",prop:"gold"}},[a("el-input",{attrs:{type:"number",min:"0",placeholder:"请输入正整数","auto-complete":"off"},model:{value:e.normalForm.gold,callback:function(t){e.$set(e.normalForm,"gold",t)},expression:"normalForm.gold"}})],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:e.givegold}},[e._v("赠送")]),e._v(" "),a("el-button",{attrs:{type:"primary"},nativeOn:{click:function(t){e.giveFormVisible=!1}}},[e._v("取消")])],1)],1)],1),e._v(" "),a("el-dialog",{attrs:{title:"赠送礼券",visible:e.givefromintegral,"close-on-click-modal":!1},on:{"update:visible":function(t){e.givefromintegral=t}}},[a("el-form",{staticClass:"demo-ruleForm",attrs:{model:e.normalForm,"label-width":"100px",rules:e.rules}},[a("el-form-item",{attrs:{label:"礼券数量",prop:"score"}},[a("el-input",{attrs:{type:"number",min:"0",placeholder:"请输入正整数","auto-complete":"off"},model:{value:e.normalForm.score,callback:function(t){e.$set(e.normalForm,"score",t)},expression:"normalForm.score"}})],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:e.giveintegral}},[e._v("赠送")]),e._v(" "),a("el-button",{attrs:{type:"primary"},nativeOn:{click:function(t){e.givefromintegral=!1}}},[e._v("取消")])],1)],1)],1),e._v(" "),a("el-dialog",{staticStyle:{"padding-bottom":"20px"},attrs:{title:"流水",visible:e.watercourse,"close-on-click-modal":!1},on:{"update:visible":function(t){e.watercourse=t}}},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.items,"highlight-current-row":""},on:{"selection-change":e.selsChange}},[a("el-table-column",{attrs:{prop:"accountingNo",label:"流水号",width:"90"}}),e._v(" "),a("el-table-column",{attrs:{prop:"accountingAmount",label:"变化数量",width:"100"}}),e._v(" "),a("el-table-column",{attrs:{prop:"balanceAfter",label:"剩余量",width:"90"}}),e._v(" "),a("el-table-column",{attrs:{prop:"summary.text",label:"操作原因",width:"150"}}),e._v(" "),a("el-table-column",{attrs:{prop:"accountingTime",label:"操作时间",width:"auto"}})],1),e._v(" "),a("el-col",{staticClass:"toolbars",attrs:{span:24}},[a("el-pagination",{staticStyle:{float:"right"},attrs:{layout:"prev, pager, next","page-size":1,total:e.page},on:{"current-change":e.ChangePage}})],1)],1),e._v(" "),a("el-dialog",{staticStyle:{"padding-bottom":"20px"},attrs:{title:"流水",visible:e.giftcourse,"close-on-click-modal":!1},on:{"update:visible":function(t){e.giftcourse=t}}},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.items,"highlight-current-row":""},on:{"selection-change":e.selsChange}},[a("el-table-column",{attrs:{prop:"accountingNo",label:"流水号",width:"90"}}),e._v(" "),a("el-table-column",{attrs:{prop:"accountingAmount",label:"变化数量",width:"100"}}),e._v(" "),a("el-table-column",{attrs:{prop:"balanceAfter",label:"剩余量",width:"90"}}),e._v(" "),a("el-table-column",{attrs:{prop:"summary.text",label:"操作原因",width:"150"}}),e._v(" "),a("el-table-column",{attrs:{prop:"accountingTime",label:"操作时间",width:"auto"}})],1),e._v(" "),a("el-col",{staticClass:"toolbars",attrs:{span:24}},[a("el-pagination",{staticStyle:{float:"right"},attrs:{layout:"prev, pager, next","page-size":1,total:e.page1},on:{"current-change":e.ChangePage1}})],1)],1),e._v(" "),a("el-dialog",{staticStyle:{width:"80%"},attrs:{title:"详情",visible:e.other,"close-on-click-modal":!1},on:{"update:visible":function(t){e.other=t}}},[a("el-form",{ref:"details",attrs:{model:e.details,"label-width":"150px"}},[a("el-form-item",{attrs:{label:"真实姓名："}},[a("el-button",{staticStyle:{color:"#000"},attrs:{type:"text"}},[e._v(e._s(e.details.realName))])],1),e._v(" "),a("el-form-item",{attrs:{label:"性别："}},[a("el-button",{staticStyle:{color:"#000"},attrs:{type:"text"}},[e._v(e._s(e.details.gender))])],1),e._v(" "),a("el-form-item",{attrs:{label:"手机号码："}},[a("el-button",{staticStyle:{color:"#000"},attrs:{type:"text"}},[e._v(e._s(e.details.phone))])],1),e._v(" "),a("el-form-item",{attrs:{label:"身份证号："}},[a("el-button",{staticStyle:{color:"#000"},attrs:{type:"text"}},[e._v(e._s(e.details.verifyUser))])],1),e._v(" "),a("el-form-item",{attrs:{label:"会员总消费："}},[a("el-button",{staticStyle:{color:"#000"},attrs:{type:"text"}},[e._v(e._s(e.details.cost)+"元")])],1),e._v(" "),a("el-form-item",{attrs:{label:"登录时间："}},[a("el-button",{staticStyle:{color:"#000"},attrs:{type:"text"}},[e._v(e._s(e.details.loginTime))])],1),e._v(" "),a("el-form-item",{attrs:{label:"登录ip："}},[a("el-button",{staticStyle:{color:"#000"},attrs:{type:"text"}},[e._v(e._s(e.details.loginIp))])],1),e._v(" "),a("el-form-item",{attrs:{label:"在线时间："}},[a("el-button",{staticStyle:{color:"#000"},attrs:{type:"text"}},[e._v(e._s(e.details.onlineTime))])],1),e._v(" "),a("el-form-item",{attrs:{label:"正在游戏的房间："}},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.tableData}},[a("el-table-column",{attrs:{prop:"no",label:"游戏房间号",width:"180"}}),e._v(" "),a("el-table-column",{attrs:{prop:"game",label:"游戏名称",width:"180"}}),e._v(" "),a("el-table-column",{attrs:{prop:"vip",label:"是否VIP房间"}}),e._v(" "),a("el-table-column",{attrs:{prop:"playersCount",label:"玩家人数"}}),e._v(" "),a("el-table-column",{attrs:{prop:"panCountPerJu",label:"每局盘数"}}),e._v(" "),a("el-table-column",{attrs:{prop:"currentPanNum",label:"当前盘数"}})],1)],1)],1)],1)],1)],1)},staticRenderFns:[]};var x=a("VU/8")(k,C,!1,function(e){a("m592")},null,null).exports,S={name:"MemberRules",data:function(){return{normalshow:!1,membershow:!1,memberDisplay:!1,options:[{value:"普通用户",label:"普通用户"},{value:"会员用户",label:"会员用户"}],card:[{value:"选项1",label:"周卡"},{value:"选项2",label:"月卡"},{value:"选项3",label:"季卡"}],value8:"",value:"",normalForm:{},memberForm:{},rules:{newnumber:[{required:!0,message:"请输入玉石数量",trigger:"blur"}],number1:[{required:!0,message:"请输入玉石数量",trigger:"blur"}],number4:[{required:!0,message:"请输入礼券数量",trigger:"blur"}],speed:[{required:!0,message:"请输入增长速度",trigger:"blur"}],createprice:[{required:!0,message:"请输入玉石价格",trigger:"blur"}],price:[{required:!0,message:"请输入玉石价格",trigger:"blur"}],rooms:[{required:!0,message:"请输入房间数量",trigger:"blur"}],number:[{required:!0,message:"请输入房间数量",trigger:"blur"}],hours:[{required:!0,message:"请输入时间",trigger:"blur"}],memberCard:[{required:!0,message:"请选择会员卡类型",trigger:"blur"}],money:[{required:!0,message:"请输入金额",trigger:"blur"}],integral:[{required:!0,message:"请输入礼券数量",trigger:"blur"}],gold:[{required:!0,message:"请输入玉石数量",trigger:"blur"}]}}},methods:{trim:function(e){if(null!=e)return e.replace(/(^\s+)|(\s+$)/g,"")},change:function(e){var t=this;"普通用户"==this.value8?(this.normalshow=!0,this.membershow=!1,l()({method:"post",url:this.global.mPath+"/rights/commonrights",headers:{"Content-type":"application/x-www-form-urlencoded"},params:{token:sessionStorage.getItem("token")}}).then(function(e){t.normalForm=e.data})):(this.normalshow=!1,this.membershow=!0,l()({method:"post",url:this.global.mPath+"/rights/viprights",headers:{"Content-type":"application/x-www-form-urlencoded"},params:{token:sessionStorage.getItem("token")}}).then(function(e){t.memberForm=e.data}))},submitForm:function(){var e=this;l()({method:"post",url:this.global.mPath+"/rights/commonuser",headers:{"Content-type":"application/x-www-form-urlencoded"},params:{signGoldNumber:this.normalForm.signGoldNumber,shareIntegralNumber:this.normalForm.shareIntegralNumber,goldForNewNember:this.normalForm.goldForNewNember,shareGoldNumber:this.normalForm.shareGoldNumber,inviteIntegralNumber:this.normalForm.inviteIntegralNumber,planGrowIntegralSpeed:this.normalForm.planGrowIntegralSpeed,planMemberCreateRoomDailyGoldPrice:this.normalForm.planMemberCreateRoomDailyGoldPrice,planMemberJoinRoomGoldPrice:this.normalForm.planMemberaddRoomDailyGoldPrice,planMemberRoomsCount:this.normalForm.planMemberRoomsCount,planMemberMaxCreateRoomDaily:this.normalForm.planMemberMaxCreateRoomDaily,planMemberRoomsAliveHours:this.normalForm.planMemberRoomsAliveHours,token:sessionStorage.getItem("token")}}).then(function(t){console.log(t),"fail"==t.data?e.$message({showClose:!0,message:"设置失败",type:"warning"}):"success"==t.data&&(e.$message({showClose:!0,message:"设置成功",type:"success"}),e.change("普通用户"))}).catch(function(t){if(t&&t.response)switch(t.response.status){case 504:e.$message({showClose:!0,message:"服务器异常",type:"warning"});break;case 405:e.$message({showClose:!0,message:"请先登录",type:"warning"})}})},submitmemberForm:function(){var e=this;console.log(this.memberForm.vipMemberRoomsCount),l()({method:"post",url:this.global.mPath+"/rights/vipuser",headers:{"Content-type":"application/x-www-form-urlencoded"},params:{signGoldNumber:this.memberForm.signGoldNumber,shareIntegralNumber:this.memberForm.shareIntegralNumber,shareGoldNumber:this.memberForm.shareGoldNumber,inviteIntegralNumber:this.memberForm.inviteIntegralNumber,vipGrowIntegralSpeed:this.memberForm.vipGrowIntegralSpeed,vipGrowGradeSpeed:this.memberForm.vipGrowGradeSpeed,vipMemberRoomsCount:this.memberForm.vipMemberRoomsCount,vipMemberRoomsAliveHours:this.memberForm.vipMemberRoomsAliveHours,token:sessionStorage.getItem("token")}}).then(function(t){console.log(t),"fail"==t.data?e.$message({showClose:!0,message:"设置失败",type:"warning"}):"success"==t.data&&(e.$message({showClose:!0,message:"设置成功",type:"success"}),e.change("会员用户"))}).catch(function(t){if(t&&t.response)switch(t.response.status){case 504:e.$message({showClose:!0,message:"服务器异常",type:"warning"});break;case 405:e.$message({showClose:!0,message:"请先登录",type:"warning"})}})}}},F={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-row",{staticClass:"warp"},[a("el-col",{staticClass:"warp-breadcrum",attrs:{span:24}},[a("el-breadcrumb",{attrs:{separator:"/"}},[a("el-breadcrumb-item",{attrs:{to:{path:"/"}}},[a("b",[e._v("会员中心")])]),e._v(" "),a("el-breadcrumb-item",[e._v("会员权益")])],1)],1),e._v(" "),a("el-select",{staticClass:"choice",attrs:{filterable:"",placeholder:"请选择"},on:{change:function(t){e.change(e.value8)}},model:{value:e.value8,callback:function(t){e.value8=t},expression:"value8"}},e._l(e.options,function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),e._v(" "),a("el-form",{directives:[{name:"show",rawName:"v-show",value:e.normalshow,expression:"normalshow"}],ref:"normalForm",staticClass:"demo-ruleForm",attrs:{model:e.normalForm,rules:e.rules,"label-width":"250px"}},[a("el-form-item",{attrs:{label:"新用户注册赠送的玉石数量",prop:"goldForNewNember "}},[a("el-input",{model:{value:e.normalForm.goldForNewNember,callback:function(t){e.$set(e.normalForm,"goldForNewNember",t)},expression:"normalForm.goldForNewNember "}})],1),e._v(" "),a("el-form-item",{attrs:{label:"签到得玉石数量",prop:"signGoldNumber "}},[a("el-input",{model:{value:e.normalForm.signGoldNumber,callback:function(t){e.$set(e.normalForm,"signGoldNumber",t)},expression:"normalForm.signGoldNumber "}})],1),e._v(" "),a("el-form-item",{attrs:{label:"邀请得礼券数量",prop:"inviteIntegralNumber"}},[a("el-input",{model:{value:e.normalForm.inviteIntegralNumber,callback:function(t){e.$set(e.normalForm,"inviteIntegralNumber",t)},expression:"normalForm.inviteIntegralNumber"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"礼券增长速度",prop:"planGrowIntegralSpeed"}},[a("el-input",{model:{value:e.normalForm.planGrowIntegralSpeed,callback:function(t){e.$set(e.normalForm,"planGrowIntegralSpeed",t)},expression:"normalForm.planGrowIntegralSpeed"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"创建会员玩法房间的玉石价格",prop:"planMemberCreateRoomDailyGoldPrice"}},[a("el-input",{model:{value:e.normalForm.planMemberCreateRoomDailyGoldPrice,callback:function(t){e.$set(e.normalForm,"planMemberCreateRoomDailyGoldPrice",t)},expression:"normalForm.planMemberCreateRoomDailyGoldPrice"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"加入会员玩法房间的玉石价格",prop:"planMemberaddRoomDailyGoldPrice"}},[a("el-input",{model:{value:e.normalForm.planMemberaddRoomDailyGoldPrice,callback:function(t){e.$set(e.normalForm,"planMemberaddRoomDailyGoldPrice",t)},expression:"normalForm.planMemberaddRoomDailyGoldPrice"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"加入会员玩法每天可开的房间数量",prop:"planMemberMaxCreateRoomDaily"}},[a("el-input",{model:{value:e.normalForm.planMemberMaxCreateRoomDaily,callback:function(t){e.$set(e.normalForm,"planMemberMaxCreateRoomDaily",t)},expression:"normalForm.planMemberMaxCreateRoomDaily"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"保存房间数量",prop:"planMemberRoomsCount"}},[a("el-input",{model:{value:e.normalForm.planMemberRoomsCount,callback:function(t){e.$set(e.normalForm,"planMemberRoomsCount",t)},expression:"normalForm.planMemberRoomsCount"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"房间存活小时数",prop:"planMemberRoomsAliveHours"}},[a("el-input",{model:{value:e.normalForm.planMemberRoomsAliveHours,callback:function(t){e.$set(e.normalForm,"planMemberRoomsAliveHours",t)},expression:"normalForm.planMemberRoomsAliveHours"}})],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.submitForm("normalForm")}}},[e._v("立即设置")]),e._v(" "),a("el-button",{on:{click:function(t){e.change("普通用户")}}},[e._v("重置")])],1)],1),e._v(" "),a("el-form",{directives:[{name:"show",rawName:"v-show",value:e.membershow,expression:"membershow"}],ref:"memberForm",staticClass:"demo-ruleForm",attrs:{model:e.memberForm,rules:e.rules,"label-width":"150px"}},[a("el-form-item",{attrs:{label:"签到得玉石数量",prop:"signGoldNumber "}},[a("el-input",{model:{value:e.memberForm.signGoldNumber,callback:function(t){e.$set(e.memberForm,"signGoldNumber",t)},expression:"memberForm.signGoldNumber "}})],1),e._v(" "),a("el-form-item",{attrs:{label:"邀请得礼券数量",prop:"inviteIntegralNumber"}},[a("el-input",{model:{value:e.memberForm.inviteIntegralNumber,callback:function(t){e.$set(e.memberForm,"inviteIntegralNumber",t)},expression:"memberForm.inviteIntegralNumber"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"礼券增长速度",prop:"vipGrowIntegralSpeed"}},[a("el-input",{model:{value:e.memberForm.vipGrowIntegralSpeed,callback:function(t){e.$set(e.memberForm,"vipGrowIntegralSpeed",t)},expression:"memberForm.vipGrowIntegralSpeed"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"等级增长速度",prop:"vipGrowGradeSpeed"}},[a("el-input",{model:{value:e.memberForm.vipGrowGradeSpeed,callback:function(t){e.$set(e.memberForm,"vipGrowGradeSpeed",t)},expression:"memberForm.vipGrowGradeSpeed"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"保存房间数量",prop:"vipMemberRoomsCount"}},[a("el-input",{model:{value:e.memberForm.vipMemberRoomsCount,callback:function(t){e.$set(e.memberForm,"vipMemberRoomsCount",t)},expression:"memberForm.vipMemberRoomsCount"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"房间存活小时数",prop:"vipMemberRoomsAliveHours"}},[a("el-input",{model:{value:e.memberForm.vipMemberRoomsAliveHours,callback:function(t){e.$set(e.memberForm,"vipMemberRoomsAliveHours",t)},expression:"memberForm.vipMemberRoomsAliveHours"}})],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.submitmemberForm()}}},[e._v("立即设置")]),e._v(" "),a("el-button",{on:{click:function(t){e.change("会员用户")}}},[e._v("重置")])],1)],1)],1)},staticRenderFns:[]};var T=a("VU/8")(S,F,!1,function(e){a("K4Vv")},"data-v-93a5c3f8",null).exports,$={name:"SystemMaintenance",data:function(){return{imageUrl:"",domain:"http://up.qiniu.com",qiniuaddr:"qiniu.3cscy.com",normalForm:{},rules:{title:[{required:!0,message:"请输入标题",trigger:"blur"}],file:[{required:!0,message:"请选择图片",trigger:"blur"}]},list:[],filters:{name:""},total:0,loading:!1,addFormVisible:!1}},methods:{trim:function(e){if(null!=e)return e.replace(/(^\s+)|(\s+$)/g,"")},upqiniu:function(e){var t=this;console.log(e);var a={headers:{"Content-Type":"multipart/form-data"}},s="";s="image/png"===e.file.type?"png":"jpg";var i="anbang"+Math.random()+"."+s;l()({method:"post",url:this.global.mPath+"/mailctrl/uptoken",headers:{"Content-type":"application/x-www-form-urlencoded"},params:{token:sessionStorage.getItem("token")}}).then(function(s){var r=new FormData;r.append("file",e.file),r.append("token",s.data.data),r.append("key",i),l.a.post(t.domain,r,a).then(function(e){t.imageUrl="http://"+t.qiniuaddr+"/"+e.data.key})})},beforeUpload:function(e){var t="image/jpeg"===e.type||"image/png"===e.type,a=e.size/1024/1024<2;return t||this.$message.error("上传头像图片只能是 JPG 格式!"),a||this.$message.error("上传头像图片大小不能超过 2MB!"),t&&a},issue:function(e){var t=this;void 0==this.normalForm.title||""==this.normalForm.title?this.$message({showClose:!0,message:"标题和图片不能为空",type:"warning"}):l()({method:"post",url:this.global.mPath+"/mailctrl/addmail",headers:{"Content-type":"application/x-www-form-urlencoded"},params:{status:"0",title:this.trim(this.normalForm.title),file:this.imageUrl,token:sessionStorage.getItem("token")}}).then(function(e){t.$message({showClose:!0,message:"发布成功",type:"success"}),t.normalForm.title="",t.normalForm.file="",t.addFormVisible=!1,t.handleSearch()}).catch(function(e){if(e&&e.response)switch(e.response.status){case 504:case 500:t.$message({showClose:!0,message:"服务器异常",type:"warning"}),t.loading=!1;break;case 405:t.$message({showClose:!0,message:"请先登录",type:"warning"})}})},showAddDialog:function(){this.addFormVisible=!0,this.addForm={name:"",author:"",publishAt:"",description:""}},handleCurrentChange:function(e){this.page=e,this.handleSearch(this.page)},handleSearch:function(){var e=this;this.loading=!0,l()({method:"post",url:this.global.mPath+"/mailctrl/querymail",headers:{"Content-type":"application/x-www-form-urlencoded"},params:{status:"0",size:"15",page:this.page,adminname:this.trim(this.filters.adminname),token:sessionStorage.getItem("token")}}).then(function(t){e.loading=!1,e.list=t.data.list,e.total=t.data.count}).catch(function(t){if(t&&t.response)switch(t.response.status){case 504:case 500:e.$message({showClose:!0,message:"服务器异常",type:"warning"}),e.loading=!1;break;case 405:e.$message({showClose:!0,message:"请先登录",type:"warning"})}})},selsChange:function(e){this.sels=e}},mounted:function(){this.handleSearch()}},D={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-row",{staticClass:"warp"},[a("el-col",{staticClass:"warp-breadcrum",attrs:{span:24}},[a("el-breadcrumb",{attrs:{separator:"/"}},[a("el-breadcrumb-item",{attrs:{to:{path:"/"}}},[a("b",[e._v("系统设置")])]),e._v(" "),a("el-breadcrumb-item",[e._v("系统维护")])],1)],1),e._v(" "),a("el-col",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticClass:"warp-main",attrs:{span:24,"element-loading-text":"拼命加载中"}},[a("el-col",{staticClass:"toolbar",staticStyle:{"padding-bottom":"0px"},attrs:{span:24}},[a("el-form",{attrs:{inline:!0,model:e.filters}},[a("el-form-item",[a("el-input",{attrs:{placeholder:"管理员名称"},nativeOn:{keyup:function(t){return"button"in t||!e._k(t.keyCode,"enter",13,t.key,"Enter")?e.handleSearch(t):null}},model:{value:e.filters.adminname,callback:function(t){e.$set(e.filters,"adminname",t)},expression:"filters.adminname"}})],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:e.handleSearch}},[e._v("查询")])],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:e.showAddDialog}},[e._v("维护系统")])],1)],1)],1),e._v(" "),a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.list,"highlight-current-row":""},on:{"selection-change":e.selsChange}},[a("el-table-column",{attrs:{type:"index",width:"60"}}),e._v(" "),a("el-table-column",{attrs:{prop:"adminname",label:"管理员名称",width:"160"}}),e._v(" "),a("el-table-column",{attrs:{prop:"title",label:"标题",width:"180"}}),e._v(" "),a("el-table-column",{attrs:{prop:"file",label:"内容",width:"100"},scopedSlots:e._u([{key:"default",fn:function(e){return[a("img",{staticStyle:{width:"50px",height:"50px"},attrs:{src:e.row.file,alt:""}})]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"number",label:"玉石数量",width:"140"}}),e._v(" "),a("el-table-column",{attrs:{prop:"integral",label:"礼券数量",width:"140"}}),e._v(" "),a("el-table-column",{attrs:{prop:"vipcard",label:"会员卡体验时间(天)"}})],1),e._v(" "),a("el-col",{staticClass:"toolbar",attrs:{span:24}},[a("el-pagination",{staticStyle:{float:"right"},attrs:{layout:"prev, pager, next","page-size":1,total:e.total},on:{"current-change":e.handleCurrentChange}})],1),e._v(" "),a("el-dialog",{attrs:{title:"系统维护",visible:e.addFormVisible,"close-on-click-modal":!1},on:{"update:visible":function(t){e.addFormVisible=t}}},[a("el-form",{staticClass:"demo-ruleForm",attrs:{model:e.normalForm,"label-width":"100px",rules:e.rules}},[a("el-form-item",{attrs:{label:"标题",prop:"title"}},[a("el-input",{attrs:{"auto-complete":"off"},model:{value:e.normalForm.title,callback:function(t){e.$set(e.normalForm,"title",t)},expression:"normalForm.title"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"图片",prop:"file"}},[a("div",{staticClass:"upload"},[a("el-upload",{staticClass:"avatar-uploader",attrs:{action:e.domain,"http-request":e.upqiniu,"show-file-list":!1,"before-upload":e.beforeUpload}},[e.imageUrl?a("img",{staticClass:"avatar",attrs:{src:e.imageUrl}}):a("el-button",{staticClass:"el-icon-plus avatar-uploader-icon"})],1)],1)]),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:e.issue}},[e._v("发布")]),e._v(" "),a("el-button",{attrs:{type:"primary"},nativeOn:{click:function(t){e.addFormVisible=!1}}},[e._v("取消")])],1)],1)],1)],1)],1)},staticRenderFns:[]};var I=a("VU/8")($,D,!1,function(e){a("ISg2")},"data-v-2d5f3004",null).exports,P={name:"SystemRecovery",data:function(){return{imageUrl:"",domain:"http://up.qiniu.com",qiniuaddr:"qiniu.3cscy.com",memberDisplay:!1,options:[{value:"选项1",label:"不设置奖励"},{value:"选项2",label:"设置奖励"}],value:"",normalForm:{},rules:{title:[{required:!0,message:"请输入标题",trigger:"blur"}],file:[{required:!0,message:"请选择图片",trigger:"blur"}]},list:[],filters:{name:""},total:0,loading:!1,addFormVisible:!1}},methods:{trim:function(e){if(null!=e)return e.replace(/(^\s+)|(\s+$)/g,"")},upqiniu:function(e){var t=this,a={headers:{"Content-Type":"multipart/form-data"}},s="";s="image/png"===e.file.type?"png":"jpg";var i="anbang"+Math.random()+"."+s;l()({method:"post",url:this.global.mPath+"/mailctrl/uptoken",headers:{"Content-type":"application/x-www-form-urlencoded"},params:{token:sessionStorage.getItem("token")}}).then(function(s){var r=new FormData;r.append("file",e.file),r.append("token",s.data.data),r.append("key",i),l.a.post(t.domain,r,a).then(function(e){t.imageUrl="http://"+t.qiniuaddr+"/"+e.data.key})})},beforeUpload:function(e){var t="image/jpeg"===e.type||"image/png"===e.type,a=e.size/1024/1024<2;return t||this.$message.error("上传头像图片只能是 JPG 格式!"),a||this.$message.error("上传头像图片大小不能超过 2MB!"),t&&a},change:function(){"选项1"==this.value?this.memberDisplay=!1:"选项2"==this.value&&(this.memberDisplay=!0)},issue:function(){var e=this;void 0==this.normalForm.title||""==this.normalForm.title?this.$message({showClose:!0,message:"标题和图片不能为空",type:"warning"}):this.normalForm.number<0||this.normalForm.integral<0||this.normalForm.vipcard<0?this.$message({showClose:!0,message:"请输入正整数",type:"warning"}):l()({method:"post",url:this.global.mPath+"/mailctrl/addmail",headers:{"Content-type":"application/x-www-form-urlencoded"},params:{status:1,title:this.trim(this.normalForm.title),file:this.imageUrl,number:this.trim(this.normalForm.number),integral:this.trim(this.normalForm.integral),vipcard:this.trim(this.normalForm.vipcard),token:sessionStorage.getItem("token")}}).then(function(t){e.$message({showClose:!0,message:"发布成功",type:"success"}),e.normalForm.title="",e.normalForm.file="",e.normalForm.number="",e.normalForm.integral="",e.normalForm.vipcard="",e.addFormVisible=!1,e.handleSearch()}).catch(function(t){if(t&&t.response)switch(t.response.status){case 504:case 500:e.$message({showClose:!0,message:"服务器异常",type:"warning"}),e.loading=!1;break;case 405:e.$message({showClose:!0,message:"请先登录",type:"warning"});break;case 400:e.$message({showClose:!0,message:"请按要求输入",type:"warning"})}})},showAddDialog:function(){this.addFormVisible=!0,this.addForm={name:"",author:"",publishAt:"",description:""}},handleCurrentChange:function(e){this.page=e,this.handleSearch(this.page)},handleSearch:function(){var e=this;this.loading=!0,l()({method:"post",url:this.global.mPath+"/mailctrl/querymail",headers:{"Content-type":"application/x-www-form-urlencoded"},params:{status:1,size:"15",page:this.page,adminname:this.trim(this.filters.adminname),token:sessionStorage.getItem("token")}}).then(function(t){e.loading=!1,e.list=t.data.list,e.total=t.data.count}).catch(function(t){if(t&&t.response)switch(t.response.status){case 504:case 500:e.$message({showClose:!0,message:"服务器异常",type:"warning"}),e.loading=!1;break;case 405:e.$message({showClose:!0,message:"请先登录",type:"warning"})}})},selsChange:function(e){this.sels=e}},mounted:function(){this.handleSearch()}},N={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-row",{staticClass:"warp"},[a("el-col",{staticClass:"warp-breadcrum",attrs:{span:24}},[a("el-breadcrumb",{attrs:{separator:"/"}},[a("el-breadcrumb-item",{attrs:{to:{path:"/"}}},[a("b",[e._v("系统设置")])]),e._v(" "),a("el-breadcrumb-item",[e._v("系统恢复")])],1)],1),e._v(" "),a("el-col",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticClass:"warp-main",attrs:{span:24,"element-loading-text":"拼命加载中"}},[a("el-col",{staticClass:"toolbar",staticStyle:{"padding-bottom":"0px"},attrs:{span:24}},[a("el-form",{attrs:{inline:!0,model:e.filters}},[a("el-form-item",[a("el-input",{attrs:{placeholder:"管理员名称"},nativeOn:{keyup:function(t){return"button"in t||!e._k(t.keyCode,"enter",13,t.key,"Enter")?e.handleSearch(t):null}},model:{value:e.filters.adminname,callback:function(t){e.$set(e.filters,"adminname",t)},expression:"filters.adminname"}})],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:e.handleSearch}},[e._v("查询")])],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:e.showAddDialog}},[e._v("恢复系统")])],1)],1)],1),e._v(" "),a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.list,"highlight-current-row":""},on:{"selection-change":e.selsChange}},[a("el-table-column",{attrs:{type:"index",width:"60"}}),e._v(" "),a("el-table-column",{attrs:{prop:"adminname",label:"管理员名称",width:"160"}}),e._v(" "),a("el-table-column",{attrs:{prop:"title",label:"标题",width:"180"}}),e._v(" "),a("el-table-column",{attrs:{prop:"file",label:"内容",width:"100"},scopedSlots:e._u([{key:"default",fn:function(e){return[a("img",{staticStyle:{width:"50px",height:"50px"},attrs:{src:e.row.file,alt:""}})]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"number",label:"玉石数量",width:"140"}}),e._v(" "),a("el-table-column",{attrs:{prop:"integral",label:"礼券数量",width:"140"}}),e._v(" "),a("el-table-column",{attrs:{prop:"vipcard",label:"会员卡体验时间(天)"}})],1),e._v(" "),a("el-col",{staticClass:"toolbar",attrs:{span:24}},[a("el-pagination",{staticStyle:{float:"right"},attrs:{layout:"prev, pager, next","page-size":1,total:e.total},on:{"current-change":e.handleCurrentChange}})],1),e._v(" "),a("el-dialog",{attrs:{title:"系统恢复",visible:e.addFormVisible,"close-on-click-modal":!1},on:{"update:visible":function(t){e.addFormVisible=t}}},[a("el-form",{staticClass:"demo-ruleForm",attrs:{model:e.normalForm,"label-width":"150px",rules:e.rules}},[a("el-form-item",{attrs:{label:"标题",prop:"title"}},[a("el-input",{attrs:{"auto-complete":"off"},model:{value:e.normalForm.title,callback:function(t){e.$set(e.normalForm,"title",t)},expression:"normalForm.title"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"图片",prop:"file"}},[a("div",{staticClass:"upload"},[a("el-upload",{staticClass:"avatar-uploader",attrs:{action:e.domain,"http-request":e.upqiniu,"show-file-list":!1,"before-upload":e.beforeUpload}},[e.imageUrl?a("img",{staticClass:"avatar",attrs:{src:e.imageUrl}}):a("el-button",{staticClass:"el-icon-plus avatar-uploader-icon"})],1)],1)]),e._v(" "),a("el-form-item",{attrs:{label:"补偿设置",prop:"compensation"}},[a("el-select",{attrs:{placeholder:"请选择"},on:{change:e.change},model:{value:e.value,callback:function(t){e.value=t},expression:"value"}},e._l(e.options,function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),e._v(" "),a("el-form-item",{directives:[{name:"show",rawName:"v-show",value:e.memberDisplay,expression:"memberDisplay"}],staticClass:"memberCard",attrs:{label:"玉石数量",prop:"number"}},[a("el-input",{staticClass:"memberInput",attrs:{type:"number",min:"0",placeholder:"请输入正整数"},model:{value:e.normalForm.number,callback:function(t){e.$set(e.normalForm,"number",t)},expression:"normalForm.number"}})],1),e._v(" "),a("el-form-item",{directives:[{name:"show",rawName:"v-show",value:e.memberDisplay,expression:"memberDisplay"}],staticClass:"memberCard",attrs:{label:"礼券数量",prop:"integral"}},[a("el-input",{staticClass:"memberInput",attrs:{type:"number",min:"0",placeholder:"请输入正整数"},model:{value:e.normalForm.integral,callback:function(t){e.$set(e.normalForm,"integral",t)},expression:"normalForm.integral"}})],1),e._v(" "),a("el-form-item",{directives:[{name:"show",rawName:"v-show",value:e.memberDisplay,expression:"memberDisplay"}],staticClass:"memberCard",attrs:{label:"会员卡体验时间",prop:"vipcard"}},[a("el-input",{staticClass:"memberInput",attrs:{type:"number",min:"0",placeholder:"请输入正整数"},model:{value:e.normalForm.vipcard,callback:function(t){e.$set(e.normalForm,"vipcard",t)},expression:"normalForm.vipcard"}}),e._v(" 天\n          ")],1)],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:e.issue}},[e._v("发布")]),e._v(" "),a("el-button",{attrs:{type:"primary"},nativeOn:{click:function(t){e.addFormVisible=!1}}},[e._v("取消")])],1)],1)],1)],1)],1)},staticRenderFns:[]};var V=a("VU/8")(P,N,!1,function(e){a("lTvP")},"data-v-355c0996",null).exports,A={name:"Admin",data:function(){return{role:[],privilege:[],filters:{name:""},total:0,page:1,limit:10,loading:!1,sels:[],editFormVisible:!1,chooseFormVisible:!1,editFormRules:{role:[{required:!0,message:"请输入角色名称",trigger:"blur"}]},editForm:{id:0,name:"",author:"",publishAt:"",description:""},chooseForm:{id:0,name:"",author:"",publishAt:"",description:""},addFormVisible:!1,addLoading:!1,addFormRules:{role:[{required:!0,message:"请输入用户名",trigger:"blur"}]},addForm:{name:"",author:"",publishAt:"",description:""}}},methods:{trim:function(e){if(null!=e)return e.replace(/(^\s+)|(\s+$)/g,"")},handleCurrentChange:function(e){this.page=e,this.handleSearch(this.page)},handleSearch:function(){var e=this;l()({method:"post",url:this.global.mPath+"/role/queryrole",headers:{"Content-type":"application/x-www-form-urlencoded"},params:{page:this.page,size:"15",role:this.trim(this.filters.role),token:sessionStorage.getItem("token")}}).then(function(t){e.role=t.data.data.items,e.total=t.data.data.pageCount}).catch(function(t){if(t&&t.response)switch(t.response.status){case 504:e.$message({showClose:!0,message:"服务器异常",type:"warning"});break;case 405:e.$message({showClose:!0,message:"请先登录",type:"warning"})}})},selsChange:function(e){this.sels=e},delBook:function(e,t){var a=this,s=this;this.$confirm("确认删除该记录吗?","提示",{type:"warning"}).then(function(){s.loading=!0,l()({method:"post",url:a.global.mPath+"/role/deleterole",headers:{"Content-type":"application/x-www-form-urlencoded"},params:{id:t.id,token:sessionStorage.getItem("token")}}).then(function(e){s.loading=!1,1==e.data.success?(s.$message.success({showClose:!0,message:"删除成功",duration:1500}),s.handleSearch()):s.$message.error({showClose:!0,message:err.toString(),duration:2e3})}).catch(function(e){s.loading=!1,console.log(error),s.$message.error({showClose:!0,message:"请求出现异常",duration:2e3})})})},showEditDialog:function(e,t){this.editFormVisible=!0,this.editForm=f()({},t)},editSubmit:function(){var e=this;l()({method:"post",url:this.global.mPath+"/role/updaterole",headers:{"Content-type":"application/x-www-form-urlencoded"},params:{id:this.trim(this.editForm.id),role:this.trim(this.editForm.role),token:sessionStorage.getItem("token")}}).then(function(t){0==t.data.success?e.$message({showClose:!0,message:"编辑失败",type:"warning"}):1==t.data.success&&(e.$message({showClose:!0,message:"编辑成功",type:"success"}),e.editFormVisible=!1,e.handleSearch())}).catch(function(t){if(t&&t.response)switch(t.response.status){case 504:e.$message({showClose:!0,message:"服务器异常",type:"warning"});break;case 405:e.$message({showClose:!0,message:"请先登录",type:"warning"})}})},showAddDialog:function(){this.addFormVisible=!0,this.addForm={name:"",author:"",publishAt:"",description:""}},showchoose:function(e,t){var a=this;l()({method:"post",url:this.global.mPath+"/privilege/queryallprivilege",headers:{"Content-type":"application/x-www-form-urlencoded"},params:{token:sessionStorage.getItem("token")}}).then(function(e){a.privilege=e.data.data}).catch(function(e){if(e&&e.response)switch(e.response.status){case 504:a.$message({showClose:!0,message:"服务器异常",type:"warning"});break;case 405:a.$message({showClose:!0,message:"请先登录",type:"warning"})}}),this.chooseFormVisible=!0,this.editForm=f()({},t)},chooseSubmit:function(){var e=this,t=this.sels.map(function(e){return e.id}).toString(),a=this;this.$confirm("确认保存选中记录吗？","提示",{type:"warning"}).then(function(){a.loading=!0,l()({method:"post",url:e.global.mPath+"/role/editprivilege",headers:{"Content-type":"application/x-www-form-urlencoded"},params:{roleId:e.trim(e.editForm.id),privilegeId:t,token:sessionStorage.getItem("token")}}).then(function(t){a.loading=!1,1==t.data.success?(a.$message.success({showClose:!0,message:"保存成功",duration:1500}),e.chooseFormVisible=!1,e.handleSearch()):(e.$message({showClose:!0,message:"保存失败",type:"warning"}),e.chooseFormVisible=!1)}).catch(function(e){a.loading=!1,console.log(error),a.$message.error({showClose:!0,message:"请求出现异常",duration:2e3})})})},addSubmit:function(){var e=this;l()({method:"post",url:this.global.mPath+"/role/addrole",headers:{"Content-type":"application/x-www-form-urlencoded"},params:{role:this.trim(this.addForm.role),token:sessionStorage.getItem("token")}}).then(function(t){0==t.data.success?e.$message({showClose:!0,message:"添加失败",type:"warning"}):1==t.data.success&&(e.$message({showClose:!0,message:"添加成功",type:"success"}),e.addFormVisible=!1,e.handleSearch())}).catch(function(t){if(t&&t.response)switch(t.response.status){case 504:e.$message({showClose:!0,message:"服务器异常",type:"warning"});break;case 405:e.$message({showClose:!0,message:"请先登录",type:"warning"})}})},batchDeleteBook:function(){var e=this,t=this.sels.map(function(e){return e.id}).toString(),a=this;this.$confirm("确认删除选中记录吗？","提示",{type:"warning"}).then(function(){a.loading=!0,l()({method:"post",url:e.global.mPath+"/role/deleterole",headers:{"Content-type":"application/x-www-form-urlencoded"},params:{id:t,token:sessionStorage.getItem("token")}}).then(function(e){a.loading=!1,1==e.data.success?(a.$message.success({showClose:!0,message:"删除成功",duration:1500}),a.handleSearch(1)):a.$message.error({showClose:!0,message:err.toString(),duration:2e3})}).catch(function(e){a.loading=!1,console.log(error),a.$message.error({showClose:!0,message:"请求出现异常",duration:2e3})})})}},mounted:function(){this.handleSearch()}},j={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-row",{staticClass:"warp"},[a("el-col",{staticClass:"warp-breadcrum",attrs:{span:24}},[a("el-breadcrumb",{attrs:{separator:"/"}},[a("el-breadcrumb-item",{attrs:{to:{path:"/"}}},[a("b",[e._v("角色管理")])])],1)],1),e._v(" "),a("el-col",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticClass:"warp-main",attrs:{span:24,"element-loading-text":"拼命加载中"}},[a("el-col",{staticClass:"toolbar",staticStyle:{"padding-bottom":"0px"},attrs:{span:24}},[a("el-form",{attrs:{inline:!0,model:e.filters}},[a("el-form-item",[a("el-input",{attrs:{placeholder:"角色名称"},nativeOn:{keyup:function(t){return"button"in t||!e._k(t.keyCode,"enter",13,t.key,"Enter")?e.handleSearch(t):null}},model:{value:e.filters.role,callback:function(t){e.$set(e.filters,"role",t)},expression:"filters.role"}})],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:e.handleSearch}},[e._v("查询角色")])],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:e.showAddDialog}},[e._v("新增角色")])],1)],1)],1),e._v(" "),a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.role,"highlight-current-row":""},on:{"selection-change":e.selsChange}},[a("el-table-column",{attrs:{type:"selection",width:"55"}}),e._v(" "),a("el-table-column",{attrs:{type:"index",width:"60"}}),e._v(" "),a("el-table-column",{attrs:{prop:"role",label:"角色名称",width:"100"}}),e._v(" "),a("el-table-column",{attrs:{label:"角色权限",width:"200",height:"300px"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("ul",{staticStyle:{"margin-left":"-26px",height:"110px",overflow:"auto"}},e._l(t.row.privilegeList,function(t){return a("li",[e._v(e._s(t.privilege))])}))]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{size:"small"},on:{click:function(a){e.showEditDialog(t.$index,t.row)}}},[e._v("编辑角色")]),e._v(" "),a("el-button",{attrs:{size:"small"},on:{click:function(a){e.showchoose(t.$index,t.row)}}},[e._v("编辑角色权限")]),e._v(" "),a("el-button",{attrs:{type:"danger",size:"small"},on:{click:function(a){e.delBook(t.$index,t.row)}}},[e._v("删除角色")])]}}])})],1),e._v(" "),a("el-col",{staticClass:"toolbar",attrs:{span:24}},[a("el-button",{attrs:{type:"danger",disabled:0===this.sels.length},on:{click:e.batchDeleteBook}},[e._v("批量删除")]),e._v(" "),a("el-pagination",{staticStyle:{float:"right"},attrs:{layout:"prev, pager, next","page-size":1,total:e.total},on:{"current-change":e.handleCurrentChange}})],1),e._v(" "),a("el-dialog",{attrs:{title:"编辑角色",visible:e.editFormVisible,"close-on-click-modal":!1},on:{"update:visible":function(t){e.editFormVisible=t}}},[a("el-form",{ref:"editForm",attrs:{model:e.editForm,"label-width":"100px",rules:e.editFormRules}},[a("el-form-item",{attrs:{label:"角色名称",prop:"role"}},[a("el-input",{attrs:{"auto-complete":"off"},model:{value:e.editForm.role,callback:function(t){e.$set(e.editForm,"role",t)},expression:"editForm.role"}})],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{nativeOn:{click:function(t){e.editFormVisible=!1}}},[e._v("取消")]),e._v(" "),a("el-button",{attrs:{type:"primary"},nativeOn:{click:function(t){return e.editSubmit(t)}}},[e._v("提交")])],1)],1),e._v(" "),a("el-dialog",{attrs:{title:"新增角色",visible:e.addFormVisible,"close-on-click-modal":!1},on:{"update:visible":function(t){e.addFormVisible=t}}},[a("el-form",{ref:"addForm",attrs:{model:e.addForm,"label-width":"80px",rules:e.addFormRules}},[a("el-form-item",{attrs:{label:"角色名称",prop:"role"}},[a("el-input",{attrs:{"auto-complete":"off"},model:{value:e.addForm.role,callback:function(t){e.$set(e.addForm,"role",t)},expression:"addForm.role"}})],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{nativeOn:{click:function(t){e.addFormVisible=!1}}},[e._v("取消")]),e._v(" "),a("el-button",{attrs:{type:"primary",loading:e.addLoading},nativeOn:{click:function(t){return e.addSubmit(t)}}},[e._v("提交")])],1)],1),e._v(" "),a("el-dialog",{attrs:{title:"角色权限管理",visible:e.chooseFormVisible,"close-on-click-modal":!1},on:{"update:visible":function(t){e.chooseFormVisible=t}}},[a("el-form",{attrs:{model:e.chooseForm,"label-width":"100px"}},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.privilege,"highlight-current-row":""},on:{"selection-change":e.selsChange}},[a("el-table-column",{attrs:{type:"selection",width:"55"}}),e._v(" "),a("el-table-column",{attrs:{type:"index",width:"60"}}),e._v(" "),a("el-table-column",{attrs:{prop:"privilege",label:"权限列表"}})],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{nativeOn:{click:function(t){e.chooseFormVisible=!1}}},[e._v("取消")]),e._v(" "),a("el-button",{attrs:{type:"danger",disabled:0===this.sels.length},nativeOn:{click:function(t){return e.chooseSubmit(t)}}},[e._v("保存")])],1)],1)],1)],1)},staticRenderFns:[]};var q=a("VU/8")(A,j,!1,function(e){a("v5tm")},null,null).exports,E=a("mvHQ"),R=a.n(E),M={name:"Jurisdiction",data:function(){return{users:[],filters:{name:""},total:0,page:1,number:1,limit:10,loading:!1,sels:[],editprivilegeVisible:!1,editFormRules:{privileges:[{required:!0,message:"请输入权限名称",trigger:"blur"}],uris:[{required:!0,message:"请输入URI",trigger:"blur"}]},editPrivilege:{},addprivilege:{},addprivilegeVisible:!1,addLoading:!1,addFormRules:{privilege:[{required:!0,message:"请输入权限名称",trigger:"blur"}],uri:[{required:!0,message:"请输入URI",trigger:"blur"}]}}},methods:{handleCurrentChange:function(e){this.page=e,this.handleSearch(this.page)},trim:function(e){if(null!=e)return e.replace(/(^\s+)|(\s+$)/g,"")},handleSearch:function(){var e=this;l()({method:"post",url:this.global.mPath+"/privilege/queryprivilege",headers:{"Content-type":"application/x-www-form-urlencoded"},params:{page:this.page,size:"10",privilege:this.trim(this.filters.privilege),token:sessionStorage.getItem("token")}}).then(function(t){e.users=t.data.data.items,e.total=t.data.data.pageCount}).catch(function(t){if(t&&t.response)switch(t.response.status){case 504:e.$message({showClose:!0,message:"服务器异常",type:"warning"});break;case 405:e.$message({showClose:!0,message:"请先登录",type:"warning"})}})},selsChange:function(e){this.sels=e},delprivilege:function(e,t){var a=this,s=this;this.$confirm("确认删除该记录吗?","提示",{type:"warning"}).then(function(){s.loading=!0,l()({method:"post",url:a.global.mPath+"/privilege/deleteprivilege",headers:{"Content-type":"application/x-www-form-urlencoded"},params:{id:t.id,token:sessionStorage.getItem("token")}}).then(function(e){console.log(e),s.loading=!1,1==e.data.success?(s.$message.success({showClose:!0,message:"删除成功",duration:1500}),s.handleSearch()):s.$message.error({showClose:!0,message:err.toString(),duration:2e3})}).catch(function(e){s.loading=!1,console.log(error),s.$message.error({showClose:!0,message:"请求出现异常",duration:2e3})})})},batchDeleteprivilege:function(){var e=this,t=this.sels.map(function(e){return e.id}).toString(),a=this;this.$confirm("确认删除选中记录吗？","提示",{type:"warning"}).then(function(){a.loading=!0,l()({method:"post",url:e.global.mPath+"/privilege/deleteprivilege",headers:{"Content-type":"application/x-www-form-urlencoded"},params:{id:t,token:sessionStorage.getItem("token")}}).then(function(e){a.loading=!1,1==e.data.success?(a.$message.success({showClose:!0,message:"删除成功",duration:1500}),a.handleSearch()):a.$message.error({showClose:!0,message:err.toString(),duration:2e3})}).catch(function(e){a.loading=!1,console.log(error),a.$message.error({showClose:!0,message:"请求出现异常",duration:2e3})})})},addPrivilegeDialog:function(e,t){this.addprivilegeVisible=!0,this.addprivilege={}},addSubmit:function(){var e=this,t=[{privilege:this.trim(this.addprivilege.privilege),uri:this.trim(this.addprivilege.uri)}],a=R()(t);l()({method:"post",url:this.global.mPath+"/privilege/deployprivilege",headers:{"Content-type":"application/x-www-form-urlencoded"},params:{privileges:a,token:sessionStorage.getItem("token")}}).then(function(t){0==t.data.success?e.$message({showClose:!0,message:"添加失败",type:"warning"}):1==t.data.success&&(e.$message({showClose:!0,message:"添加成功",type:"success"}),e.addprivilegeVisible=!1,e.handleSearch(1))}).catch(function(t){if(t&&t.response)switch(t.response.status){case 504:e.$message({showClose:!0,message:"服务器异常",type:"warning"});break;case 405:e.$message({showClose:!0,message:"请先登录",type:"warning"})}})},showEditPrivilege:function(e,t){this.editprivilegeVisible=!0,this.editPrivilege=f()({},t)},editSubmit:function(){var e=this;this.$refs.editPrivilege.validate(function(t){t&&(e.loading=!0,l()({method:"post",url:e.global.mPath+"/privilege/updateprivilege",headers:{"Content-type":"application/x-www-form-urlencoded"},params:{id:e.trim(e.editPrivilege.id),privilege:e.trim(e.editPrivilege.privilege),uri:e.trim(e.editPrivilege.uri),token:sessionStorage.getItem("token")}}).then(function(t){e.loading=!1,1==t.data.success?(e.editprivilegeVisible=!1,e.$message.success({showClose:!0,message:"修改成功",duration:1500}),e.handleSearch(1)):e.$message.error({showClose:!0,message:err.toString(),duration:2e3})}).catch(function(t){e.loading=!1,console.log(error),e.$message.error({showClose:!0,message:"请求出现异常",duration:2e3})}))})}},mounted:function(){this.handleSearch(1)}},O={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-row",{staticClass:"warp"},[a("el-col",{staticClass:"warp-breadcrum",attrs:{span:24}},[a("el-breadcrumb",{attrs:{separator:"/"}},[a("el-breadcrumb-item",{attrs:{to:{path:"/"}}},[a("b",[e._v("权限管理")])])],1)],1),e._v(" "),a("el-col",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticClass:"warp-main",attrs:{span:24,"element-loading-text":"拼命加载中"}},[a("el-col",{staticClass:"toolbar",staticStyle:{"padding-bottom":"0px"},attrs:{span:24}},[a("el-form",{attrs:{inline:!0,model:e.filters}},[a("el-form-item",[a("el-input",{attrs:{placeholder:"权限名称"},nativeOn:{keyup:function(t){return"button"in t||!e._k(t.keyCode,"enter",13,t.key,"Enter")?e.handleSearch(t):null}},model:{value:e.filters.privilege,callback:function(t){e.$set(e.filters,"privilege",t)},expression:"filters.privilege"}})],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:e.handleSearch}},[e._v("查询")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:e.addPrivilegeDialog}},[e._v("新增")])],1)],1)],1),e._v(" "),a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.users,"highlight-current-row":""},on:{"selection-change":e.selsChange}},[a("el-table-column",{attrs:{type:"selection",width:"55"}}),e._v(" "),a("el-table-column",{attrs:{type:"index",width:"60"}}),e._v(" "),a("el-table-column",{attrs:{prop:"privilege",label:"权限名称",width:"230"}}),e._v(" "),a("el-table-column",{attrs:{prop:"uri",label:"URI",width:"260"}}),e._v(" "),a("el-table-column",{attrs:{label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{size:"small"},on:{click:function(a){e.showEditPrivilege(t.$index,t.row)}}},[e._v("编辑")]),e._v(" "),a("el-button",{attrs:{type:"danger",size:"small"},on:{click:function(a){e.delprivilege(t.$index,t.row)}}},[e._v("删除")])]}}])})],1)],1),e._v(" "),a("el-dialog",{attrs:{title:"新增权限",visible:e.addprivilegeVisible,"close-on-click-modal":!1},on:{"update:visible":function(t){e.addprivilegeVisible=t}}},[a("el-form",{ref:"addprivilege",attrs:{model:e.addprivilege,"label-width":"80px",rules:e.addFormRules,id:"cc"}},[a("el-form-item",{attrs:{label:"权限名称",prop:"privilege"}},[a("el-input",{attrs:{"auto-complete":"off"},model:{value:e.addprivilege.privilege,callback:function(t){e.$set(e.addprivilege,"privilege",t)},expression:"addprivilege.privilege"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"URI",prop:"uri"}},[a("el-input",{attrs:{"auto-complete":"off"},model:{value:e.addprivilege.uri,callback:function(t){e.$set(e.addprivilege,"uri",t)},expression:"addprivilege.uri"}})],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{nativeOn:{click:function(t){e.addprivilegeVisible=!1}}},[e._v("取消")]),e._v(" "),a("el-button",{attrs:{type:"primary",loading:e.addLoading},nativeOn:{click:function(t){return e.addSubmit(t)}}},[e._v("提交")])],1)],1),e._v(" "),a("el-dialog",{attrs:{title:"编辑权限",visible:e.editprivilegeVisible,"close-on-click-modal":!1},on:{"update:visible":function(t){e.editprivilegeVisible=t}}},[a("el-form",{ref:"editPrivilege",attrs:{model:e.editPrivilege,"label-width":"100px",rules:e.editFormRules}},[a("el-form-item",{attrs:{label:"权限名称",prop:"privilege"}},[a("el-input",{attrs:{"auto-complete":"off"},model:{value:e.editPrivilege.privilege,callback:function(t){e.$set(e.editPrivilege,"privilege",t)},expression:"editPrivilege.privilege"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"URI",prop:"uri"}},[a("el-input",{attrs:{"auto-complete":"off"},model:{value:e.editPrivilege.uri,callback:function(t){e.$set(e.editPrivilege,"uri",t)},expression:"editPrivilege.uri"}})],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{nativeOn:{click:function(t){e.editprivilegeVisible=!1}}},[e._v("取消")]),e._v(" "),a("el-button",{attrs:{type:"primary"},nativeOn:{click:function(t){return e.editSubmit(t)}}},[e._v("提交")])],1)],1),e._v(" "),a("el-col",{staticClass:"toolbar",attrs:{span:24}},[a("el-button",{attrs:{type:"danger",disabled:0===this.sels.length},on:{click:e.batchDeleteprivilege}},[e._v("批量删除")]),e._v(" "),a("el-pagination",{staticStyle:{float:"right"},attrs:{layout:"prev, pager, next","page-size":1,total:e.total},on:{"current-change":e.handleCurrentChange}})],1)],1)},staticRenderFns:[]};var G=a("VU/8")(M,O,!1,function(e){a("xJPM")},"data-v-782f4806",null).exports,L={name:"Server",data:function(){return{server:[],filters:{name:""},total:0,page:1,number:1,limit:10,loading:!1,sels:[],addonline:{},onlineVisible:!1,addLoading:!1,addFormRules:{game:[{required:!0,message:"请输入游戏名称",trigger:"blur"}],name:[{required:!0,message:"请输入服务器名称",trigger:"blur"}],httpUrl:[{required:!0,message:"请输入httpUrl",trigger:"blur"}],wsUrl:[{required:!0,message:"请输入websocket URL",trigger:"blur"}]}}},methods:{trim:function(e){if(null!=e)return e.replace(/(^\s+)|(\s+$)/g,"")},handleCurrentChange:function(e){this.page=e,this.handleSearch(this.page)},dateTimeFormat:function(e){var t=new Date(+e),a=function(e){return(e="0"+e).substring(e.length-2,e.length)};if(null!=t){var s=t.getFullYear(),i=t.getMonth()+1,r=t.getDate(),n=t.getHours(),o=t.getMinutes(),l=t.getSeconds();return s+"-"+a(i)+"-"+a(r)+" "+a(n)+":"+a(o)+":"+a(l)}},handleSearch:function(){var e=this;l()({method:"post",url:this.global.mPath+"/game/servers_for_game",headers:{"Content-type":"application/x-www-form-urlencoded"},params:{game:this.trim(this.filters.game),token:sessionStorage.getItem("token")}}).then(function(t){e.server=t.data.data.servers;for(var a=0;a<e.server.length;a++)console.log(e.server[a]),e.server[a].onlineTime=e.dateTimeFormat(e.server[a].onlineTime)}).catch(function(t){if(t&&t.response)switch(t.response.status){case 504:e.$message({showClose:!0,message:"服务器异常",type:"warning"});break;case 405:e.$message({showClose:!0,message:"请先登录",type:"warning"})}})},selsChange:function(e){this.sels=e},offline:function(e,t){var a=this,s=this;this.$confirm("确认下线吗?","提示",{type:"warning"}).then(function(){s.loading=!0,l()({method:"post",url:a.global.mPath+"/game/game_server_offline",headers:{"Content-type":"application/x-www-form-urlencoded"},params:{gameServerId:t.id,token:sessionStorage.getItem("token")}}).then(function(e){s.loading=!1,e.data.success?(s.$message.success({showClose:!0,message:"您已下线",duration:1500}),s.handleSearch()):s.$message.error({showClose:!0,message:err.toString(),duration:2e3})}).catch(function(e){s.loading=!1,console.log(error),s.$message.error({showClose:!0,message:"请求出现异常",duration:2e3})})})},online:function(){this.onlineVisible=!0,this.addonline={}},addSubmit:function(){var e=this;l()({method:"post",url:this.global.mPath+"/game/game_server_online",headers:{"Content-type":"application/x-www-form-urlencoded"},params:{game:this.trim(this.addonline.game),name:this.trim(this.addonline.name),httpUrl:this.trim(this.addonline.httpUrl),wsUrl:this.trim(this.addonline.wsUrl),token:sessionStorage.getItem("token")}}).then(function(t){0==t.data.success?e.$message({showClose:!0,message:"上线失败",type:"warning"}):1==t.data.success&&(e.$message({showClose:!0,message:"上线成功",type:"success"}),e.onlineVisible=!1,e.handleSearch(1))}).catch(function(t){if(t&&t.response)switch(t.response.status){case 504:e.$message({showClose:!0,message:"服务器异常",type:"warning"});break;case 405:e.$message({showClose:!0,message:"请先登录",type:"warning"})}})},pause:function(e,t){var a=this;this.$confirm("确认暂停服务器吗？","提示",{type:"warning"}).then(function(){l()({method:"post",url:a.global.mPath+"/game/stop",headers:{"Content-type":"application/x-www-form-urlencoded"},params:{"ids[]":t.id}}).then(function(e){0==e.data.success?a.$message({showClose:!0,message:"暂停失败",type:"warning"}):1==e.data.success&&(a.$message({showClose:!0,message:"暂停成功",type:"success"}),a.onlineVisible=!1,a.handleSearch(1))}).catch(function(e){if(e&&e.response)switch(e.response.status){case 504:a.$message({showClose:!0,message:"服务器异常",type:"warning"});break;case 405:a.$message({showClose:!0,message:"请先登录",type:"warning"})}})})},recover:function(e,t){var a=this;this.$confirm("确认恢复服务器吗？","提示",{type:"warning"}).then(function(){l()({method:"post",url:a.global.mPath+"/game/recover",headers:{"Content-type":"application/x-www-form-urlencoded"},params:{"ids[]":t.id}}).then(function(e){0==e.data.success?a.$message({showClose:!0,message:"恢复失败",type:"warning"}):1==e.data.success&&(a.$message({showClose:!0,message:"恢复成功",type:"success"}),a.onlineVisible=!1,a.handleSearch(1))}).catch(function(e){if(e&&e.response)switch(e.response.status){case 504:a.$message({showClose:!0,message:"服务器异常",type:"warning"});break;case 405:a.$message({showClose:!0,message:"请先登录",type:"warning"})}})})}},mounted:function(){this.handleSearch(1)}},U={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-row",{staticClass:"warp"},[a("el-col",{staticClass:"warp-breadcrum",attrs:{span:24}},[a("el-breadcrumb",{attrs:{separator:"/"}},[a("el-breadcrumb-item",{attrs:{to:{path:"/"}}},[a("b",[e._v("服务器管理")])])],1)],1),e._v(" "),a("el-col",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticClass:"warp-main",attrs:{span:24,"element-loading-text":"拼命加载中"}},[a("el-col",{staticClass:"toolbar",staticStyle:{"padding-bottom":"0px"},attrs:{span:24}},[a("el-form",{attrs:{inline:!0,model:e.filters}},[a("el-form-item",[a("el-input",{attrs:{placeholder:"游戏名称"},nativeOn:{keyup:function(t){return"button"in t||!e._k(t.keyCode,"enter",13,t.key,"Enter")?e.handleSearch(t):null}},model:{value:e.filters.game,callback:function(t){e.$set(e.filters,"game",t)},expression:"filters.game"}})],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:e.handleSearch}},[e._v("查询")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:e.online}},[e._v("上线")])],1)],1)],1)],1),e._v(" "),a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.server,"highlight-current-row":""},on:{"selection-change":e.selsChange}},[a("el-table-column",{attrs:{type:"index",width:"60"}}),e._v(" "),a("el-table-column",{attrs:{prop:"game",label:"游戏名称",width:"150"}}),e._v(" "),a("el-table-column",{attrs:{prop:"name",label:"服务器名称",width:"130"}}),e._v(" "),a("el-table-column",{attrs:{prop:"httpUrl",label:"httpUrl",width:"150"}}),e._v(" "),a("el-table-column",{attrs:{prop:"wsUrl",label:"websocket URL",width:"200"}}),e._v(" "),a("el-table-column",{attrs:{prop:"onlineTime",label:"上线时间",width:"160"}}),e._v(" "),a("el-table-column",{attrs:{label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"danger",size:"small"},on:{click:function(a){e.offline(t.$index,t.row)}}},[e._v("下线")]),e._v(" "),0===t.row.state?a("el-button",{attrs:{type:"danger",size:"small"},nativeOn:{click:function(a){e.pause(t.$index,t.row)}}},[e._v("暂停")]):e._e(),e._v(" "),1===t.row.state?a("el-button",{attrs:{type:"danger",size:"small"},nativeOn:{click:function(a){e.recover(t.$index,t.row)}}},[e._v("恢复")]):e._e()]}}])})],1),e._v(" "),a("el-dialog",{attrs:{title:"上线",visible:e.onlineVisible,"close-on-click-modal":!1},on:{"update:visible":function(t){e.onlineVisible=t}}},[a("el-form",{ref:"addonline",attrs:{model:e.addonline,"label-width":"150px",rules:e.addFormRules,id:"cc"}},[a("el-form-item",{attrs:{label:"游戏名称",prop:"game"}},[a("el-input",{attrs:{"auto-complete":"off"},model:{value:e.addonline.game,callback:function(t){e.$set(e.addonline,"game",t)},expression:"addonline.game"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"服务器名称",prop:"name"}},[a("el-input",{attrs:{"auto-complete":"off"},model:{value:e.addonline.name,callback:function(t){e.$set(e.addonline,"name",t)},expression:"addonline.name"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"httpURL",prop:"httpUrl"}},[a("el-input",{attrs:{"auto-complete":"off"},model:{value:e.addonline.httpUrl,callback:function(t){e.$set(e.addonline,"httpUrl",t)},expression:"addonline.httpUrl"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"websocket URL",prop:"wsUrl"}},[a("el-input",{attrs:{"auto-complete":"off"},model:{value:e.addonline.wsUrl,callback:function(t){e.$set(e.addonline,"wsUrl",t)},expression:"addonline.wsUrl"}})],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{nativeOn:{click:function(t){e.onlineVisible=!1}}},[e._v("取消")]),e._v(" "),a("el-button",{attrs:{type:"primary",loading:e.addLoading},nativeOn:{click:function(t){return e.addSubmit(t)}}},[e._v("提交")])],1)],1)],1)},staticRenderFns:[]};var z=a("VU/8")(L,U,!1,function(e){a("wabF")},"data-v-15274162",null).exports,H={name:"History",data:function(){return{place:"1",normalForm:{},rules:{notice:[{required:!0,message:"请输入公告内容",trigger:"blur"}]},list:[],sels:[],filters:{name:""},total:0,loading:!1,addFormVisible:!1}},methods:{trim:function(e){if(null!=e)return e.replace(/(^\s+)|(\s+$)/g,"")},off:function(e,t){var a=this;sessionStorage.setItem("id",this.list[e].id),l()({method:"post",url:this.global.mPath+"/noticectrl/updatenotice",headers:{"Content-type":"application/x-www-form-urlencoded"},params:{id:sessionStorage.getItem("id"),token:sessionStorage.getItem("token"),notice:t.notice,place:t.place,state:1}}).then(function(e){a.handleSearch()}).catch(function(e){if(e&&e.response)switch(e.response.status){case 504:case 500:a.$message({showClose:!0,message:"服务器异常",type:"warning"}),a.loading=!1;break;case 405:a.$message({showClose:!0,message:"请先登录",type:"warning"})}})},open:function(e,t){var a=this;sessionStorage.setItem("id",this.list[e].id),l()({method:"post",url:this.global.mPath+"/noticectrl/updatenotice",headers:{"Content-type":"application/x-www-form-urlencoded"},params:{id:sessionStorage.getItem("id"),token:sessionStorage.getItem("token"),notice:t.notice,place:t.place,state:0}}).then(function(e){a.handleSearch()}).catch(function(e){if(e&&e.response)switch(e.response.status){case 504:case 500:a.$message({showClose:!0,message:"服务器异常",type:"warning"}),a.loading=!1;break;case 405:a.$message({showClose:!0,message:"请先登录",type:"warning"})}})},issue:function(){var e=this;void 0==this.normalForm.notice||""==this.normalForm.notice?this.$message({showClose:!0,message:"公告内容不能为空",type:"warning"}):l()({method:"post",url:this.global.mPath+"/noticectrl/addnotice",headers:{"Content-type":"application/x-www-form-urlencoded"},params:{status:"0",notice:this.trim(this.normalForm.notice),place:this.trim(this.place),token:sessionStorage.getItem("token")}}).then(function(t){e.$message({showClose:!0,message:"发布成功",type:"success"}),e.normalForm.notice="",e.addFormVisible=!1,e.handleSearch()}).catch(function(t){if(t&&t.response)switch(t.response.status){case 504:case 500:e.$message({showClose:!0,message:"服务器异常",type:"warning"}),e.loading=!1;break;case 405:e.$message({showClose:!0,message:"请先登录",type:"warning"})}})},handleCurrentChange:function(e){this.page=e,this.handleSearch(this.page)},handleSearch:function(){var e=this;this.loading=!0,l()({method:"post",url:this.global.mPath+"/noticectrl/querynotice",headers:{"Content-type":"application/x-www-form-urlencoded"},params:{size:"15",page:this.page,adminname:this.trim(this.filters.adminname),token:sessionStorage.getItem("token")}}).then(function(t){e.loading=!1,e.list=t.data.list,e.total=t.data.count}).catch(function(t){if(t&&t.response)switch(t.response.status){case 504:case 500:e.$message({showClose:!0,message:"服务器异常",type:"warning"}),e.loading=!1;break;case 405:e.$message({showClose:!0,message:"请先登录",type:"warning"})}})},selsChange:function(e){this.sels=e},showAddDialog:function(){this.addFormVisible=!0,this.addForm={name:"",author:"",publishAt:"",description:""}}},mounted:function(){this.handleSearch()}},B={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-row",{staticClass:"warp"},[a("el-col",{staticClass:"warp-breadcrum",attrs:{span:24}},[a("el-breadcrumb",{attrs:{separator:"/"}},[a("el-breadcrumb-item",{attrs:{to:{path:"/"}}},[a("b",[e._v("系统设置")])]),e._v(" "),a("el-breadcrumb-item",[e._v("系统公告")])],1)],1),e._v(" "),a("el-col",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticClass:"warp-main",attrs:{span:24,"element-loading-text":"拼命加载中"}},[a("el-col",{staticClass:"toolbar",staticStyle:{"padding-bottom":"0px"},attrs:{span:24}},[a("el-form",{attrs:{inline:!0,model:e.filters}},[a("el-form-item",[a("el-input",{attrs:{placeholder:"管理员名称"},nativeOn:{keyup:function(t){return"button"in t||!e._k(t.keyCode,"enter",13,t.key,"Enter")?e.handleSearch(t):null}},model:{value:e.filters.adminname,callback:function(t){e.$set(e.filters,"adminname",t)},expression:"filters.adminname"}})],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:e.handleSearch}},[e._v("查询")])],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:e.showAddDialog}},[e._v("发公告")])],1)],1)],1),e._v(" "),a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.list,"highlight-current-row":""},on:{"selection-change":e.selsChange}},[a("el-table-column",{attrs:{type:"index",width:"60"}}),e._v(" "),a("el-table-column",{attrs:{prop:"adminname",label:"管理员名称",width:"160"}}),e._v(" "),a("el-table-column",{attrs:{prop:"notice",label:"公告内容",width:"300"}}),e._v(" "),a("el-table-column",{attrs:{prop:"place",label:"发布地方",width:"160"},scopedSlots:e._u([{key:"default",fn:function(t){return["0"===t.row.place?a("el-button",{attrs:{type:"text"}},[e._v("游戏大厅")]):e._e(),e._v(" "),"1"===t.row.place?a("el-button",{attrs:{type:"text"}},[e._v("游戏房间")]):e._e(),e._v(" "),"2"===t.row.place?a("el-button",{attrs:{type:"text"}},[e._v("游戏大厅和房间")]):e._e()]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"state",label:"状态"},scopedSlots:e._u([{key:"default",fn:function(t){return[1===t.row.state?a("el-button",{attrs:{type:"primary",disabled:!1},on:{click:function(a){e.off(t.$index,t.row)}}},[e._v("启用")]):e._e(),e._v(" "),0===t.row.state?a("el-button",{attrs:{type:"info"},on:{click:function(a){e.open(t.$index,t.row)}}},[e._v("禁用")]):e._e()]}}])})],1),e._v(" "),a("el-col",{staticClass:"toolbar",attrs:{span:24}},[a("el-pagination",{staticStyle:{float:"right"},attrs:{layout:"prev, pager, next","page-size":1,total:e.total},on:{"current-change":e.handleCurrentChange}})],1),e._v(" "),a("el-dialog",{attrs:{title:"发公告",visible:e.addFormVisible,"close-on-click-modal":!1},on:{"update:visible":function(t){e.addFormVisible=t}}},[a("el-form",{staticClass:"demo-ruleForm",attrs:{model:e.normalForm,"label-width":"100px",rules:e.rules}},[a("el-form-item",{attrs:{label:"内容",prop:"notice"}},[a("el-input",{attrs:{type:"textarea",autosize:"",placeholder:"请输入公告内容"},model:{value:e.normalForm.notice,callback:function(t){e.$set(e.normalForm,"notice",t)},expression:"normalForm.notice"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"发布位置",prop:"place"}},[[a("el-radio",{attrs:{label:"0"},model:{value:e.place,callback:function(t){e.place=t},expression:"place"}},[e._v("游戏大厅")]),e._v(" "),a("el-radio",{attrs:{label:"1"},model:{value:e.place,callback:function(t){e.place=t},expression:"place"}},[e._v("游戏房间")]),e._v(" "),a("el-radio",{attrs:{label:"2"},model:{value:e.place,callback:function(t){e.place=t},expression:"place"}},[e._v("游戏大厅和房间")])]],2),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:e.issue}},[e._v("发布")]),e._v(" "),a("el-button",{attrs:{type:"primary"},nativeOn:{click:function(t){e.addFormVisible=!1}}},[e._v("取消")])],1)],1)],1)],1)],1)},staticRenderFns:[]};var W=a("VU/8")(H,B,!1,function(e){a("qRNi")},"data-v-85a7558a",null).exports,Y={name:"MemberCard",data:function(){return{users:[],loading:!1,sels:[],editCardVisible:!1,editFormRules:{name:[{required:!0,message:"请输入会员卡名称",trigger:"blur"}],price:[{required:!0,message:"请输入会员卡价格",trigger:"blur"}],gold:[{required:!0,message:"请输入玉石数",trigger:"blur"}],score:[{required:!0,message:"请输入礼券数",trigger:"blur"}],time:[{required:!0,message:"请输入会员时间",trigger:"blur"}]},editCard:{},addCard:{},addCardVisible:!1,addLoading:!1}},methods:{trim:function(e){if(null!=e)return e.replace(/(^\s+)|(\s+$)/g,"")},handleCurrentChange:function(e){this.page=e,this.handleSearch(this.page)},handleSearch:function(){var e=this;l()({method:"post",url:this.global.mPath+"/clubcard/showclubcard",headers:{"Content-type":"application/x-www-form-urlencoded"},params:{token:sessionStorage.getItem("token")}}).then(function(t){console.log(t),e.users=t.data.data,e.total=t.data.pageNumber;for(var a=0;a<e.users.length;a++)e.users[a].time=e.users[a].time/1e3/60/60/24}).catch(function(t){if(t&&t.response)switch(t.response.status){case 504:e.$message({showClose:!0,message:"服务器异常",type:"warning"});break;case 405:e.$message({showClose:!0,message:"请先登录",type:"warning"})}})},selsChange:function(e){this.sels=e},delCard:function(e,t){var a=this,s=this;this.$confirm("确认删除该记录吗?","提示",{type:"warning"}).then(function(){s.loading=!0,l()({method:"post",url:a.global.mPath+"/clubcard/deleteclubcard",headers:{"Content-type":"application/x-www-form-urlencoded"},params:{id:t.id,token:sessionStorage.getItem("token")}}).then(function(e){console.log(e),s.loading=!1,1==e.data.success?(s.$message.success({showClose:!0,message:"删除成功",duration:1500}),s.handleSearch()):s.$message.error({showClose:!0,message:err.toString(),duration:2e3})}).catch(function(e){s.loading=!1,console.log(error),s.$message.error({showClose:!0,message:"请求出现异常",duration:2e3})})})},batchDeleteCard:function(){var e=this,t=this.sels.map(function(e){return e.id}).toString(),a=this;this.$confirm("确认删除选中记录吗？","提示",{type:"warning"}).then(function(){a.loading=!0,l()({method:"post",url:e.global.mPath+"/clubcard/deleteclubcard",headers:{"Content-type":"application/x-www-form-urlencoded"},params:{id:t,token:sessionStorage.getItem("token")}}).then(function(e){a.loading=!1,1==e.data.success?(a.$message.success({showClose:!0,message:"删除成功",duration:1500}),a.handleSearch()):a.$message.error({showClose:!0,message:err.toString(),duration:2e3})}).catch(function(e){a.loading=!1,console.log(error),a.$message.error({showClose:!0,message:"请求出现异常",duration:2e3})})})},addCards:function(){this.addCardVisible=!0,this.addCard={}},addSubmit:function(){var e=this;l()({method:"post",url:this.global.mPath+"/clubcard/addclubcard",headers:{"Content-type":"application/x-www-form-urlencoded"},params:{name:this.trim(this.addCard.name),price:this.trim(this.addCard.price),gold:this.trim(this.addCard.gold),score:this.trim(this.addCard.score),time:24*this.addCard.time*60*60*1e3,token:sessionStorage.getItem("token")}}).then(function(t){console.log(t.data),0==t.data.success?e.$message({showClose:!0,message:"添加失败",type:"warning"}):1==t.data.success&&(e.$message({showClose:!0,message:"添加成功",type:"success"}),e.addCardVisible=!1,e.handleSearch())}).catch(function(t){if(t&&t.response)switch(t.response.status){case 504:e.$message({showClose:!0,message:"服务器异常",type:"warning"});break;case 405:e.$message({showClose:!0,message:"请先登录",type:"warning"})}})},showEditCard:function(e,t){this.editCardVisible=!0,this.editCard=f()({},t)},editSubmit:function(){var e=this;this.$refs.editCard.validate(function(t){t&&(e.loading=!0,l()({method:"post",url:e.global.mPath+"/clubcard/updateclubcard",headers:{"Content-type":"application/x-www-form-urlencoded"},params:{id:e.editCard.id,name:e.editCard.name,price:e.editCard.price,gold:e.editCard.gold,score:e.editCard.score,time:24*e.editCard.time*60*60*1e3,token:sessionStorage.getItem("token")}}).then(function(t){e.loading=!1,1==t.data.success?(e.editCardVisible=!1,e.$message.success({showClose:!0,message:"修改成功",duration:1500}),e.handleSearch()):e.$message.error({showClose:!0,message:err.toString(),duration:2e3})}).catch(function(t){e.loading=!1,e.$message.error({showClose:!0,message:"请求出现异常",duration:2e3})}))})}},mounted:function(){this.handleSearch()}},X={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-row",{staticClass:"warp"},[a("el-col",{staticClass:"warp-breadcrum",attrs:{span:24}},[a("el-breadcrumb",{attrs:{separator:"/"}},[a("el-breadcrumb-item",{attrs:{to:{path:"/"}}},[a("b",[e._v("会员中心")])]),e._v(" "),a("el-breadcrumb-item",[e._v("会员卡")])],1)],1),e._v(" "),a("el-table",{staticStyle:{width:"100%","margin-top":"30px"},attrs:{data:e.users,"highlight-current-row":""},on:{"selection-change":e.selsChange}},[a("el-table-column",{attrs:{type:"selection",width:"55"}}),e._v(" "),a("el-table-column",{attrs:{type:"index",width:"60"}}),e._v(" "),a("el-table-column",{attrs:{prop:"name",label:"会员卡名称",width:"auto"}}),e._v(" "),a("el-table-column",{attrs:{prop:"price",label:"会员卡价格",width:"auto"}}),e._v(" "),a("el-table-column",{attrs:{prop:"score",label:"购买获得积分数",width:"auto"}}),e._v(" "),a("el-table-column",{attrs:{prop:"gold",label:"购买获得玉石数",width:"auto"}}),e._v(" "),a("el-table-column",{attrs:{prop:"time",label:"延长的会员时间",width:"auto"}}),e._v(" "),a("el-table-column",{attrs:{label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{size:"small"},on:{click:function(a){e.showEditCard(t.$index,t.row)}}},[e._v("编辑")]),e._v(" "),a("el-button",{attrs:{type:"danger",size:"small"},on:{click:function(a){e.delCard(t.$index,t.row)}}},[e._v("删除")])]}}])})],1),e._v(" "),a("el-dialog",{attrs:{title:"新增会员卡",visible:e.addCardVisible,"close-on-click-modal":!1},on:{"update:visible":function(t){e.addCardVisible=t}}},[a("el-form",{ref:"addCard",attrs:{model:e.addCard,"label-width":"150px",rules:e.editFormRules}},[a("el-form-item",{attrs:{label:"会员卡名称",prop:"name"}},[a("el-input",{attrs:{"auto-complete":"off"},model:{value:e.addCard.name,callback:function(t){e.$set(e.addCard,"name",t)},expression:"addCard.name"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"会员卡价格",prop:"price"}},[a("el-input",{attrs:{"auto-complete":"off"},model:{value:e.addCard.price,callback:function(t){e.$set(e.addCard,"price",t)},expression:"addCard.price"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"购买赠送的玉石数",prop:"gold"}},[a("el-input",{attrs:{"auto-complete":"off"},model:{value:e.addCard.gold,callback:function(t){e.$set(e.addCard,"gold",t)},expression:"addCard.gold"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"购买赠送的礼券数",prop:"score"}},[a("el-input",{attrs:{"auto-complete":"off"},model:{value:e.addCard.score,callback:function(t){e.$set(e.addCard,"score",t)},expression:"addCard.score"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"延长的会员时间",prop:"time"}},[a("el-input",{attrs:{"auto-complete":"off"},model:{value:e.addCard.time,callback:function(t){e.$set(e.addCard,"time",t)},expression:"addCard.time"}})],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{nativeOn:{click:function(t){e.addFormVisible=!1}}},[e._v("取消")]),e._v(" "),a("el-button",{attrs:{type:"primary",loading:e.addLoading},nativeOn:{click:function(t){return e.addSubmit(t)}}},[e._v("提交")])],1)],1),e._v(" "),a("el-dialog",{attrs:{title:"编辑会员卡",visible:e.editCardVisible,"close-on-click-modal":!1},on:{"update:visible":function(t){e.editCardVisible=t}}},[a("el-form",{ref:"editCard",attrs:{model:e.editCard,"label-width":"150px",rules:e.editFormRules}},[a("el-form-item",{attrs:{label:"会员卡名称",prop:"name"}},[a("el-input",{attrs:{"auto-complete":"off"},model:{value:e.editCard.name,callback:function(t){e.$set(e.editCard,"name",t)},expression:"editCard.name"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"会员卡价格",prop:"price"}},[a("el-input",{attrs:{"auto-complete":"off"},model:{value:e.editCard.price,callback:function(t){e.$set(e.editCard,"price",t)},expression:"editCard.price"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"购买赠送玉石数",prop:"gold"}},[a("el-input",{attrs:{rows:8},model:{value:e.editCard.gold,callback:function(t){e.$set(e.editCard,"gold",t)},expression:"editCard.gold"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"购买赠送礼券数",prop:"score"}},[a("el-input",{attrs:{rows:8},model:{value:e.editCard.score,callback:function(t){e.$set(e.editCard,"score",t)},expression:"editCard.score"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"延长的会员时间",prop:"time"}},[a("el-input",{attrs:{rows:8},model:{value:e.editCard.time,callback:function(t){e.$set(e.editCard,"time",t)},expression:"editCard.time"}})],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{nativeOn:{click:function(t){e.editCardVisible=!1}}},[e._v("取消")]),e._v(" "),a("el-button",{attrs:{type:"primary"},nativeOn:{click:function(t){return e.editSubmit(t)}}},[e._v("提交")])],1)],1),e._v(" "),a("el-col",{staticClass:"toolbar",attrs:{span:24}},[a("el-button",{attrs:{type:"danger",disabled:0===this.sels.length},on:{click:e.batchDeleteCard}},[e._v("批量删除")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:e.addCards}},[e._v("新增")])],1)],1)},staticRenderFns:[]};var J=a("VU/8")(Y,X,!1,function(e){a("D86o")},"data-v-3afa06f4",null).exports,Q={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-row",{staticClass:"warp"},[a("el-col",{staticClass:"warp-breadcrum",attrs:{span:24}},[a("el-breadcrumb",{attrs:{separator:"/"}},[a("el-breadcrumb-item",{attrs:{to:{path:"/"}}},[a("b",[e._v("系统设置")])]),e._v(" "),a("el-breadcrumb-item",[e._v("微服务")])],1)],1),e._v(" "),a("el-table",{staticClass:"warp-main",staticStyle:{width:"100%"},attrs:{data:e.list,"highlight-current-row":""},on:{"selection-change":e.selsChange}},[a("el-table-column",{attrs:{type:"index",width:"60"}}),e._v(" "),a("el-table-column",{attrs:{prop:"name",label:"微服务名称",width:"160"}}),e._v(" "),a("el-table-column",{attrs:{prop:"state",label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"primary"},on:{click:function(a){e.save(t.$index,t.row)}}},[e._v("微服务快照保存")])]}}])})],1)],1)},staticRenderFns:[]};var Z=a("VU/8")({name:"Microservice",data:function(){return{list:[{name:"会员中心"},{name:"游戏大厅"},{name:"任务中心"}],sels:[]}},methods:{selsChange:function(e){this.sels=e},save:function(e,t){var a=this,s=this;this.$confirm("确认保存吗?","提示",{type:"warning"}).then(function(){s.$message.success({showClose:!0,message:"保存成功"+a.list[e].name,duration:1500})})}}},Q,!1,function(e){a("5ZBB")},"data-v-599fb75b",null).exports,K={name:"MemberLevel",data:function(){return{setLevelVisible:!1,addCard:{},users:[],addLoading:!1,editFormRules:{vip1:[{required:!0,message:"文本框不为空",trigger:"blur"}],vip2:[{required:!0,message:"文本框不为空",trigger:"blur"}],vip3:[{required:!0,message:"文本框不为空",trigger:"blur"}],vip4:[{required:!0,message:"文本框不为空",trigger:"blur"}],vip5:[{required:!0,message:"文本框不为空",trigger:"blur"}]}}},methods:{setLevel:function(){var e=this;l()({method:"post",url:this.global.mPath+"/grade/find_grade",headers:{"Content-type":"application/x-www-form-urlencoded"},params:{token:sessionStorage.getItem("token")}}).then(function(t){console.log(t),null!=t.data.data&&(e.addCard=t.data.data,console.log(e.addCard))}).catch(function(e){})},addSubmit:function(){var e=this;l()({method:"post",url:this.global.mPath+"/grade/insert_grade",headers:{"Content-type":"application/x-www-form-urlencoded"},params:{vip1:this.addCard.vip1,vip2:this.addCard.vip2,vip3:this.addCard.vip3,vip4:this.addCard.vip4,vip5:this.addCard.vip5,token:sessionStorage.getItem("token")}}).then(function(t){console.log(t),t.data.success?e.$message({showClose:!0,message:"设置成功",type:"success"}):e.$message({showClose:!0,message:"设置失败",type:"warning"})}).catch(function(e){})}},mounted:function(){this.setLevel()}},ee={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-row",{staticClass:"warp"},[a("el-col",{staticClass:"warp-breadcrum",attrs:{span:24}},[a("el-breadcrumb",{attrs:{separator:"/"}},[a("el-breadcrumb-item",{attrs:{to:{path:"/"}}},[a("b",[e._v("会员中心")])]),e._v(" "),a("el-breadcrumb-item",[e._v("会员等级")])],1)],1),e._v(" "),a("el-form",{ref:"addCard",staticClass:"toolbar",attrs:{model:e.addCard,"label-width":"150px",rules:e.editFormRules}},[a("el-form-item",{attrs:{label:"充值",prop:"vip1"}},[a("el-input",{attrs:{"auto-complete":"off",type:"number"},model:{value:e.addCard.vip1,callback:function(t){e.$set(e.addCard,"vip1",t)},expression:"addCard.vip1"}}),e._v("\n        元，等级为v1\n      ")],1),e._v(" "),a("el-form-item",{attrs:{label:"充值",prop:"vip2"}},[a("el-input",{attrs:{"auto-complete":"off",type:"number"},model:{value:e.addCard.vip2,callback:function(t){e.$set(e.addCard,"vip2",t)},expression:"addCard.vip2"}}),e._v("\n        元，等级为v2\n      ")],1),e._v(" "),a("el-form-item",{attrs:{label:"充值",prop:"vip3"}},[a("el-input",{attrs:{"auto-complete":"off",type:"number"},model:{value:e.addCard.vip3,callback:function(t){e.$set(e.addCard,"vip3",t)},expression:"addCard.vip3"}}),e._v("\n        元，等级为v3\n      ")],1),e._v(" "),a("el-form-item",{attrs:{label:"充值",prop:"vip4"}},[a("el-input",{attrs:{"auto-complete":"off",type:"number"},model:{value:e.addCard.vip4,callback:function(t){e.$set(e.addCard,"vip4",t)},expression:"addCard.vip4"}}),e._v("\n        元，等级为v4\n      ")],1),e._v(" "),a("el-form-item",{attrs:{label:"充值",prop:"vip5"}},[a("el-input",{attrs:{"auto-complete":"off",type:"number"},model:{value:e.addCard.vip5,callback:function(t){e.$set(e.addCard,"vip5",t)},expression:"addCard.vip5"}}),e._v("\n        元，等级为v5\n      ")],1),e._v(" "),a("el-button",{staticClass:"btn",nativeOn:{click:function(t){e.addFormVisible=!1}}},[e._v("取消")]),e._v(" "),a("el-button",{attrs:{type:"primary",loading:e.addLoading},nativeOn:{click:function(t){return e.addSubmit(t)}}},[e._v("提交")])],1)],1)},staticRenderFns:[]};var te=a("VU/8")(K,ee,!1,function(e){a("SzW/")},"data-v-940e2bee",null).exports,ae={name:"OrderManagement",data:function(){return{filters:{memberId:"",nickname:""},users:[],state:{status:"",pay_type:"",startTime:"",endTime:""},total:0,down:[],addFormVisible:!1,options:[{value:"支付宝"},{value:"微信"}],status:[{value:"已付款"},{value:"未付款"},{value:"支付失败"}],sorting:{},page:1,payCost:"",payAmount:"",notPayCost:"",notPayAmount:""}},methods:{handleCurrentChange:function(e){this.page=e,this.sort(this.sorting)},dateTimeFormat:function(e){var t=new Date(+e),a=function(e){return(e="0"+e).substring(e.length-2,e.length)};if(null!=t){var s=t.getFullYear(),i=t.getMonth()+1,r=t.getDate(),n=t.getHours(),o=t.getMinutes(),l=t.getSeconds();return s+"-"+a(i)+"-"+a(r)+" "+a(n)+":"+a(o)+":"+a(l)}},trim:function(e){if(null!=e)return e.replace(/(^\s+)|(\s+$)/g,"")},exportExcel:function(){if("未付款"==this.filters.status&&(this.state.status=0),"支付失败"==this.filters.status&&(this.state.status=-1),"已付款"==this.filters.status&&(this.state.status=1),"支付宝"==this.filters.pay_type&&(this.state.pay_type="alipay"),"微信"==this.filters.pay_type&&(this.state.pay_type="wxpay"),this.filters.startTime){var e=new Date(this.filters.startTime);this.state.startTime=e.getTime()}if(this.filters.endTime){var t=new Date(this.filters.endTime);this.state.endTime=t.getTime()}this.filters.startTime&&this.filters.endTime&&this.state.endTime-this.state.startTime<0||(this.addFormVisible=!0,document.getElementById("download").href=this.global.mPath+"/order/download?out_trade_no=&pay_type="+this.state.pay_type+"&payerId="+this.trim(this.filters.memberId)+"&payerName="+this.trim(this.filters.nickname)+"&status="+this.state.status+"&startTime="+this.state.startTime+"&endTime="+this.state.endTime+"&deliverTime=&token="+sessionStorage.getItem("token"))},addSubmit:function(){this.addFormVisible=!1},handleSearch:function(e,t,a,s,i,r){var n=this;if("未付款"==this.filters.status&&(this.state.status="NOTPAY"),"支付失败"==this.filters.status&&(this.state.status="PAYFAIL"),"已付款"==this.filters.status&&(this.state.status="PAYSUCCESS"),"支付宝"==this.filters.pay_type&&(this.state.pay_type="alipay"),"微信"==this.filters.pay_type&&(this.state.pay_type="wxpay"),this.filters.startTime){var o=new Date(this.filters.startTime);this.state.startTime=o.getTime()}if(this.filters.endTime){var c=new Date(this.filters.endTime);this.state.endTime=c.getTime()}this.filters.startTime&&this.filters.endTime&&this.state.endTime-this.state.startTime<0||l()({method:"post",url:this.global.mPath+"/order/queryorder",headers:{"Content-type":"application/x-www-form-urlencoded"},params:{page:this.page,size:"10",payerId:this.trim(this.filters.memberId),payerName:this.trim(this.filters.nickname),out_trade_no:"",pay_type:this.state.pay_type,startTime:this.state.startTime,endTime:this.state.endTime,status:this.state.status,token:sessionStorage.getItem("token"),productPriceSort:e,numberSort:t,totalamountSort:a,createTimeSort:s,statusSort:i,pay_typeSort:r}}).then(function(e){n.payCost=e.data.data.payCost,n.payAmount=e.data.data.payAmount,n.notPayCost=e.data.data.notPayCost,n.notPayAmount=e.data.data.notPayAmount,n.users=e.data.data.listPage.items,n.total=e.data.data.listPage.pageCount;for(var t=0;t<n.users.length;t++)n.users[t].createTime=n.dateTimeFormat(n.users[t].createTime),n.users[t].vipTime=n.users[t].vipTime/1e3/60/60/24}).catch(function(e){if(e&&e.response)switch(e.response.status){case 504:n.$message({showClose:!0,message:"服务器异常",type:"warning"});break;case 405:n.$message({showClose:!0,message:"请先登录",type:"warning"})}})},sort:function(e){this.sorting=e,"productPrice"==this.sorting.prop&&("ascending"==this.sorting.order&&(this.sorting.productPrice="ASC"),"descending"==this.sorting.order&&(this.sorting.productPrice="DESC")),"number"==this.sorting.prop&&("ascending"==this.sorting.order&&(this.sorting.number="ASC"),"descending"==this.sorting.order&&(this.sorting.number="DESC")),"totalamount"==this.sorting.prop&&("ascending"==this.sorting.order&&(this.sorting.totalamount="ASC"),"descending"==this.sorting.order&&(this.sorting.totalamount="DESC")),"createTime"==this.sorting.prop&&("ascending"==this.sorting.order&&(this.sorting.createTime="ASC"),"descending"==this.sorting.order&&(this.sorting.createTime="DESC")),"status"==this.sorting.prop&&("ascending"==this.sorting.order&&(this.sorting.status="ASC"),"descending"==this.sorting.order&&(this.sorting.status="DESC")),"pay_type"==this.sorting.prop&&("ascending"==this.sorting.order&&(this.sorting.pay_type="ASC"),"descending"==this.sorting.order&&(this.sorting.pay_type="DESC")),this.handleSearch(this.sorting.productPrice,this.sorting.number,this.sorting.totalamount,this.sorting.createTime,this.sorting.status,this.sorting.pay_type)}},mounted:function(){this.handleSearch()}},se={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-row",{staticClass:"warp"},[a("el-col",{staticClass:"warp-breadcrum",attrs:{span:24}},[a("el-breadcrumb",{attrs:{separator:"/"}},[a("el-breadcrumb-item",{attrs:{to:{path:"/"}}},[a("b",[e._v("充值系统")])]),e._v(" "),a("el-breadcrumb-item",[e._v("订单管理")])],1)],1),e._v(" "),a("el-row",{staticStyle:{"margin-top":"30px"},attrs:{gutter:20}},[a("el-col",{attrs:{span:6}},[a("div",{staticClass:"grid-content bg-purple"},[a("div",{staticClass:"type"},[e._v("已支付")]),e._v(" "),a("div",{staticClass:"num"},[e._v(e._s(e.payCost)+"元 "+e._s(e.payAmount)+"单")])])]),e._v(" "),a("el-col",{attrs:{span:6}},[a("div",{staticClass:"grid-content bg-purple"},[a("div",{staticClass:"type"},[e._v("未支付")]),e._v(" "),a("div",{staticClass:"num"},[e._v(e._s(e.notPayCost)+" "+e._s(e.notPayAmount)+"单")])])])],1),e._v(" "),a("el-col",{staticClass:"toolbar",staticStyle:{"padding-bottom":"0px"},attrs:{span:24}},[a("el-form",{attrs:{inline:!0,model:e.filters}},[a("el-form-item",{attrs:{label:"用户ID","label-width":"68px"}},[a("el-input",{staticStyle:{width:"220px"},nativeOn:{keyup:function(t){if(!("button"in t)&&e._k(t.keyCode,"enter",13,t.key,"Enter"))return null;e.handleSearch()}},model:{value:e.filters.memberId,callback:function(t){e.$set(e.filters,"memberId",t)},expression:"filters.memberId"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"昵称","label-width":"68px"}},[a("el-input",{staticStyle:{width:"220px"},nativeOn:{keyup:function(t){if(!("button"in t)&&e._k(t.keyCode,"enter",13,t.key,"Enter"))return null;e.handleSearch()}},model:{value:e.filters.nickname,callback:function(t){e.$set(e.filters,"nickname",t)},expression:"filters.nickname"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"支付方式","label-width":"68px"}},[a("el-select",{attrs:{placeholder:"请选择",clearable:""},model:{value:e.filters.pay_type,callback:function(t){e.$set(e.filters,"pay_type",t)},expression:"filters.pay_type"}},e._l(e.options,function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}))],1),e._v(" "),a("el-form-item",{attrs:{label:"开始时间","label-width":"68px"}},[a("el-date-picker",{attrs:{type:"date",placeholder:"选择日期"},model:{value:e.filters.startTime,callback:function(t){e.$set(e.filters,"startTime",t)},expression:"filters.startTime"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"结束时间","label-width":"68px"}},[a("el-date-picker",{attrs:{type:"date",placeholder:"选择日期"},model:{value:e.filters.endTime,callback:function(t){e.$set(e.filters,"endTime",t)},expression:"filters.endTime"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"订单状态","label-width":"68px"}},[a("el-select",{attrs:{placeholder:"所有状态",clearable:""},model:{value:e.filters.status,callback:function(t){e.$set(e.filters,"status",t)},expression:"filters.status"}},e._l(e.status,function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}))],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.handleSearch()}}},[e._v("查询")])],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:e.exportExcel}},[e._v("导出")])],1)],1)],1),e._v(" "),a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.users,"highlight-current-row":"",id:"out-table"},on:{"sort-change":e.sort}},[a("el-table-column",{attrs:{type:"index",width:"60"}}),e._v(" "),a("el-table-column",{attrs:{prop:"id",label:"订单编号",width:"120"}}),e._v(" "),a("el-table-column",{attrs:{prop:"transaction_id",label:"支付流水",width:"120"}}),e._v(" "),a("el-table-column",{attrs:{prop:"payerId",label:"付款人ID",width:"120"}}),e._v(" "),a("el-table-column",{attrs:{prop:"payerName",label:"付款人昵称",width:"120"}}),e._v(" "),a("el-table-column",{attrs:{prop:"productId",label:"会员卡ID",width:"120"}}),e._v(" "),a("el-table-column",{attrs:{prop:"productName",label:"会员卡名称",width:"120"}}),e._v(" "),a("el-table-column",{attrs:{prop:"productPrice",label:"会员卡价格",width:"120",sortable:"custom"}}),e._v(" "),a("el-table-column",{attrs:{prop:"number",label:"购买数量",width:"120",sortable:"custom"}}),e._v(" "),a("el-table-column",{attrs:{prop:"gold",label:"单张会员卡赠送玉石",width:"120"}}),e._v(" "),a("el-table-column",{attrs:{prop:"score",label:"单张会员卡赠送礼券",width:"120"}}),e._v(" "),a("el-table-column",{attrs:{prop:"vipTime",label:"单张会员卡赠送VIP时间",width:"120"}}),e._v(" "),a("el-table-column",{attrs:{prop:"totalamount",label:"总金额",width:"120",sortable:"custom"}}),e._v(" "),a("el-table-column",{attrs:{prop:"createTime",label:"下单时间",width:"110",sortable:"custom"}}),e._v(" "),a("el-table-column",{attrs:{prop:"status",label:"订单状态",width:"120",sortable:"custom"}}),e._v(" "),a("el-table-column",{attrs:{prop:"pay_type",label:"支付方式",width:"120",sortable:"custom"}}),e._v(" "),a("el-table-column",{attrs:{prop:"reqIP",label:"下单地址",width:"auto"}})],1),e._v(" "),a("el-dialog",{attrs:{title:"下载文件",visible:e.addFormVisible,"close-on-click-modal":!1},on:{"update:visible":function(t){e.addFormVisible=t}}},[e._v("\n    是否确定下载文件？\n    "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{nativeOn:{click:function(t){e.addFormVisible=!1}}},[e._v("否")]),e._v(" "),a("a",{attrs:{href:"#",id:"download"},on:{click:e.addSubmit}},[e._v("是")])],1)]),e._v(" "),a("el-col",{staticClass:"toolbar",attrs:{span:24}},[a("el-pagination",{staticStyle:{float:"right"},attrs:{layout:"prev, pager, next","page-size":1,total:e.total},on:{"current-change":e.handleCurrentChange}})],1)],1)},staticRenderFns:[]};var ie=a("VU/8")(ae,se,!1,function(e){a("ONEN")},"data-v-8eeae506",null).exports,re={name:"PlatformOperation",data:function(){return{loading:!1,filters:{name:""},items:[],total:0,value1:"",value2:"",po:!1,state:[]}},methods:{dateTimeFormat:function(e){var t=new Date(+e),a=function(e){return(e="0"+e).substring(e.length-2,e.length)};if(null!=t){var s=t.getFullYear(),i=t.getMonth()+1,r=t.getDate();return s+"-"+a(i)+"-"+a(r)}},handleCurrentChange:function(e){this.page=e,this.seek(this.page)},seek:function(){var e=this;if(this.filters.startTime){var t=new Date(this.filters.startTime);this.state.startTime=t.getTime()}if(this.filters.endTime){var a=new Date(this.filters.endTime);this.state.endTime=a.getTime()}this.filters.startTime&&this.filters.endTime&&this.state.endTime-this.state.startTime<=0?this.$message({showClose:!0,message:"时间段选择有误",type:"warning"}):l()({method:"post",url:this.global.mPath+"/datareport/platformreport",headers:{"Content-type":"application/x-www-form-urlencoded"},params:{size:"15",page:this.page,startTime:this.state.startTime,endTime:this.state.endTime,token:sessionStorage.getItem("token")}}).then(function(t){e.po=!0,e.loading=!1,e.items=t.data.data.items,e.total=t.data.data.pageCount;for(var a=0;a<e.items.length;a++)e.items[a].date=e.dateTimeFormat(e.items[a].date)}).catch(function(t){if(t&&t.response)switch(t.response.status){case 504:case 500:e.$message({showClose:!0,message:"服务器异常",type:"warning"}),e.loading=!1;break;case 405:e.$message({showClose:!0,message:"请先登录",type:"warning"})}})},selsChange:function(e){this.sels=e}}},ne={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-row",{staticClass:"warp"},[a("el-col",{staticClass:"warp-breadcrum",attrs:{span:24}},[a("el-breadcrumb",{attrs:{separator:"/"}},[a("el-breadcrumb-item",{attrs:{to:{path:"/"}}},[a("b",[e._v("报表统计")])]),e._v(" "),a("el-breadcrumb-item",[e._v("平台运营日报")])],1)],1),e._v(" "),a("el-col",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticClass:"warp-main",attrs:{span:24,"element-loading-text":"拼命加载中"}},[a("el-col",{staticClass:"toolbar",staticStyle:{"padding-bottom":"0px"},attrs:{span:24}},[a("el-form",{attrs:{inline:!0,model:e.filters}},[a("el-form-item",{attrs:{label:"开始时间"}},[a("el-date-picker",{attrs:{type:"date",placeholder:"开始时间"},model:{value:e.filters.startTime,callback:function(t){e.$set(e.filters,"startTime",t)},expression:"filters.startTime"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"结束时间"}},[a("el-date-picker",{attrs:{type:"date",placeholder:"结束时间"},model:{value:e.filters.endTime,callback:function(t){e.$set(e.filters,"endTime",t)},expression:"filters.endTime"}})],1),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:e.seek}},[e._v("搜索")])],1)],1),e._v(" "),a("el-table",{directives:[{name:"show",rawName:"v-show",value:e.po,expression:"po"}],staticStyle:{width:"100%"},attrs:{data:e.items,"highlight-current-row":""},on:{"selection-change":e.selsChange}},[a("el-table-column",{attrs:{type:"index",width:"60"}}),e._v(" "),a("el-table-column",{attrs:{prop:"date",label:"日期",width:"120"}}),e._v(" "),a("el-table-column",{attrs:{prop:"newMember",label:"新增注册量",width:"120"}}),e._v(" "),a("el-table-column",{attrs:{prop:"currentMember",label:"当日会员人数",width:"140"}}),e._v(" "),a("el-table-column",{attrs:{prop:"cost",label:"消费金额（元）",width:"160"}}),e._v(" "),a("el-table-column",{attrs:{prop:"gameNum",label:"游戏总局数",width:"120"}}),e._v(" "),a("el-table-column",{attrs:{prop:"loginMember",label:"独立玩家",width:"100"}}),e._v(" "),a("el-table-column",{attrs:{prop:"remainSecond",label:"次日留存",width:"100"}}),e._v(" "),a("el-table-column",{attrs:{prop:"remainThird",label:"三日留存",width:"100"}}),e._v(" "),a("el-table-column",{attrs:{prop:"remainSeventh",label:"七日留存",width:"100"}}),e._v(" "),a("el-table-column",{attrs:{prop:"remainMonth",label:"30日以外留存"}})],1),e._v(" "),a("el-col",{staticClass:"toolbar",attrs:{span:24}},[a("el-pagination",{staticStyle:{float:"right"},attrs:{layout:"prev, pager, next","page-size":1,total:e.total},on:{"current-change":e.handleCurrentChange}})],1)],1)],1)},staticRenderFns:[]};var oe=a("VU/8")(re,ne,!1,function(e){a("QKej")},"data-v-557a910a",null).exports,le={name:"Progression",data:function(){return{filters:{},state:{},currentMember:[],gameNum:[],loginMember:[],Time:[],options:[{value:"瑞安麻将"},{value:"温州麻将"},{value:"放炮麻将"}]}},methods:{handleSearch:function(){var e=this;if(this.filters.pay_type&&("瑞安麻将"==this.filters.pay_type&&(this.state.pay_type="ruianMajiang"),"温州麻将"==this.filters.pay_type&&(this.state.pay_type="wenzhouMajiang"),"放炮麻将"==this.filters.pay_type&&(this.state.pay_type="fangpaoMajiang")),this.filters.startTime){var t=new Date(this.filters.startTime);this.state.startTime=t.getTime()}if(this.filters.endTime){var a=new Date(this.filters.endTime);this.state.endTime=a.getTime()}this.filters.startTime&&this.filters.endTime&&this.state.endTime-this.state.startTime<0||l()({url:this.global.mPath+"/datareport/gamereport",method:"post",params:{startTime:this.state.startTime,endTime:this.state.endTime,game:this.state.pay_type,token:sessionStorage.getItem("token")}}).then(function(t){for(var a=0;a<t.data.data.length;a++)e.currentMember.push(t.data.data[a].currentMember),e.gameNum.push(t.data.data[a].gameNum),e.loginMember.push(t.data.data[a].loginMember),e.Time.push(e.dateTimeFormat(t.data.data[a].date));e.drawLine(e.loginMember,e.gameNum,e.currentMember)}).catch(function(e){})},dateTimeFormat:function(e){var t=new Date(+e),a=function(e){return(e="0"+e).substring(e.length-2,e.length)};if(null!=t){var s=t.getFullYear(),i=t.getMonth()+1,r=t.getDate();t.getHours(),t.getMinutes(),t.getSeconds();return s+"-"+a(i)+"-"+a(r)}},drawLine:function(e,t,a){this.$echarts.init(document.getElementById("myChart")).setOption({title:{text:""},tooltip:{trigger:"axis"},legend:{data:["独立玩家","游戏局数","会员人数"]},grid:{left:"3%",right:"4%",bottom:"3%",containLabel:!0},toolbox:{feature:{}},xAxis:{type:"category",boundaryGap:!1,data:this.Time},yAxis:{type:"value"},series:[{name:"独立玩家",type:"line",stack:"总量",data:e},{name:"游戏局数",type:"line",stack:"总量",data:t},{name:"会员人数",type:"line",stack:"总量",data:a}]})}}},ce={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-row",{staticClass:"warp"},[a("el-col",{staticClass:"warp-breadcrum",attrs:{span:24}},[a("el-breadcrumb",{attrs:{separator:"/"}},[a("el-breadcrumb-item",{attrs:{to:{path:"/"}}},[a("b",[e._v("报表统计")])]),e._v(" "),a("el-breadcrumb-item",[e._v("游戏数据日报")])],1)],1),e._v(" "),a("el-col",{staticClass:"toolbar",staticStyle:{"padding-bottom":"0px"},attrs:{span:24}},[a("el-form",{attrs:{inline:!0,model:e.filters}},[a("el-form-item",{attrs:{label:"游戏名","label-width":"68px"}},[a("el-select",{attrs:{placeholder:"请选择",clearable:""},model:{value:e.filters.pay_type,callback:function(t){e.$set(e.filters,"pay_type",t)},expression:"filters.pay_type"}},e._l(e.options,function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}))],1),e._v(" "),a("el-form-item",{attrs:{label:"开始时间","label-width":"68px"}},[a("el-date-picker",{attrs:{type:"date",placeholder:"选择日期"},model:{value:e.filters.startTime,callback:function(t){e.$set(e.filters,"startTime",t)},expression:"filters.startTime"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"结束时间","label-width":"68px"}},[a("el-date-picker",{attrs:{type:"date",placeholder:"选择日期"},model:{value:e.filters.endTime,callback:function(t){e.$set(e.filters,"endTime",t)},expression:"filters.endTime"}})],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:e.handleSearch}},[e._v("查询")])],1)],1),e._v(" "),a("div",{style:{width:"300px",height:"300px"},attrs:{id:"myChart"}})],1)],1)},staticRenderFns:[]};var ue=a("VU/8")(le,ce,!1,function(e){a("1cEi")},"data-v-316a3cdc",null).exports,de={name:"PendingReleaseTask",data:function(){return{task:[],filters:{},addFormVisible:!1,addLoading:!1,publishVisible:!1,addForm:{},publishForm:{},total:0,index:"",radio:"1",options:[],typeTask:[],sels:[],userTypes:"",show:!0,hide:!1,type:[{value:"金币"},{value:"积分"},{value:"会员卡"}],userType:[{value:"普通用户"},{value:"会员用户"},{value:"所有用户"}],addFormRules:{releaseObject:[{required:!0,message:"请选择发布对象",trigger:"change"}],name:[{required:!0,message:"请输入任务名称",trigger:"blur"}],description:[{required:!0,message:"请输入详细描述",trigger:"blur"}],taskType:[{required:!0,message:"请选择任务类型",trigger:"change"}],rewardType:[{required:!0,message:"请选择奖励类型",trigger:"change"}],completionTimes:[{required:!0,message:"请输入完成次数",trigger:"blur"}],numberOfReward:[{required:!0,message:"请输入奖励数",trigger:"blur"}]}}},methods:{trim:function(e){if(null!=e)return e.replace(/(^\s+)|(\s+$)/g,"")},selsChange:function(e){this.sels=e},handleCurrentChange:function(e){this.page=e,this.handleSearch(this.page)},showAddDialog:function(){var e=this;this.addFormVisible=!0,l()({method:"post",url:this.global.mPath+"/task/querytaskconfig",headers:{"Content-type":"application/x-www-form-urlencoded"},params:{token:sessionStorage.getItem("token")}}).then(function(t){e.options=t.data.data.typeList,e.typeTask=t.data.data.templates}).catch(function(t){if(t&&t.response)switch(t.response.status){case 504:e.$message({showClose:!0,message:"服务器异常",type:"warning"});break;case 405:e.$message({showClose:!0,message:"请先登录",type:"warning"})}})},publishDialog:function(e,t){this.publishVisible=!0,this.publishForm=f()({},t),"会员卡"==this.publishForm.rewardType?(this.show=!1,this.hide=!0):(this.show=!0,this.hide=!1)},handleSearch:function(e){var t=this;l()({method:"post",url:this.global.mPath+"/task/querytaskdocument",headers:{"Content-type":"application/x-www-form-urlencoded"},params:{page:e,size:10,name:this.trim(this.filters.nickname),type:"",token:sessionStorage.getItem("token")}}).then(function(e){console.log(e.data.data),t.task=e.data.data.items,t.total=e.data.data.pageCount}).catch(function(e){if(e&&e.response)switch(e.response.status){case 504:t.$message({showClose:!0,message:"服务器异常",type:"warning"});break;case 405:t.$message({showClose:!0,message:"请先登录",type:"warning"})}})},addSubmit:function(){var e=this;l()({method:"post",url:this.global.mPath+"/task/addtaskdocument",headers:{"Content-type":"application/x-www-form-urlencoded"},params:{name:this.trim(this.addForm.name),type:this.addForm.taskType,desc:this.trim(this.addForm.description),taskName:this.addForm.Typetask,token:sessionStorage.getItem("token")}}).then(function(t){console.log(t),1==t.data.success?(e.$message.success({showClose:!0,message:"添加成功",duration:1500}),e.handleSearch(1),e.addFormVisible=!1):e.$message.error({showClose:!0,message:err.toString(),duration:2e3})}).catch(function(t){e.loading=!1,console.log(t),e.$message.error({showClose:!0,message:"请求出现异常",duration:2e3})})},publishSubmit:function(){var e=this;"普通用户"==this.publishForm.releaseObject&&(this.publishForm.userTypes="false"),"会员用户"==this.publishForm.releaseObject&&(this.publishForm.userTypes="true"),"所有用户"==this.publishForm.releaseObject&&(this.publishForm.userTypes="null"),console.log(this.publishForm.goldNumber),void 0==this.publishForm.goldNumber&&(this.publishForm.goldNumber=0),void 0==this.publishForm.integralNumber&&(this.publishForm.integralNumber=0),void 0==this.publishForm.vipDays&&(this.publishForm.vipDays=0),this.publishForm.promulgator=sessionStorage.getItem("nickname"),this.loading=!0,l()({method:"post",url:this.global.mPath+"/task/release",headers:{"Content-type":"application/x-www-form-urlencoded"},params:{taskDocId:this.trim(this.publishForm.id),promulgator:this.trim(this.publishForm.promulgator),rewardGold:this.trim(this.publishForm.goldNumber),rewardScore:this.trim(this.publishForm.integralNumber),rewardVip:this.publishForm.vipDays,vip:this.publishForm.userTypes,targetNum:this.trim(this.publishForm.completionTimes),token:sessionStorage.getItem("token")}}).then(function(t){console.log(t),e.loading=!1,1==t.data.success?(e.publishVisible=!1,e.$message.success({showClose:!0,message:"发布成功",duration:1500}),e.handleSearch(1)):e.$message.error({showClose:!0,message:err.toString(),duration:2e3})}).catch(function(t){e.loading=!1,console.log(error),e.$message.error({showClose:!0,message:"请求出现异常",duration:2e3})})},delBook:function(e,t){var a=this,s=this;this.$confirm("确认删除该记录吗?","提示",{type:"warning"}).then(function(){s.loading=!0,l()({method:"post",url:a.global.mPath+"/task/deletetaskdocuments",headers:{"Content-type":"application/x-www-form-urlencoded"},params:{taskDocId:t.id,token:sessionStorage.getItem("token")}}).then(function(e){s.loading=!1,1==e.data.success?(s.$message.success({showClose:!0,message:"删除成功",duration:1500}),s.handleSearch(1)):s.$message.error({showClose:!0,message:err.toString(),duration:2e3})}).catch(function(e){s.loading=!1,console.log(error),s.$message.error({showClose:!0,message:"请求出现异常",duration:2e3})})})},batchDeleteBook:function(){var e=this,t=this.sels.map(function(e){return e.id}).toString(),a=this;this.$confirm("确认删除选中记录吗？","提示",{type:"warning"}).then(function(){a.loading=!0,l()({method:"post",url:e.global.mPath+"/task/deletetaskdocuments",headers:{"Content-type":"application/x-www-form-urlencoded"},params:{taskDocId:t,token:sessionStorage.getItem("token")}}).then(function(e){a.loading=!1,1==e.data.success?(a.$message.success({showClose:!0,message:"删除成功",duration:1500}),a.handleSearch(1)):a.$message.error({showClose:!0,message:err.toString(),duration:2e3})}).catch(function(e){a.loading=!1,console.log(error),a.$message.error({showClose:!0,message:"请求出现异常",duration:2e3})})})}},mounted:function(){this.handleSearch(1)}},me={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-row",{staticClass:"warp"},[a("el-col",{staticClass:"warp-breadcrum",attrs:{span:24}},[a("el-breadcrumb",{attrs:{separator:"/"}},[a("el-breadcrumb-item",{attrs:{to:{path:"/"}}},[a("b",[e._v("任务管理")])]),e._v(" "),a("el-breadcrumb-item",[e._v("待发布任务")])],1)],1),e._v(" "),a("el-col",{staticClass:"toolbar",staticStyle:{"padding-bottom":"0px"},attrs:{span:24}},[a("el-form",{attrs:{inline:!0,model:e.filters}},[a("el-form-item",[a("el-input",{attrs:{placeholder:"任务名"},nativeOn:{keyup:function(t){return"button"in t||!e._k(t.keyCode,"enter",13,t.key,"Enter")?e.handleSearch(t):null}},model:{value:e.filters.nickname,callback:function(t){e.$set(e.filters,"nickname",t)},expression:"filters.nickname"}})],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:e.handleSearch}},[e._v("查询")])],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:e.showAddDialog}},[e._v("添加")])],1)],1)],1),e._v(" "),a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.task,"highlight-current-row":"",id:"out-table"},on:{"selection-change":e.selsChange}},[a("el-table-column",{attrs:{type:"selection",width:"55"}}),e._v(" "),a("el-table-column",{attrs:{type:"index",width:"60"}}),e._v(" "),a("el-table-column",{attrs:{prop:"name",label:"任务名称",width:"160"}}),e._v(" "),a("el-table-column",{attrs:{prop:"desc",label:"详细描述",width:"200"}}),e._v(" "),a("el-table-column",{attrs:{prop:"type",label:"任务类型",width:"120"}}),e._v(" "),a("el-table-column",{attrs:{prop:"taskName",label:"任务种类",width:"120"}}),e._v(" "),a("el-table-column",{attrs:{label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{size:"small"},on:{click:function(a){e.publishDialog(t.$index,t.row)}}},[e._v("发布")]),e._v(" "),a("el-button",{attrs:{type:"danger",size:"small"},on:{click:function(a){e.delBook(t.$index,t.row)}}},[e._v("删除")])]}}])})],1),e._v(" "),a("el-dialog",{attrs:{title:"新增任务",visible:e.addFormVisible,"close-on-click-modal":!1},on:{"update:visible":function(t){e.addFormVisible=t}}},[a("el-form",{ref:"addForm",attrs:{model:e.addForm,"label-width":"80px",rules:e.addFormRules}},[a("el-form-item",{attrs:{label:"任务名称",prop:"name",required:""}},[a("el-input",{attrs:{"auto-complete":"off"},model:{value:e.addForm.name,callback:function(t){e.$set(e.addForm,"name",t)},expression:"addForm.name"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"详细描述",prop:"description",required:""}},[a("el-input",{attrs:{"auto-complete":"off"},model:{value:e.addForm.description,callback:function(t){e.$set(e.addForm,"description",t)},expression:"addForm.description"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"任务类型",prop:"taskType",required:""}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.addForm.taskType,callback:function(t){e.$set(e.addForm,"taskType",t)},expression:"addForm.taskType"}},e._l(e.options,function(e,t){return a("el-option",{key:t,attrs:{label:e.label,value:e}})}))],1),e._v(" "),a("el-form-item",{attrs:{label:"任务种类",prop:"Typetask",required:""}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.addForm.Typetask,callback:function(t){e.$set(e.addForm,"Typetask",t)},expression:"addForm.Typetask"}},e._l(e.typeTask,function(e){return a("el-option",{key:e.taskType,attrs:{label:e.label,value:e.taskName}})}))],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{nativeOn:{click:function(t){e.addFormVisible=!1}}},[e._v("取消")]),e._v(" "),a("el-button",{attrs:{type:"primary",loading:e.addLoading},nativeOn:{click:function(t){return e.addSubmit(t)}}},[e._v("保存")])],1)],1),e._v(" "),a("el-dialog",{attrs:{title:"发布任务",visible:e.publishVisible,"close-on-click-modal":!1},on:{"update:visible":function(t){e.publishVisible=t}}},[a("el-form",{ref:"addForm",attrs:{model:e.publishForm,"label-width":"120px",rules:e.addFormRules}},[a("el-form-item",{attrs:{label:"发布对象",prop:"releaseObject",required:""}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.publishForm.releaseObject,callback:function(t){e.$set(e.publishForm,"releaseObject",t)},expression:"publishForm.releaseObject"}},e._l(e.userType,function(e,t){return a("el-option",{key:t,attrs:{label:e.label,value:e.value}})}))],1),e._v(" "),a("el-form-item",{attrs:{label:"任务名称",prop:"name",required:""}},[a("el-input",{attrs:{"auto-complete":"off"},model:{value:e.publishForm.name,callback:function(t){e.$set(e.publishForm,"name",t)},expression:"publishForm.name"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"详细描述",prop:"desc",required:""}},[a("el-input",{attrs:{"auto-complete":"off"},model:{value:e.publishForm.desc,callback:function(t){e.$set(e.publishForm,"desc",t)},expression:"publishForm.desc"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"任务类型",prop:"type",required:""}},[a("el-input",{attrs:{"auto-complete":"off"},model:{value:e.publishForm.type,callback:function(t){e.$set(e.publishForm,"type",t)},expression:"publishForm.type"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"任务种类",prop:"taskName",required:""}},[a("el-input",{attrs:{"auto-complete":"off"},model:{value:e.publishForm.taskName,callback:function(t){e.$set(e.publishForm,"taskName",t)},expression:"publishForm.taskName"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"奖励玉石数量",prop:"goldNumber"}},[a("el-input",{staticStyle:{width:"220px"},attrs:{"auto-complete":"off"},model:{value:e.publishForm.goldNumber,callback:function(t){e.$set(e.publishForm,"goldNumber",t)},expression:"publishForm.goldNumber"}}),e._v("个\n      ")],1),e._v(" "),a("el-form-item",{attrs:{label:"奖励礼券数量",prop:"integralNumber"}},[a("el-input",{staticStyle:{width:"220px"},attrs:{"auto-complete":"off"},model:{value:e.publishForm.integralNumber,callback:function(t){e.$set(e.publishForm,"integralNumber",t)},expression:"publishForm.integralNumber"}}),e._v("个\n      ")],1),e._v(" "),a("el-form-item",{attrs:{label:"奖励会员天数",prop:"vipDays"}},[a("el-input",{staticStyle:{width:"220px"},attrs:{"auto-complete":"off"},model:{value:e.publishForm.vipDays,callback:function(t){e.$set(e.publishForm,"vipDays",t)},expression:"publishForm.vipDays"}}),e._v("天\n      ")],1),e._v(" "),a("el-form-item",{attrs:{label:"完成次数",prop:"completionTimes",required:""}},[a("el-input",{staticStyle:{width:"220px"},attrs:{type:"number","auto-complete":"off"},model:{value:e.publishForm.completionTimes,callback:function(t){e.$set(e.publishForm,"completionTimes",t)},expression:"publishForm.completionTimes"}})],1),e._v(" "),a("el-radio",{staticClass:"radio",attrs:{label:"1"},model:{value:e.radio,callback:function(t){e.radio=t},expression:"radio"}},[e._v("每日")])],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{nativeOn:{click:function(t){e.publishVisible=!1}}},[e._v("取消")]),e._v(" "),a("el-button",{attrs:{type:"primary",loading:e.addLoading},nativeOn:{click:function(t){return e.publishSubmit(t)}}},[e._v("确认")])],1)],1),e._v(" "),a("el-col",{staticClass:"toolbar",attrs:{span:24}},[a("el-button",{attrs:{type:"danger",disabled:0===this.sels.length},on:{click:e.batchDeleteBook}},[e._v("批量删除")]),e._v(" "),a("el-pagination",{staticStyle:{float:"right"},attrs:{layout:"prev, pager, next","page-size":1,total:e.total},on:{"current-change":e.handleCurrentChange}})],1)],1)},staticRenderFns:[]};var pe=a("VU/8")(de,me,!1,function(e){a("rk3D")},"data-v-d06e58ba",null).exports,he={name:"PublishedTask",data:function(){return{options:[{value:null,label:"所有任务"},{value:!0,label:"会员任务"},{value:!1,label:"非会员任务"}],value:"",filters:{name:""},loading:!1,items:[],sels:[],total:0,data:[]}},methods:{trim:function(e){if(null!=e)return e.replace(/(^\s+)|(\s+$)/g,"")},selsChange:function(e){this.sels=e},handleCurrentChange:function(e){this.page=e,this.showtask(this.page)},showtask:function(){var e=this;l()({method:"post",url:this.global.mPath+"/task/querytaskdocumenthistory",headers:{"Content-type":"application/x-www-form-urlencoded"},params:{size:"10",page:this.page,taskDocId:this.trim(this.filters.taskDocId),promulgator:this.trim(this.filters.promulgator),vip:this.value,token:sessionStorage.getItem("token")}}).then(function(t){e.items=t.data.data.items,e.total=t.data.data.pageCount}).catch(function(t){if(t&&t.response)switch(t.response.status){case 504:case 500:e.$message({showClose:!0,message:"服务器异常",type:"warning"}),e.loading=!1;break;case 405:e.$message({showClose:!0,message:"请先登录",type:"warning"})}})},deletetask:function(e,t){var a=this,s=this;this.$confirm("确认删除该记录吗?","提示",{type:"warning"}).then(function(){s.loading=!0,l()({method:"post",url:a.global.mPath+"/task/withdraw",headers:{"Content-type":"application/x-www-form-urlencoded"},params:{taskId:t.id,token:sessionStorage.getItem("token")}}).then(function(e){s.loading=!1,1==e.data.success?(s.$message.success({showClose:!0,message:"删除成功",duration:1500}),s.showtask()):0==e.data.success&&s.$message.error({showClose:!0,message:err.toString(),duration:2e3})}).catch(function(e){s.loading=!1,console.log(error),s.$message.error({showClose:!0,message:"请求出现异常",duration:2e3})})})},deletechecktask:function(){var e=this,t=this.sels.map(function(e){return e.id}).toString(),a=this;this.$confirm("确认删除选中记录吗？","提示",{type:"warning"}).then(function(){a.loading=!0,l()({method:"post",url:e.global.mPath+"/task/withdraw",headers:{"Content-type":"application/x-www-form-urlencoded"},params:{taskId:t,token:sessionStorage.getItem("token")}}).then(function(t){a.loading=!1,1==t.data.success?(a.$message.success({showClose:!0,message:"删除成功",duration:1500}),e.showtask()):0==t.data.success&&a.$message.error({showClose:!0,message:err.toString(),duration:2e3})}).catch(function(e){a.loading=!1,console.log(error),a.$message.error({showClose:!0,message:"请求出现异常",duration:2e3})})})}},mounted:function(){var e=this;this.showtask(),l()({method:"post",url:this.global.mPath+"/task/querytasktype",headers:{"Content-type":"application/x-www-form-urlencoded"},params:{token:sessionStorage.getItem("token")}}).then(function(t){e.data=t.data.data}).catch(function(t){if(t&&t.response)switch(t.response.status){case 504:case 500:e.$message({showClose:!0,message:"服务器异常",type:"warning"}),e.loading=!1;break;case 405:e.$message({showClose:!0,message:"请先登录",type:"warning"})}})}},ge={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-row",{staticClass:"warp"},[a("el-col",{staticClass:"warp-breadcrum",attrs:{span:24}},[a("el-breadcrumb",{attrs:{separator:"/"}},[a("el-breadcrumb-item",{attrs:{to:{path:"/"}}},[a("b",[e._v("任务管理")])]),e._v(" "),a("el-breadcrumb-item",[e._v("已发布任务")])],1)],1),e._v(" "),a("el-col",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticClass:"warp-main",attrs:{span:24,"element-loading-text":"拼命加载中"}},[a("el-col",{staticClass:"toolbar",staticStyle:{"padding-bottom":"0px"},attrs:{span:24}},[a("el-form",{attrs:{inline:!0,model:e.filters}},[a("el-form-item",[a("el-input",{attrs:{placeholder:"任务ID"},model:{value:e.filters.taskDocId,callback:function(t){e.$set(e.filters,"taskDocId",t)},expression:"filters.taskDocId"}})],1),e._v(" "),a("el-form-item",[a("el-input",{attrs:{placeholder:"管理员名称"},model:{value:e.filters.promulgator,callback:function(t){e.$set(e.filters,"promulgator",t)},expression:"filters.promulgator"}})],1),e._v(" "),a("el-form-item",[a("el-select",{attrs:{placeholder:"请选择发布对象",clearable:""},model:{value:e.filters.vip,callback:function(t){e.$set(e.filters,"vip",t)},expression:"filters.vip"}},e._l(e.options,function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}))],1),e._v(" "),a("el-form-item",[a("el-select",{attrs:{placeholder:"请选择任务类型",clearable:""},model:{value:e.filters.type,callback:function(t){e.$set(e.filters,"type",t)},expression:"filters.type"}},e._l(e.data,function(e,t){return a("el-option",{key:t,attrs:{label:e.label,value:e}})}))],1),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:e.showtask}},[e._v("查询")])],1)],1)],1),e._v(" "),a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.items,"highlight-current-row":""},on:{"selection-change":e.selsChange}},[a("el-table-column",{attrs:{type:"selection",width:"50"}}),e._v(" "),a("el-table-column",{attrs:{type:"index",width:"50"}}),e._v(" "),a("el-table-column",{attrs:{prop:"taskDocId",label:"任务ID",width:"120"}}),e._v(" "),a("el-table-column",{attrs:{prop:"promulgator",label:"管理员名称",width:"120"}}),e._v(" "),a("el-table-column",{attrs:{prop:"name",label:"任务名称",width:"100"}}),e._v(" "),a("el-table-column",{attrs:{prop:"desc",label:"详细描述",width:"100"}}),e._v(" "),a("el-table-column",{attrs:{prop:"type",label:"任务类型",width:"100"}}),e._v(" "),a("el-table-column",{attrs:{prop:"rewardGold",label:"玉石（个）",width:"120"}}),e._v(" "),a("el-table-column",{attrs:{prop:"rewardScore",label:"礼券",width:"100"}}),e._v(" "),a("el-table-column",{attrs:{prop:"rewardVip",label:"会员卡（天）",width:"140"}}),e._v(" "),a("el-table-column",{attrs:{prop:"targetNum",label:"完成次数",width:"100"}}),e._v(" "),a("el-table-column",{attrs:{label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"danger",size:"small"},on:{click:function(a){e.deletetask(t.$index,t.row)}}},[e._v("删除")])]}}])})],1),e._v(" "),a("el-col",{staticClass:"toolbar",attrs:{span:24}},[a("el-button",{attrs:{type:"danger",disabled:0===this.sels.length},on:{click:e.deletechecktask}},[e._v("批量删除")]),e._v(" "),a("el-pagination",{staticStyle:{float:"right"},attrs:{layout:"prev, pager, next","page-size":1,total:e.total},on:{"current-change":e.handleCurrentChange}})],1)],1)},staticRenderFns:[]};var fe=a("VU/8")(he,ge,!1,function(e){a("blgi")},"data-v-9339b5a6",null).exports,be={name:"MailingList",data:function(){return{filters:{},email:[],sels:[],total:0,options:[{value:"活动奖励"},{value:"系统通知"},{value:"活动通知"}],page:""}},methods:{handleCurrentChange:function(e){this.page=e,this.handleSearch(this.page)},dateTimeFormat:function(e){var t=new Date(+e),a=function(e){return(e="0"+e).substring(e.length-2,e.length)};if(null!=t){var s=t.getFullYear(),i=t.getMonth()+1,r=t.getDate(),n=t.getHours(),o=t.getMinutes(),l=t.getSeconds();return s+"-"+a(i)+"-"+a(r)+" "+a(n)+":"+a(o)+":"+a(l)}},trim:function(e){if(null!=e)return e.replace(/(^\s+)|(\s+$)/g,"")},handleSearch:function(e){var t=this;l()({method:"post",url:this.global.mPath+"/mailctrl/find_mail_record",headers:{"Content-type":"application/x-www-form-urlencoded"},params:{memberId:this.trim(this.filters.nickname),mailType:this.filters.type,page:e,size:"10",token:sessionStorage.getItem("token")}}).then(function(e){t.email=e.data.data.items,t.total=e.data.data.pageCount;for(var a=0;a<t.email.length;a++)console.log(t.email[a]),1==t.email[a].receive&&(t.email[a].receive="未领取"),0==t.email[a].receive&&(t.email[a].receive="已领取"),t.email[a].systemMail.createtime=t.dateTimeFormat(t.email[a].systemMail.createtime),t.email[a].systemMail.validTime=t.dateTimeFormat(t.email[a].systemMail.validTime)}).catch(function(e){if(e&&e.response)switch(e.response.status){case 504:t.$message({showClose:!0,message:"服务器异常",type:"warning"});break;case 405:t.$message({showClose:!0,message:"请先登录",type:"warning"})}})},selsChange:function(e){this.sels=e},delBook:function(e,t){var a=this,s=this;this.$confirm("确认删除该记录吗?","提示",{type:"warning"}).then(function(){s.loading=!0,l()({method:"post",url:a.global.mPath+"/mailctrl/deleteMailStateAll",headers:{"Content-type":"application/x-www-form-urlencoded"},params:{ids:t.id,token:sessionStorage.getItem("token")}}).then(function(e){s.loading=!1,1==e.data.success?(s.$message.success({showClose:!0,message:"删除成功",duration:1500}),s.handleSearch(1)):s.$message.error({showClose:!0,message:err.toString(),duration:2e3})}).catch(function(e){s.loading=!1,console.log(e),s.$message.error({showClose:!0,message:"请求出现异常",duration:2e3})})})},batchDeleteBook:function(){var e=this,t=this.sels.map(function(e){return e.id}).toString(),a=this;this.$confirm("确认删除该记录吗?","提示",{type:"warning"}).then(function(){a.loading=!0,l()({method:"post",url:e.global.mPath+"/mailctrl/deleteMailStateAll",headers:{"Content-type":"application/x-www-form-urlencoded"},params:{ids:t,token:sessionStorage.getItem("token")}}).then(function(e){a.loading=!1,1==e.data.success?(a.$message.success({showClose:!0,message:"删除成功",duration:1500}),a.handleSearch(1)):a.$message.error({showClose:!0,message:err.toString(),duration:2e3})}).catch(function(e){a.loading=!1,console.log(e),a.$message.error({showClose:!0,message:"请求出现异常",duration:2e3})})})}},mounted:function(){this.handleSearch(1)}},ve={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-row",{staticClass:"warp"},[a("el-col",{staticClass:"warp-breadcrum",attrs:{span:24}},[a("el-breadcrumb",{attrs:{separator:"/"}},[a("el-breadcrumb-item",{attrs:{to:{path:"/"}}},[a("b",[e._v("邮件管理")])]),e._v(" "),a("el-breadcrumb-item",[e._v("邮件列表")])],1)],1),e._v(" "),a("el-col",{staticClass:"toolbar",staticStyle:{"padding-bottom":"0px"},attrs:{span:24}},[a("el-form",{attrs:{inline:!0,model:e.filters}},[a("el-form-item",{attrs:{label:"用户ID","label-width":"68px"}},[a("el-input",{attrs:{placeholder:"用户ID"},nativeOn:{keyup:function(t){return"button"in t||!e._k(t.keyCode,"enter",13,t.key,"Enter")?e.handleSearch(t):null}},model:{value:e.filters.nickname,callback:function(t){e.$set(e.filters,"nickname",t)},expression:"filters.nickname"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"类型","label-width":"68px"}},[a("el-select",{attrs:{placeholder:"请选择",clearable:""},model:{value:e.filters.type,callback:function(t){e.$set(e.filters,"type",t)},expression:"filters.type"}},e._l(e.options,function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}))],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.handleSearch(1)}}},[e._v("查询")])],1)],1)],1),e._v(" "),a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.email,"highlight-current-row":""},on:{"selection-change":e.selsChange}},[a("el-table-column",{attrs:{type:"selection",width:"55"}}),e._v(" "),a("el-table-column",{attrs:{type:"index",width:"60"}}),e._v(" "),a("el-table-column",{attrs:{prop:"memberId",label:"用户ID",width:"auto"}}),e._v(" "),a("el-table-column",{attrs:{prop:"systemMail.file",label:"邮件内容",width:"auto"},scopedSlots:e._u([{key:"default",fn:function(e){return[a("img",{staticStyle:{width:"50px",height:"50px"},attrs:{src:e.row.systemMail.file,alt:""}})]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"systemMail.mailType",label:"类型",width:"auto"}}),e._v(" "),a("el-table-column",{attrs:{prop:"systemMail.number",label:"玉石",width:"auto"}}),e._v(" "),a("el-table-column",{attrs:{prop:"systemMail.integral",label:"礼券",width:"auto"}}),e._v(" "),a("el-table-column",{attrs:{prop:"systemMail.vipcard",label:"会员卡",width:"auto"}}),e._v(" "),a("el-table-column",{attrs:{prop:"systemMail.validTime",label:"有效时间",width:"auto"}}),e._v(" "),a("el-table-column",{attrs:{prop:"systemMail.createtime",label:"发送时间",width:"auto"}}),e._v(" "),a("el-table-column",{attrs:{prop:"receive",label:"是否领取",width:"auto"}}),e._v(" "),a("el-table-column",{attrs:{label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"danger",size:"small"},on:{click:function(a){e.delBook(t.$index,t.row)}}},[e._v("删除")])]}}])})],1),e._v(" "),a("el-col",{staticClass:"toolbar",attrs:{span:24}},[a("el-button",{attrs:{type:"danger",disabled:0===this.sels.length},on:{click:e.batchDeleteBook}},[e._v("批量删除")]),e._v(" "),a("el-pagination",{staticStyle:{float:"right"},attrs:{layout:"prev, pager, next","page-size":1,total:e.total},on:{"current-change":e.handleCurrentChange}})],1)],1)},staticRenderFns:[]};var ye=a("VU/8")(be,ve,!1,function(e){a("tspI")},"data-v-a7868076",null).exports,we={name:"Mailing",data:function(){return{options:[{value:"活动奖励"},{value:"系统通知"},{value:"活动通知"}],value:"活动奖励",day:[{value2:"1"},{value2:"3"},{value2:"7"},{value2:"30"}],value2:"1",data:[],id:this.data,filters:{},imageUrl:"",domain:"http://up.qiniu.com",qiniuaddr:"qiniu.3cscy.com",rules:{ids:[{required:!0,message:"请输入ID",trigger:"blur"}]},radio:"",visible:!1}},methods:{trim:function(e){if(null!=e)return e.replace(/(^\s+)|(\s+$)/g,"")},upqiniu:function(e){var t=this,a={headers:{"Content-Type":"multipart/form-data"}},s="";s="image/png"===e.file.type?"png":"jpg";var i="anbang"+Math.random()+"."+s;l()({method:"post",url:this.global.mPath+"/mailctrl/uptoken",headers:{"Content-type":"application/x-www-form-urlencoded"},params:{token:sessionStorage.getItem("token")}}).then(function(s){var r=new FormData;r.append("file",e.file),r.append("token",s.data.data),r.append("key",i),l.a.post(t.domain,r,a).then(function(e){t.imageUrl="http://"+t.qiniuaddr+"/"+e.data.key})})},beforeUpload:function(e){var t="image/jpeg"===e.type||"image/png"===e.type,a=e.size/1024/1024<2;return t||this.$message.error("上传头像图片只能是 JPG 格式!"),a||this.$message.error("上传头像图片大小不能超过 2MB!"),t&&a},reset:function(){this.filters.ids="",this.filters.number="",this.filters.integral="",this.id=""},changeInput:function(){0==this.radio?this.visible=!0:this.visible=!1},send:function(){var e=this;console.log(this.radio),this.filters.number<0||this.filters.integral<0?this.$message({showClose:!0,message:"金币或积分为正整数",type:"warning"}):0==this.radio?l()({method:"post",url:this.global.mPath+"/mailctrl/addmailbyid",headers:{"Content-type":"application/x-www-form-urlencoded"},params:{title:this.trim(this.filters.title),mailType:this.value,file:this.imageUrl,ids:this.trim(this.filters.ids),number:this.trim(this.filters.number),integral:this.trim(this.filters.integral),vipCardId:this.id,validDay:this.value2,token:sessionStorage.getItem("token")}}).then(function(t){0==t.data.success?e.$message({showClose:!0,message:"发布失败",type:"warning"}):1==t.data.success&&(e.$message({showClose:!0,message:"发布成功",type:"success"}),e.filters.ids="",e.filters.number="",e.filters.integral="",e.id="")}).catch(function(t){if(t&&t.response)switch(t.response.status){case 504:case 500:e.$message({showClose:!0,message:"服务器异常",type:"warning"}),e.loading=!1;break;case 405:e.$message({showClose:!0,message:"请先登录",type:"warning"})}}):l()({method:"post",url:this.global.mPath+"/mailctrl/addmailbytype",headers:{"Content-type":"application/x-www-form-urlencoded"},params:{title:this.trim(this.filters.title),mailType:this.value,file:this.imageUrl,number:this.trim(this.filters.number),integral:this.trim(this.filters.integral),vipCardId:this.id,validDay:this.value2,sendType:this.radio,token:sessionStorage.getItem("token")}}).then(function(t){0==t.data.success?e.$message({showClose:!0,message:"发布失败",type:"warning"}):1==t.data.success&&(e.$message({showClose:!0,message:"发布成功",type:"success"}),e.filters.ids="",e.filters.number="",e.filters.integral="",e.id="")}).catch(function(t){if(t&&t.response)switch(t.response.status){case 504:case 500:e.$message({showClose:!0,message:"服务器异常",type:"warning"}),e.loading=!1;break;case 405:e.$message({showClose:!0,message:"请先登录",type:"warning"})}})}},mounted:function(){var e=this;l()({method:"post",url:this.global.mPath+"/mailctrl/find_vipcard",headers:{"Content-type":"application/x-www-form-urlencoded"},params:{token:sessionStorage.getItem("token")}}).then(function(t){e.data=t.data.data}).catch(function(t){if(t&&t.response)switch(t.response.status){case 504:case 500:e.$message({showClose:!0,message:"服务器异常",type:"warning"}),e.loading=!1;break;case 405:e.$message({showClose:!0,message:"请先登录",type:"warning"})}})}},_e={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-row",{staticClass:"warp"},[a("el-col",{staticClass:"warp-breadcrum",attrs:{span:24}},[a("el-breadcrumb",{attrs:{separator:"/"}},[a("el-breadcrumb-item",{attrs:{to:{path:"/"}}},[a("b",[e._v("邮件管理")])]),e._v(" "),a("el-breadcrumb-item",[e._v("邮件发送")])],1)],1),e._v(" "),a("el-col",{staticClass:"warp-main",attrs:{span:24}},[a("el-col",{staticClass:"toolbar",staticStyle:{"padding-bottom":"0px"},attrs:{span:24}},[a("el-form",{attrs:{model:e.filters,"label-width":"120px",rules:e.rules}},[a("el-form-item",{attrs:{label:"标题",prop:"title"}},[a("el-input",{attrs:{type:"text",min:"0"},model:{value:e.filters.title,callback:function(t){e.$set(e.filters,"title",t)},expression:"filters.title"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"类型"}},[a("el-select",{model:{value:e.value,callback:function(t){e.value=t},expression:"value"}},e._l(e.options,function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}))],1),e._v(" "),a("el-form-item",{attrs:{label:"邮件内容",prop:"file"}},[a("div",{staticClass:"upload"},[a("el-upload",{staticClass:"avatar-uploader",attrs:{action:e.domain,"http-request":e.upqiniu,"show-file-list":!1,"before-upload":e.beforeUpload}},[e.imageUrl?a("img",{staticClass:"avatar",attrs:{src:e.imageUrl}}):a("el-button",{staticClass:"el-icon-plus avatar-uploader-icon"})],1)],1)]),e._v(" "),a("el-form-item",{attrs:{label:"用户对象",prop:"ids"}},[a("el-radio",{attrs:{label:"0"},on:{change:function(t){e.changeInput()}},model:{value:e.radio,callback:function(t){e.radio=t},expression:"radio"}},[e._v("单个用户")]),e._v(" "),e.visible?a("el-input",{attrs:{type:"textarea",autosize:"",placeholder:"多个以上ID，用“，”分隔开来。"},model:{value:e.filters.ids,callback:function(t){e.$set(e.filters,"ids",t)},expression:"filters.ids"}}):e._e(),e._v(" "),a("el-radio",{attrs:{label:"1"},on:{change:function(t){e.changeInput()}},model:{value:e.radio,callback:function(t){e.radio=t},expression:"radio"}},[e._v("会员用户")]),e._v(" "),a("el-radio",{attrs:{label:"2"},on:{change:function(t){e.changeInput()}},model:{value:e.radio,callback:function(t){e.radio=t},expression:"radio"}},[e._v("非会员用户")]),e._v(" "),a("el-radio",{attrs:{label:"3"},on:{change:function(t){e.changeInput()}},model:{value:e.radio,callback:function(t){e.radio=t},expression:"radio"}},[e._v("所有")])],1),e._v(" "),a("el-form-item",{attrs:{label:"玉石",prop:"number"}},[a("el-input",{attrs:{type:"number",min:"0",placeholder:"数目"},model:{value:e.filters.number,callback:function(t){e.$set(e.filters,"number",t)},expression:"filters.number"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"礼券",prop:"integral"}},[a("el-input",{attrs:{type:"number",min:"0",placeholder:"数目"},model:{value:e.filters.integral,callback:function(t){e.$set(e.filters,"integral",t)},expression:"filters.integral"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"物品",prop:"number"}},[a("el-select",{attrs:{placeholder:"请选择",clearable:""},model:{value:e.id,callback:function(t){e.id=t},expression:"id"}},e._l(this.data,function(e){return a("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})}))],1),e._v(" "),a("el-form-item",{attrs:{label:"邮件有效期"}},[a("el-select",{attrs:{placeholder:"请选择",clearable:""},model:{value:e.value2,callback:function(t){e.value2=t},expression:"value2"}},e._l(e.day,function(e){return a("el-option",{key:e.value2,attrs:{label:e.label,value:e.value2}})})),e._v(" 天\n        ")],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:e.send}},[e._v("确认发送")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:e.reset}},[e._v("重置")])],1)],1)],1)],1)],1)},staticRenderFns:[]};var ke=a("VU/8")(we,_e,!1,function(e){a("MVg2")},"data-v-38934d98",null).exports,Ce={name:"MailRecord",data:function(){return{filters:{},items:[],options:[{value:"",label:"所有"},{value:"活动奖励"},{value:"系统通知"},{value:"活动通知"}],value:"",adminList:[],nickname:this.adminList,total:0}},methods:{dateTimeFormat:function(e){var t=new Date(+e),a=function(e){return(e="0"+e).substring(e.length-2,e.length)};if(null!=t){var s=t.getFullYear(),i=t.getMonth()+1,r=t.getDate(),n=t.getHours(),o=t.getMinutes(),l=t.getSeconds();return s+"-"+a(i)+"-"+a(r)+" "+a(n)+":"+a(o)+":"+a(l)}},handleCurrentChange:function(e){this.page=e,this.handleSearch(this.page)},handleSearch:function(){var e=this;l()({method:"post",url:this.global.mPath+"/mailctrl/find_mail_record",headers:{"Content-type":"application/x-www-form-urlencoded"},params:{size:"10",page:this.page,startTime:"0",endTime:"0",mailType:this.filters.mailType,adminName:this.nickname,token:sessionStorage.getItem("token")}}).then(function(t){if(0==t.data.success)e.$message({showClose:!0,message:"发布失败",type:"warning"});else if(1==t.data.success){e.items=t.data.data.items,e.total=t.data.data.pageCount;for(var a=0;a<e.items.length;a++)e.items[a].systemMail.validTime=e.dateTimeFormat(e.items[a].systemMail.validTime),e.items[a].systemMail.createtime=e.dateTimeFormat(e.items[a].systemMail.createtime),e.items[a].rewardTime=e.dateTimeFormat(e.items[a].rewardTime)}}).catch(function(t){if(t&&t.response)switch(t.response.status){case 504:case 500:e.$message({showClose:!0,message:"服务器异常",type:"warning"}),e.loading=!1;break;case 405:e.$message({showClose:!0,message:"请先登录",type:"warning"})}})}},mounted:function(){var e=this;this.handleSearch(),l()({method:"post",url:this.global.mPath+"/admin/queryadmin",headers:{"Content-type":"application/x-www-form-urlencoded"},params:{token:sessionStorage.getItem("token")}}).then(function(t){e.adminList=t.data.data.items}).catch(function(t){if(t&&t.response)switch(t.response.status){case 504:case 500:e.$message({showClose:!0,message:"服务器异常",type:"warning"}),e.loading=!1;break;case 405:e.$message({showClose:!0,message:"请先登录",type:"warning"})}})}},xe={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-row",{staticClass:"warp"},[a("el-col",{staticClass:"warp-breadcrum",attrs:{span:24}},[a("el-breadcrumb",{attrs:{separator:"/"}},[a("el-breadcrumb-item",{attrs:{to:{path:"/"}}},[a("b",[e._v("邮件管理")])]),e._v(" "),a("el-breadcrumb-item",[e._v("邮件记录")])],1)],1),e._v(" "),a("el-col",{staticClass:"toolbar",staticStyle:{"padding-bottom":"0px"},attrs:{span:24}},[a("el-form",{attrs:{inline:!0,model:e.filters}},[a("el-form-item",{attrs:{label:"开始时间","label-width":"68px"}},[a("el-date-picker",{attrs:{type:"date",placeholder:"选择日期"},model:{value:e.filters.startTime,callback:function(t){e.$set(e.filters,"startTime",t)},expression:"filters.startTime"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"结束时间","label-width":"68px"}},[a("el-date-picker",{attrs:{type:"date",placeholder:"选择日期"},model:{value:e.filters.endTime,callback:function(t){e.$set(e.filters,"endTime",t)},expression:"filters.endTime"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"类型","label-width":"68px"}},[a("el-select",{attrs:{placeholder:"请选择",clearable:""},model:{value:e.filters.mailType,callback:function(t){e.$set(e.filters,"mailType",t)},expression:"filters.mailType"}},e._l(e.options,function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}))],1),e._v(" "),a("el-form-item",{attrs:{label:"操作人","label-width":"68px"}},[a("el-select",{attrs:{placeholder:"请选择",clearable:""},model:{value:e.nickname,callback:function(t){e.nickname=t},expression:"nickname"}},e._l(this.adminList,function(e){return a("el-option",{key:e.nickname,attrs:{label:e.nickname,value:e.nickname}})}))],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:e.handleSearch}},[e._v("查询")])],1)],1)],1),e._v(" "),a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.items,"highlight-current-row":""}},[a("el-table-column",{attrs:{type:"index",width:"60"}}),e._v(" "),a("el-table-column",{attrs:{prop:"memberId",label:"用户ID",width:"auto"}}),e._v(" "),a("el-table-column",{attrs:{prop:"systemMail.file",label:"邮件内容",width:"auto"},scopedSlots:e._u([{key:"default",fn:function(e){return[a("img",{staticStyle:{width:"50px",height:"50px"},attrs:{src:e.row.systemMail.file,alt:""}})]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"systemMail.mailType",label:"类型",width:"auto"}}),e._v(" "),a("el-table-column",{attrs:{prop:"systemMail.number",label:"玉石",width:"auto"}}),e._v(" "),a("el-table-column",{attrs:{prop:"systemMail.integral",label:"礼券",width:"auto"}}),e._v(" "),a("el-table-column",{attrs:{prop:"vipCardName",label:"会员卡",width:"auto"}}),e._v(" "),a("el-table-column",{attrs:{prop:"systemMail.validTime",label:"有效时间",width:"auto"}}),e._v(" "),a("el-table-column",{attrs:{prop:"systemMail.createtime",label:"发送时间",width:"auto"}}),e._v(" "),a("el-table-column",{attrs:{prop:"receive",label:"是否领取",width:"160"},scopedSlots:e._u([{key:"default",fn:function(t){return["0"===t.row.receive?a("el-button",{attrs:{type:"text"}},[e._v("已领取")]):e._e(),e._v(" "),"1"===t.row.receive?a("el-button",{attrs:{type:"text"}},[e._v("未领取")]):e._e(),e._v(" "),"2"===t.row.receive?a("el-button",{attrs:{type:"text"}},[e._v("没有附件奖励")]):e._e()]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"rewardTime",label:"领取时间",width:"160"},scopedSlots:e._u([{key:"default",fn:function(t){return["1970-01-01 08:00:00"===t.row.rewardTime?a("el-button",{attrs:{type:"text"}}):e._e(),e._v(" "),"1970-01-01 08:00:00"!==t.row.rewardTime?a("el-button",{attrs:{type:"text"}},[e._v(e._s(t.row.rewardTime)+"\n        ")]):e._e()]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"systemMail.adminname",label:"发送人",width:"auto"}})],1),e._v(" "),a("el-col",{staticClass:"toolbar",attrs:{span:24}},[a("el-pagination",{staticStyle:{float:"right"},attrs:{layout:"prev, pager, next","page-size":1,total:e.total},on:{"current-change":e.handleCurrentChange}})],1)],1)},staticRenderFns:[]};var Se=a("VU/8")(Ce,xe,!1,function(e){a("SYR4")},"data-v-ea798c16",null).exports,Fe={name:"PromoterManagement",data:function(){return{filters:{},record:[],form:{},roles:[],total:0,upgrade:"",options:[{value:"一级推广员"},{value:"二级推广员"}],types:[{value:"周卡"},{value:"月卡"},{value:"季卡"}],centerDialogVisible:!1,relieveDialogVisible:!1,LevelUpVisible:!1,boundVisible:!1,operateVisible:!1,disqualifyDialogVisible:!0,unlockingDialogVisible:!1,publishVisible:!1,notarizeVisible:!1,integralVisible:!1,sureVisible:!1,state:"",seniorAmount:"",juniorAmount:"",sorting:{},page:1,state1:{},publishForm:{},number:"",id:"",integralForm:{},score:"",publishForm1:{}}},methods:{dateTimeFormat:function(e){var t=new Date(+e),a=function(e){return(e="0"+e).substring(e.length-2,e.length)};if(null!=t){var s=t.getFullYear(),i=t.getMonth()+1,r=t.getDate(),n=t.getHours(),o=t.getMinutes(),l=t.getSeconds();return s+"-"+a(i)+"-"+a(r)+" "+a(n)+":"+a(o)+":"+a(l)}},handleSearch:function(e,t,a){var s=this;if("一级推广员"==this.filters.mailType&&(this.filters.mailType1=1),"二级推广员"==this.filters.mailType&&(this.filters.mailType1=2),this.filters.startTime){var i=new Date(this.filters.startTime);this.state1.startTime=i.getTime()}if(this.filters.endTime){var r=new Date(this.filters.endTime);this.state1.endTime=r.getTime()}this.filters.startTime&&this.filters.endTime&&this.state1.endTime-this.state1.startTime<0||l()({url:this.global.mPath+"/agent/queryagent",method:"post",params:{page:this.page,size:10,token:sessionStorage.getItem("token"),id:this.filters.id,nickname:this.filters.nickname,phone:this.filters.phone,userName:this.filters.userName,startTime:this.state1.startTime,endTime:this.state1.endTime,level:this.filters.mailType1,levelSort:e,createTimeSort:t,stateSort:a}}).then(function(e){console.log(e.data),s.juniorAmount=e.data.data.juniorAmount,s.seniorAmount=e.data.data.seniorAmount,s.record=e.data.data.agentList.items,s.total=e.data.data.agentList.pageCount;for(var t=0;t<s.record.length;t++)s.record[t].createTime=s.dateTimeFormat(s.record[t].createTime),1==s.record[t].level&&(s.record[t].level="一级推广员",s.record[t].bossId1=s.record[t].id),2==s.record[t].level&&(s.record[t].level="二级推广员",s.record[t].bossId1=s.record[t].bossId)}).catch(function(e){s.$message.error({showClose:!0,message:"请求出现异常",duration:2e3})})},sort:function(e){this.sorting=e,"level"==this.sorting.prop&&("ascending"==this.sorting.order&&(this.sorting.level="ASC"),"descending"==this.sorting.order&&(this.sorting.level="DESC")),"createTime"==this.sorting.prop&&("ascending"==this.sorting.order&&(this.sorting.createTime="ASC"),"descending"==this.sorting.order&&(this.sorting.createTime="DESC")),"state"==this.sorting.prop&&("ascending"==this.sorting.order&&(this.sorting.state="ASC"),"descending"==this.sorting.order&&(this.sorting.state="DESC")),this.handleSearch(this.sorting.level,this.sorting.createTime,this.sorting.state)},particulars:function(e,t){var a=this;this.centerDialogVisible=!0,l()({url:this.global.mPath+"/agent/agentdetail",method:"post",params:{agentId:t.id,token:sessionStorage.getItem("token")}}).then(function(e){console.log(e.data),t.clubCardYue=e.data.data.clubCardYue,t.clubCardJi=e.data.data.clubCardJi,t.clubCardZhou=e.data.data.clubCardZhou,t.score=e.data.data.score,a.roles=[f()({},t)],a.state=e.data.data.agent.state,a.id=e.data.data.agent.id,a.score=e.data.data.score}).catch(function(e){a.$message.error({showClose:!0,message:"请求出现异常",duration:2e3})})},operation:function(e,t){this.operateVisible=!0,this.boundVisible=!0,this.LevelUpVisible=!1,this.form=f()({},t)},bound:function(){var e=this;l()({url:this.global.mPath+"/agent/setboss",method:"post",params:{agentId:this.form.id,bossId:this.form.bossId,token:sessionStorage.getItem("token")}}).then(function(t){console.log(t.data),t.data.success?(e.$message.success({showClose:!0,message:"绑定成功",duration:1500}),e.operateVisible=!1,e.handleSearch(1)):e.$message.error({showClose:!0,message:err.toString(),duration:2e3})}).catch(function(t){e.$message.error({showClose:!0,message:"请求出现异常",duration:2e3})})},unbound:function(){var e=this;l()({url:this.global.mPath+"/agent/removeboss",method:"post",params:{agentId:this.form.id,token:sessionStorage.getItem("token")}}).then(function(t){console.log(t.data),t.data.success?(e.$message.success({showClose:!0,message:"解除绑定成功",duration:1500}),e.operateVisible=!1,e.handleSearch(1)):e.$message.error({showClose:!0,message:err.toString(),duration:2e3})}).catch(function(t){e.$message.error({showClose:!0,message:"请求出现异常",duration:2e3})})},pinless:function(){this.LevelUpVisible=!1,this.boundVisible=!0},levelup:function(){this.LevelUpVisible=!0,this.boundVisible=!1},makeSure:function(){var e=this;"一级推广员"==this.form.upgrade&&(this.upgrade=1),"二级推广员"==this.form.upgrade&&(this.upgrade=2),l()({url:this.global.mPath+"/agent/setlevel",method:"post",params:{agentId:this.form.id,level:this.upgrade,token:sessionStorage.getItem("token")}}).then(function(t){console.log(t.data),t.data.success?(e.$message.success({showClose:!0,message:"等级修改成功",duration:1500}),e.operateVisible=!1,e.handleSearch(1)):e.$message.error({showClose:!0,message:err.toString(),duration:2e3})}).catch(function(t){e.$message.error({showClose:!0,message:"请求出现异常",duration:2e3})})},CancelSubmit:function(){var e=this;l()({url:this.global.mPath+"/agent/ban",method:"post",params:{agentId:this.roles[0].id,token:sessionStorage.getItem("token")}}).then(function(t){console.log(t.data),t.data.success?(e.unlockingDialogVisible=!0,e.disqualifyDialogVisible=!1,e.roles[0].state=t.data.data,e.state="封禁",e.handleSearch(1)):e.$message.error({showClose:!0,message:err.toString(),duration:2e3})}).catch(function(t){e.$message.error({showClose:!0,message:"请求出现异常",duration:2e3})})},relieveSubmit:function(){var e=this;l()({url:this.global.mPath+"/agent/liberate",method:"post",params:{agentId:this.roles[0].id,token:sessionStorage.getItem("token")}}).then(function(t){console.log(t.data),t.data.success?(e.unlockingDialogVisible=!1,e.disqualifyDialogVisible=!0,e.roles[0].state=t.data.data,e.state="正常",e.handleSearch(1)):e.$message.error({showClose:!0,message:err.toString(),duration:2e3})}).catch(function(t){e.$message.error({showClose:!0,message:"请求出现异常",duration:2e3})})},handleCurrentChange:function(e){this.page=e,this.sort(this.sorting)},MembershipAdjustment:function(){this.publishVisible=!0},sure:function(){var e=this;"周卡"==this.publishForm.product&&(this.publishForm1.product="zhou"),"月卡"==this.publishForm.product&&(this.publishForm1.product="yue"),"季卡"==this.publishForm.product&&(this.publishForm1.product="ji"),l()({method:"post",url:this.global.mPath+"/agent/clubcardmanager",headers:{"Content-type":"application/x-www-form-urlencoded"},params:{agentId:this.id,card:this.publishForm1.product,cardAmount:this.publishForm.afternumber,token:sessionStorage.getItem("token")}}).then(function(t){0==t.data.success?e.$message({showClose:!0,message:"调整失败",type:"warning"}):1==t.data.success&&(e.$message({showClose:!0,message:"调整成功",type:"success"}),e.centerDialogVisible=!1,e.notarizeVisible=!1,e.handleSearch())}).catch(function(t){if(t&&t.response)switch(t.response.status){case 504:case 500:e.$message({showClose:!0,message:"服务器异常",type:"warning"}),e.loading=!1;break;case 405:e.$message({showClose:!0,message:"请先登录",type:"warning"})}})},IntegralAdjustment:function(){this.integralVisible=!0},Confirm:function(){var e=this;l()({method:"post",url:this.global.mPath+"/agent/scoremanager",headers:{"Content-type":"application/x-www-form-urlencoded"},params:{agentId:this.id,scoreAmount:this.integralForm.afterAmount,token:sessionStorage.getItem("token")}}).then(function(t){0==t.data.success?e.$message({showClose:!0,message:"调整失败",type:"warning"}):1==t.data.success&&(e.$message({showClose:!0,message:"调整成功",type:"success"}),e.centerDialogVisible=!1,e.sureVisible=!1,e.handleSearch())}).catch(function(t){if(t&&t.response)switch(t.response.status){case 504:case 500:e.$message({showClose:!0,message:"服务器异常",type:"warning"}),e.loading=!1;break;case 405:e.$message({showClose:!0,message:"请先登录",type:"warning"})}})}},mounted:function(){this.handleSearch()}},Te={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-row",{staticClass:"warp"},[a("el-col",{staticClass:"warp-breadcrum",attrs:{span:24}},[a("el-breadcrumb",{attrs:{separator:"/"}},[a("el-breadcrumb-item",{attrs:{to:{path:"/"}}},[a("b",[e._v("推广员中心")])]),e._v(" "),a("el-breadcrumb-item",[e._v("推广员管理")])],1)],1),e._v(" "),a("el-row",{staticStyle:{"margin-top":"30px"},attrs:{gutter:20}},[a("el-col",{attrs:{span:6}},[a("div",{staticClass:"grid-content bg-purple"},[a("div",{staticClass:"type"},[e._v("一级推广员")]),e._v(" "),a("div",{staticClass:"num"},[e._v(e._s(e.seniorAmount)+"人")])])]),e._v(" "),a("el-col",{attrs:{span:6}},[a("div",{staticClass:"grid-content bg-purple"},[a("div",{staticClass:"type"},[e._v("二级推广员")]),e._v(" "),a("div",{staticClass:"num"},[e._v(e._s(e.juniorAmount)+"人")])])])],1),e._v(" "),a("el-col",{staticClass:"toolbar",staticStyle:{"padding-bottom":"0px"},attrs:{span:24}},[a("el-form",{attrs:{inline:!0,model:e.filters}},[a("el-form-item",{attrs:{label:"推广员ID"}},[a("el-input",{nativeOn:{keyup:function(t){if(!("button"in t)&&e._k(t.keyCode,"enter",13,t.key,"Enter"))return null;e.handleSearch()}},model:{value:e.filters.id,callback:function(t){e.$set(e.filters,"id",t)},expression:"filters.id"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"推广员昵称"}},[a("el-input",{nativeOn:{keyup:function(t){if(!("button"in t)&&e._k(t.keyCode,"enter",13,t.key,"Enter"))return null;e.handleSearch()}},model:{value:e.filters.nickname,callback:function(t){e.$set(e.filters,"nickname",t)},expression:"filters.nickname"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"手机号码"}},[a("el-input",{nativeOn:{keyup:function(t){if(!("button"in t)&&e._k(t.keyCode,"enter",13,t.key,"Enter"))return null;e.handleSearch()}},model:{value:e.filters.phone,callback:function(t){e.$set(e.filters,"phone",t)},expression:"filters.phone"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"姓名"}},[a("el-input",{attrs:{placeholder:"姓名"},nativeOn:{keyup:function(t){if(!("button"in t)&&e._k(t.keyCode,"enter",13,t.key,"Enter"))return null;e.handleSearch()}},model:{value:e.filters.userName,callback:function(t){e.$set(e.filters,"userName",t)},expression:"filters.userName"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"注册时间","label-width":"68px"}},[a("el-date-picker",{staticStyle:{width:"202px"},attrs:{type:"date",placeholder:"选择日期"},model:{value:e.filters.startTime,callback:function(t){e.$set(e.filters,"startTime",t)},expression:"filters.startTime"}})],1),e._v(" "),a("el-form-item",{staticStyle:{"margin-left":"-44px"},attrs:{label:"至","label-width":"68px"}},[a("el-date-picker",{staticStyle:{width:"202px"},attrs:{type:"date",placeholder:"选择日期"},model:{value:e.filters.endTime,callback:function(t){e.$set(e.filters,"endTime",t)},expression:"filters.endTime"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"推广员等级","label-width":"83px"}},[a("el-select",{staticStyle:{width:"202px"},attrs:{placeholder:"请选择",clearable:""},model:{value:e.filters.mailType,callback:function(t){e.$set(e.filters,"mailType",t)},expression:"filters.mailType"}},e._l(e.options,function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}))],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.handleSearch()}}},[e._v("查询")])],1)],1)],1),e._v(" "),a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.record,"highlight-current-row":""},on:{"sort-change":e.sort}},[a("el-table-column",{attrs:{type:"index",width:"60"}}),e._v(" "),a("el-table-column",{attrs:{prop:"id",label:"推广员ID",width:"auto"}}),e._v(" "),a("el-table-column",{attrs:{prop:"nickname",label:"推广员昵称",width:"auto"}}),e._v(" "),a("el-table-column",{attrs:{prop:"level",label:"推广员等级",width:"auto",sortable:"custom"}}),e._v(" "),a("el-table-column",{attrs:{prop:"createTime",label:"注册时间",width:"auto",sortable:"custom"}}),e._v(" "),a("el-table-column",{attrs:{prop:"bossId",label:"上级推广员ID",width:"auto"}}),e._v(" "),a("el-table-column",{attrs:{prop:"bossName",label:"上级推广员昵称",width:"auto"}}),e._v(" "),a("el-table-column",{attrs:{prop:"phone",label:"手机号码",width:"auto"}}),e._v(" "),a("el-table-column",{attrs:{prop:"userName",label:"姓名",width:"auto"}}),e._v(" "),a("el-table-column",{attrs:{label:"状态",prop:"state",sortable:"custom"}}),e._v(" "),a("el-table-column",{attrs:{prop:"systemMail.createtime",label:"操作",width:"auto"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"text"},on:{click:function(a){e.particulars(t.$index,t.row)}}},[e._v("详情")]),e._v(" "),a("el-button",{attrs:{type:"text"},on:{click:function(a){e.operation(t.$index,t.row)}}},[e._v("操作")])]}}])})],1),e._v(" "),a("el-dialog",{attrs:{title:"",visible:e.centerDialogVisible,"close-on-click-modal":!1},on:{"update:visible":function(t){e.centerDialogVisible=t}}},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.roles}},[a("el-table-column",{attrs:{label:"头像"},scopedSlots:e._u([{key:"default",fn:function(e){return[a("img",{staticClass:"pic",attrs:{src:e.row.headimgurl,alt:""}})]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"昵称",prop:"nickname"}}),e._v(" "),a("el-table-column",{attrs:{label:"ID",prop:"id"}}),e._v(" "),a("el-table-column",{attrs:{label:"性别",prop:"gender"}}),e._v(" "),a("el-table-column",{attrs:{label:"状态",prop:"state"}}),e._v(" "),a("el-table-column",{attrs:{label:"注册时间",prop:"createTime"}})],1),e._v(" "),a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.roles}},[a("el-table-column",{attrs:{label:"推广员等级",prop:"level"}}),e._v(" "),a("el-table-column",{attrs:{label:"周卡剩余",prop:"clubCardZhou"}}),e._v(" "),a("el-table-column",{attrs:{label:"月卡剩余",prop:"clubCardYue"}}),e._v(" "),a("el-table-column",{attrs:{label:"季卡剩余",prop:"clubCardJi",sortabl:""}}),e._v(" "),a("el-table-column",{attrs:{label:"积分剩余",prop:"score",sortabl:""}}),e._v(" "),a("el-table-column",{attrs:{label:"充值金额",prop:"cost"}}),e._v(" "),a("el-table-column",{attrs:{label:"邀请码",prop:"invitationCode"}})],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:e.MembershipAdjustment}},[e._v("会员卡调整")]),e._v(" "),a("el-button",{on:{click:e.IntegralAdjustment}},[e._v("积分调整")]),e._v(" "),a("router-link",{attrs:{to:{path:"/membershipCardPurchaseRecord"}}},[a("el-button",[e._v("会员卡购买记录")])],1),e._v(" "),a("router-link",{attrs:{to:{path:"/membershipCardConsumptionRecord"}}},[a("el-button",[e._v("会员卡兑换记录")])],1),e._v(" "),"正常"===e.state?a("el-button",{nativeOn:{click:function(t){return e.CancelSubmit(t)}}},[e._v("取消推广员资格")]):e._e(),e._v(" "),"封禁"===e.state?a("el-button",{nativeOn:{click:function(t){return e.relieveSubmit(t)}}},[e._v("解除封停状态")]):e._e()],1)],1),e._v(" "),a("el-dialog",{attrs:{title:"会员卡调整",visible:e.publishVisible,"close-on-click-modal":!1},on:{"update:visible":function(t){e.publishVisible=t}}},[a("el-form",{attrs:{model:e.publishForm,"label-width":"220px"}},[a("el-form-item",{attrs:{label:"推广员ID"}},[a("el-input",{staticClass:"memberInput",staticStyle:{width:"217px"},attrs:{disabled:!0},model:{value:e.id,callback:function(t){e.id=t},expression:"id"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"会员卡类型"}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.publishForm.product,callback:function(t){e.$set(e.publishForm,"product",t)},expression:"publishForm.product"}},e._l(e.types,function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}))],1),e._v(" "),a("el-form-item",{attrs:{label:"调整数量"}},[a("el-input",{staticClass:"memberInput",staticStyle:{width:"217px"},model:{value:e.publishForm.afternumber,callback:function(t){e.$set(e.publishForm,"afternumber",t)},expression:"publishForm.afternumber"}})],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.notarizeVisible=!0,e.publishVisible=!1}}},[e._v("确认调整")]),e._v(" "),a("el-button",{attrs:{type:"primary"},nativeOn:{click:function(t){e.publishVisible=!1}}},[e._v("取消")])],1)],1)],1),e._v(" "),a("el-dialog",{attrs:{title:"会员卡调整",visible:e.notarizeVisible,"close-on-click-modal":!1},on:{"update:visible":function(t){e.notarizeVisible=t}}},[a("el-form",[a("div",{attrs:{align:"center"}},[e._v("\n        推广员"+e._s(e.id)+"拥有的"+e._s(e.publishForm.product)+"：调整数量"+e._s(this.publishForm.afternumber)),a("br"),e._v("是否确认调整？\n      ")]),e._v(" "),a("br"),e._v(" "),a("div",{attrs:{align:"center"}},[a("el-button",{attrs:{type:"primary"},on:{click:e.sure}},[e._v("确认调整")]),e._v(" "),a("el-button",{attrs:{type:"primary"},nativeOn:{click:function(t){e.notarizeVisible=!1,e.publishVisible=!0}}},[e._v("返回修改")])],1)])],1),e._v(" "),a("el-dialog",{attrs:{title:"积分操作",visible:e.integralVisible,"close-on-click-modal":!1},on:{"update:visible":function(t){e.integralVisible=t}}},[a("el-form",{attrs:{model:e.integralForm,"label-width":"220px"}},[a("el-form-item",{attrs:{label:"推广员ID"}},[a("el-input",{staticClass:"memberInput",staticStyle:{width:"217px"},attrs:{disabled:!0},model:{value:e.id,callback:function(t){e.id=t},expression:"id"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"当前积分"}},[a("el-input",{staticClass:"memberInput",staticStyle:{width:"217px"},attrs:{disabled:!0},model:{value:e.score,callback:function(t){e.score=t},expression:"score"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"调整积分"}},[a("el-input",{staticClass:"memberInput",staticStyle:{width:"217px"},model:{value:e.integralForm.afterAmount,callback:function(t){e.$set(e.integralForm,"afterAmount",t)},expression:"integralForm.afterAmount"}})],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.sureVisible=!0,e.integralVisible=!1}}},[e._v("确认调整")]),e._v(" "),a("el-button",{attrs:{type:"primary"},nativeOn:{click:function(t){e.integralVisible=!1}}},[e._v("取消")])],1)],1)],1),e._v(" "),a("el-dialog",{attrs:{title:"确认操作",visible:e.sureVisible,"close-on-click-modal":!1},on:{"update:visible":function(t){e.sureVisible=t}}},[a("el-form",[a("div",{attrs:{align:"center"}},[e._v("\n        推广员"+e._s(e.id)+"拥有的积分：由"+e._s(e.score)+"调整到"+e._s(e.integralForm.afterAmount)+"\n      ")]),e._v(" "),a("br"),e._v(" "),a("div",{attrs:{align:"center"}},[a("el-button",{attrs:{type:"primary"},on:{click:e.Confirm}},[e._v("确认调整")]),e._v(" "),a("el-button",{attrs:{type:"primary"},nativeOn:{click:function(t){e.sureVisible=!1,e.integralVisible=!0}}},[e._v("返回修改")])],1)])],1),e._v(" "),a("el-dialog",{attrs:{title:"",visible:e.operateVisible,"close-on-click-modal":!1},on:{"update:visible":function(t){e.operateVisible=t}}},[a("div",{staticClass:"left"},[a("el-button",{staticClass:"bound",attrs:{type:"primary"},on:{click:function(t){e.pinless()}}},[e._v("绑定")]),a("br"),e._v(" "),a("el-button",{staticClass:"levelup",on:{click:function(t){e.levelup()}}},[e._v("调整等级")])],1),e._v(" "),e.boundVisible?a("el-form",{ref:"form",staticClass:"form",attrs:{model:e.form,"label-width":"100px"}},[a("el-form-item",{attrs:{label:"上级推广员ID"}},[a("el-input",{model:{value:e.form.bossId1,callback:function(t){e.$set(e.form,"bossId1",t)},expression:"form.bossId1"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"推广员ID"}},[a("el-input",{model:{value:e.form.id,callback:function(t){e.$set(e.form,"id",t)},expression:"form.id"}})],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.bound()}}},[e._v("绑定")]),e._v(" "),a("el-button",{on:{click:function(t){e.unbound()}}},[e._v("解除绑定")])],1)],1):e._e(),e._v(" "),e.LevelUpVisible?a("el-form",{ref:"form",staticClass:"form",attrs:{model:e.form,"label-width":"100px"}},[a("el-form-item",{attrs:{label:"推广员ID"}},[a("el-input",{model:{value:e.form.id,callback:function(t){e.$set(e.form,"id",t)},expression:"form.id"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"当前等级"}},[a("el-input",{model:{value:e.form.level,callback:function(t){e.$set(e.form,"level",t)},expression:"form.level"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"调整等级"}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.form.upgrade,callback:function(t){e.$set(e.form,"upgrade",t)},expression:"form.upgrade"}},e._l(e.options,function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}))],1),e._v(" "),a("el-form-item",[a("el-button",{on:{click:function(t){e.makeSure()}}},[e._v("确认修改")])],1)],1):e._e()],1),e._v(" "),a("el-col",{staticClass:"toolbar",attrs:{span:24}},[a("el-pagination",{staticStyle:{float:"right"},attrs:{layout:"prev, pager, next","page-size":1,total:e.total},on:{"current-change":e.handleCurrentChange}})],1)],1)},staticRenderFns:[]};var $e=a("VU/8")(Fe,Te,!1,function(e){a("hGbD")},"data-v-4a3bb17b",null).exports,De={name:"PromoterApplicationRecord",data:function(){return{filters:{},record:[],total:0,tip:{},frontUrl:"",reverseUrl:"",nickname:"",phone:"",idCard:"",recordDialogVisible:!1,applicationRecord:{},AGRDAgreed:!1,operator:!0}},methods:{dateTimeFormat:function(e){var t=new Date(+e),a=function(e){return(e="0"+e).substring(e.length-2,e.length)};if(null!=t){var s=t.getFullYear(),i=t.getMonth()+1,r=t.getDate(),n=t.getHours(),o=t.getMinutes(),l=t.getSeconds();return s+"-"+a(i)+"-"+a(r)+" "+a(n)+":"+a(o)+":"+a(l)}},handleSearch:function(e){var t=this;l()({url:this.global.mPath+"/agent/queryapplyrecord",method:"post",params:{startTime:"",endTime:"",token:sessionStorage.getItem("token")}}).then(function(e){console.log(e.data),t.record=e.data.data.items,t.total=e.data.data.pageCount;for(var a=0;a<t.record.length;a++)t.record[a].createTime=t.dateTimeFormat(t.record[a].createTime),"APPLYSUCCESS"==t.record[a].state&&(t.record[a].state1=!0),"APPLYFAIL"==t.record[a].state&&(t.record[a].state2=!0),"APPLYING"==t.record[a].state&&(t.record[a].state3=!0)}).catch(function(e){})},handleCurrentChange:function(e){this.page=e,this.handleSearch(this.page)},operation:function(e,t){this.recordDialogVisible=!0,this.applicationRecord=f()({},t),this.nickname=t.nickname,this.phone=t.phone,this.idCard=t.idCard},pass:function(){var e=this;console.log(this.applicationRecord.id),l()({url:this.global.mPath+"/agent/applypass",method:"post",params:{recordId:this.applicationRecord.id,token:sessionStorage.getItem("token")}}).then(function(t){t.data.success&&(e.recordDialogVisible=!1,e.handleSearch(1))})},unpass:function(){var e=this;l()({url:this.global.mPath+"/agent/applyrefuse",method:"post",params:{recordId:this.applicationRecord.id,token:sessionStorage.getItem("token")}}).then(function(t){console.log(t.data),t.data.success&&(e.recordDialogVisible=!1,e.handleSearch(1))})}},mounted:function(){this.handleSearch(1)}},Ie={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-row",{staticClass:"warp"},[a("el-col",{staticClass:"warp-breadcrum",attrs:{span:24}},[a("el-breadcrumb",{attrs:{separator:"/"}},[a("el-breadcrumb-item",{attrs:{to:{path:"/"}}},[a("b",[e._v("推广员中心")])]),e._v(" "),a("el-breadcrumb-item",[e._v("推广员申请记录")])],1)],1),e._v(" "),a("el-col",{staticClass:"toolbar",staticStyle:{"padding-bottom":"0px"},attrs:{span:24}},[a("el-form",{attrs:{inline:!0,model:e.filters}},[a("el-form-item",{attrs:{label:"推广员ID"}},[a("el-input",{nativeOn:{keyup:function(t){return"button"in t||!e._k(t.keyCode,"enter",13,t.key,"Enter")?e.handleSearch(t):null}},model:{value:e.filters.nickname,callback:function(t){e.$set(e.filters,"nickname",t)},expression:"filters.nickname"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"推广员昵称"}},[a("el-input",{nativeOn:{keyup:function(t){return"button"in t||!e._k(t.keyCode,"enter",13,t.key,"Enter")?e.handleSearch(t):null}},model:{value:e.filters.nickname,callback:function(t){e.$set(e.filters,"nickname",t)},expression:"filters.nickname"}})],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:e.handleSearch}},[e._v("查询")])],1)],1)],1),e._v(" "),a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.record,"highlight-current-row":""}},[a("el-table-column",{attrs:{type:"index",width:"60"}}),e._v(" "),a("el-table-column",{attrs:{prop:"headimgurl",label:"微信头像",width:"auto"},scopedSlots:e._u([{key:"default",fn:function(e){return[a("img",{staticStyle:{width:"50px",height:"50px"},attrs:{src:e.row.headimgurl,alt:""}})]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"nickname",label:"注册昵称",width:"auto"}}),e._v(" "),a("el-table-column",{attrs:{prop:"createTime",label:"申请时间",width:"auto"}}),e._v(" "),a("el-table-column",{attrs:{prop:"phone",label:"手机号码",width:"auto"}}),e._v(" "),a("el-table-column",{attrs:{prop:"userName",label:"姓名",width:"auto"}}),e._v(" "),a("el-table-column",{attrs:{prop:"area",label:"地区",width:"auto"}}),e._v(" "),a("el-table-column",{attrs:{prop:"desc",label:"备注",width:"auto"}}),e._v(" "),a("el-table-column",{attrs:{prop:"state",label:"操作",width:"auto"},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.state3?a("el-button",{attrs:{type:"button"},on:{click:function(a){e.operation(t.$index,t.row)}}},[e._v("操作")]):e._e(),e._v(" "),t.row.state1?a("el-button",{attrs:{type:"text"}},[e._v("已同意")]):e._e(),e._v(" "),t.row.state2?a("el-button",{attrs:{type:"text"}},[e._v("已拒绝")]):e._e()]}}])})],1),e._v(" "),a("el-dialog",{attrs:{title:"申请记录",visible:e.recordDialogVisible,width:"37%",center:""},on:{"update:visible":function(t){e.recordDialogVisible=t}},model:{value:e.applicationRecord,callback:function(t){e.applicationRecord=t},expression:"applicationRecord"}},[a("p",[e._v("申请人："+e._s(e.nickname))]),e._v(" "),a("p",[e._v("手机号码："+e._s(e.phone))]),e._v(" "),a("p",[e._v("是否同意申请？")]),e._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{staticClass:"agree",attrs:{type:"primary"},on:{click:function(t){e.pass()}}},[e._v("同意")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.unpass()}}},[e._v("拒绝")])],1)]),e._v(" "),a("el-col",{staticClass:"toolbar",attrs:{span:24}},[a("el-pagination",{staticStyle:{float:"right"},attrs:{layout:"prev, pager, next","page-size":1,total:e.total},on:{"current-change":e.handleCurrentChange}})],1)],1)},staticRenderFns:[]};var Pe=a("VU/8")(De,Ie,!1,function(e){a("N4Es")},"data-v-77bdeccc",null).exports,Ne={name:"MembershipCardPurchaseRecord",data:function(){return{loading:!1,filters:{name:""},items:[],total:0,value1:"",value2:"",notarize:{},options:[{value:"周卡"},{value:"月卡"},{value:"季卡"}],publishVisible:!1,publishForm:{},notarizeVisible:!1,normalForm:{},state:[],number:"",sorting:{},page:1}},methods:{trim:function(e){if(null!=e)return e.replace(/(^\s+)|(\s+$)/g,"")},dateTimeFormat:function(e){var t=new Date(+e),a=function(e){return(e="0"+e).substring(e.length-2,e.length)};if(null!=t){var s=t.getFullYear(),i=t.getMonth()+1,r=t.getDate(),n=t.getHours(),o=t.getMinutes(),l=t.getSeconds();return s+"-"+a(i)+"-"+a(r)+" "+a(n)+":"+a(o)+":"+a(l)}},handleCurrentChange:function(e){this.page=e,this.sort(this.sorting)},seek:function(e,t){var a=this;if(this.filters.startTime){var s=new Date(this.filters.startTime);this.state.startTime=s.getTime()}if(this.filters.endTime){var i=new Date(this.filters.endTime);this.state.endTime=i.getTime()}this.filters.startTime&&this.filters.endTime&&this.state.endTime-this.state.startTime<=0?this.$message({showClose:!0,message:"时间段选择有误",type:"warning"}):l()({method:"post",url:this.global.mPath+"/agent/queryclubcardbuy",headers:{"Content-type":"application/x-www-form-urlencoded"},params:{size:"10",page:this.page,agentId:this.trim(this.filters.id),agent:this.trim(this.filters.agent),startTime:this.state.startTime,endTime:this.state.endTime,token:sessionStorage.getItem("token"),accountingTimeSort:e,costSort:t}}).then(function(e){a.loading=!1,a.items=e.data.data.items,a.total=e.data.data.pageCount;for(var t=0;t<a.items.length;t++)a.items[t].accountingTime=a.dateTimeFormat(a.items[t].accountingTime)}).catch(function(e){if(e&&e.response)switch(e.response.status){case 504:case 500:a.$message({showClose:!0,message:"服务器异常",type:"warning"}),a.loading=!1;break;case 405:a.$message({showClose:!0,message:"请先登录",type:"warning"})}})},sort:function(e){this.sorting=e,"accountingTime"==this.sorting.prop&&("ascending"==this.sorting.order&&(this.sorting.accountingTime="ASC"),"descending"==this.sorting.order&&(this.sorting.accountingTime="DESC")),"cost"==this.sorting.prop&&("ascending"==this.sorting.order&&(this.sorting.cost="ASC"),"descending"==this.sorting.order&&(this.sorting.cost="DESC")),this.seek(this.sorting.accountingTime,this.sorting.cost)},selsChange:function(e){this.sels=e}},mounted:function(){this.seek()}},Ve={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-row",{staticClass:"warp"},[a("el-col",{staticClass:"warp-breadcrum",attrs:{span:24}},[a("el-breadcrumb",{attrs:{separator:"/"}},[a("el-breadcrumb-item",{attrs:{to:{path:"/"}}},[a("b",[e._v("推广员中心")])]),e._v(" "),a("el-breadcrumb-item",[e._v("会员卡购买记录")])],1)],1),e._v(" "),a("el-col",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticClass:"warp-main",attrs:{span:24,"element-loading-text":"拼命加载中"}},[a("el-col",{staticClass:"toolbar",staticStyle:{"padding-bottom":"0px"},attrs:{span:24}},[a("el-form",{attrs:{inline:!0,model:e.filters}},[a("el-form-item",{attrs:{label:"推广员ID"}},[a("el-input",{attrs:{placeholder:"请输入推广员ID"},model:{value:e.filters.id,callback:function(t){e.$set(e.filters,"id",t)},expression:"filters.id"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"推广员昵称"}},[a("el-input",{attrs:{placeholder:"请输入推广员昵称"},model:{value:e.filters.agent,callback:function(t){e.$set(e.filters,"agent",t)},expression:"filters.agent"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"购买时间"}},[a("el-date-picker",{attrs:{type:"date",placeholder:"时间选择"},model:{value:e.filters.startTime,callback:function(t){e.$set(e.filters,"startTime",t)},expression:"filters.startTime"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"至"}},[a("el-date-picker",{attrs:{type:"date",placeholder:"时间选择"},model:{value:e.filters.endTime,callback:function(t){e.$set(e.filters,"endTime",t)},expression:"filters.endTime"}})],1),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:e.seek}},[e._v("搜索")])],1)],1),e._v(" "),a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.items,"highlight-current-row":""},on:{"selection-change":e.selsChange,"sort-change":e.sort}},[a("el-table-column",{attrs:{type:"index",width:"60"}}),e._v(" "),a("el-table-column",{attrs:{prop:"agentId",label:"推广员ID",width:"140"}}),e._v(" "),a("el-table-column",{attrs:{prop:"agent",label:"推广员昵称",width:"140"}}),e._v(" "),a("el-table-column",{attrs:{prop:"product",label:"会员卡名称",width:"120"}}),e._v(" "),a("el-table-column",{attrs:{prop:"number",label:"数量",width:"100"}}),e._v(" "),a("el-table-column",{attrs:{prop:"accountingAmount",label:"购买金额",width:"120"}}),e._v(" "),a("el-table-column",{attrs:{prop:"accountingTime",label:"购买时间",width:"160",sortable:""}}),e._v(" "),a("el-table-column",{attrs:{prop:"summary.text",label:"说明",width:"100"}}),e._v(" "),a("el-table-column",{attrs:{prop:"cost",label:"累积消费",width:"auto",sortable:""}})],1),e._v(" "),a("el-col",{staticClass:"toolbar",attrs:{span:24}},[a("el-pagination",{staticStyle:{float:"right"},attrs:{layout:"prev, pager, next","page-size":1,total:e.total},on:{"current-change":e.handleCurrentChange}})],1)],1)],1)},staticRenderFns:[]};var Ae=a("VU/8")(Ne,Ve,!1,function(e){a("4viN")},"data-v-788b7992",null).exports,je={name:"MembershipCardConsumptionRecord",data:function(){return{loading:!1,filters:{name:""},items:[],total:0,value1:"",value2:"",state:[],sorting:{},page:1}},methods:{trim:function(e){if(null!=e)return e.replace(/(^\s+)|(\s+$)/g,"")},dateTimeFormat:function(e){var t=new Date(+e),a=function(e){return(e="0"+e).substring(e.length-2,e.length)};if(null!=t){var s=t.getFullYear(),i=t.getMonth()+1,r=t.getDate(),n=t.getHours(),o=t.getMinutes(),l=t.getSeconds();return s+"-"+a(i)+"-"+a(r)+" "+a(n)+":"+a(o)+":"+a(l)}},handleCurrentChange:function(e){this.page=e,this.sort(this.sorting)},seek:function(e,t,a){var s=this;if(this.filters.startTime){var i=new Date(this.filters.startTime);this.state.startTime=i.getTime()}if(this.filters.endTime){var r=new Date(this.filters.endTime);this.state.endTime=r.getTime()}this.filters.startTime&&this.filters.endTime&&this.state.endTime-this.state.startTime<=0?this.$message({showClose:!0,message:"时间段选择有误",type:"warning"}):l()({method:"post",url:this.global.mPath+"/agent/queryscoreexchange",headers:{"Content-type":"application/x-www-form-urlencoded"},params:{size:"15",page:this.page,agentId:this.trim(this.filters.id),agent:this.trim(this.filters.agent),startTime:this.state.startTime,endTime:this.state.endTime,token:sessionStorage.getItem("token"),accountingTimeSort:e,balanceAfterSort:t,numberSort:a}}).then(function(e){s.po=!0,s.loading=!1,s.items=e.data.data.items,s.total=e.data.data.pageCount;for(var t=0;t<s.items.length;t++)s.items[t].accountingTime=s.dateTimeFormat(s.items[t].accountingTime)}).catch(function(e){if(e&&e.response)switch(e.response.status){case 504:case 500:s.$message({showClose:!0,message:"服务器异常",type:"warning"}),s.loading=!1;break;case 405:s.$message({showClose:!0,message:"请先登录",type:"warning"})}})},sort:function(e){this.sorting=e,"accountingTime"==this.sorting.prop&&("ascending"==this.sorting.order&&(this.sorting.accountingTime="ASC"),"descending"==this.sorting.order&&(this.sorting.accountingTime="DESC")),"balanceAfter"==this.sorting.prop&&("ascending"==this.sorting.order&&(this.sorting.balanceAfter="ASC"),"descending"==this.sorting.order&&(this.sorting.balanceAfter="DESC")),"number"==this.sorting.prop&&("ascending"==this.sorting.order&&(this.sorting.number="ASC"),"descending"==this.sorting.order&&(this.sorting.number="DESC")),this.seek(this.sorting.accountingTime,this.sorting.balanceAfter,this.sorting.number)},selsChange:function(e){this.sels=e}},mounted:function(){this.seek()}},qe={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-row",{staticClass:"warp"},[a("el-col",{staticClass:"warp-breadcrum",attrs:{span:24}},[a("el-breadcrumb",{attrs:{separator:"/"}},[a("el-breadcrumb-item",{attrs:{to:{path:"/"}}},[a("b",[e._v("推广员中心")])]),e._v(" "),a("el-breadcrumb-item",[e._v("会员卡兑换记录")])],1)],1),e._v(" "),a("el-col",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticClass:"warp-main",attrs:{span:24,"element-loading-text":"拼命加载中"}},[a("el-col",{staticClass:"toolbar",staticStyle:{"padding-bottom":"0px"},attrs:{span:24}},[a("el-form",{attrs:{inline:!0,model:e.filters}},[a("el-form-item",{attrs:{label:"推广员ID"}},[a("el-input",{attrs:{placeholder:"请输入推广员ID"},model:{value:e.filters.id,callback:function(t){e.$set(e.filters,"id",t)},expression:"filters.id"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"推广员昵称"}},[a("el-input",{attrs:{placeholder:"请输入推广员昵称"},model:{value:e.filters.agent,callback:function(t){e.$set(e.filters,"agent",t)},expression:"filters.agent"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"兑换时间"}},[a("el-date-picker",{attrs:{type:"date",placeholder:"时间选择"},model:{value:e.filters.startTime,callback:function(t){e.$set(e.filters,"startTime",t)},expression:"filters.startTime"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"至"}},[a("el-date-picker",{attrs:{type:"date",placeholder:"时间选择"},model:{value:e.filters.endTime,callback:function(t){e.$set(e.filters,"endTime",t)},expression:"filters.endTime"}})],1),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.seek()}}},[e._v("搜索")])],1)],1),e._v(" "),a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.items,"highlight-current-row":""},on:{"selection-change":e.selsChange,"sort-change":e.sort}},[a("el-table-column",{attrs:{type:"index",width:"60"}}),e._v(" "),a("el-table-column",{attrs:{prop:"agentId",label:"推广员ID",width:"120"}}),e._v(" "),a("el-table-column",{attrs:{prop:"agent",label:"推广员昵称",width:"120"}}),e._v(" "),a("el-table-column",{attrs:{prop:"product",label:"商品名称",width:"100"}}),e._v(" "),a("el-table-column",{attrs:{prop:"number",label:"数量",width:"100",sortable:""}}),e._v(" "),a("el-table-column",{attrs:{prop:"accountingAmount",label:"兑换消耗",width:"100"}}),e._v(" "),a("el-table-column",{attrs:{prop:"accountingTime",label:"兑换时间",width:"160",sortable:""}}),e._v(" "),a("el-table-column",{attrs:{prop:"balanceAfter",label:"剩余积分",width:"auto",sortable:""}})],1),e._v(" "),a("el-col",{staticClass:"toolbar",attrs:{span:24}},[a("el-pagination",{staticStyle:{float:"right"},attrs:{layout:"prev, pager, next","page-size":1,total:e.total},on:{"current-change":e.handleCurrentChange}})],1)],1)],1)},staticRenderFns:[]};var Ee=a("VU/8")(je,qe,!1,function(e){a("TlVE")},"data-v-4cc868f3",null).exports,Re={name:"PromoterOperationRecord",data:function(){return{loading:!1,filters:{name:""},items:[],roles:[],total:0,options:[{value:"充值"},{value:"购买"},{value:"转增下级"},{value:"上级转增"},{value:"积分兑换"}],publishVisible:!1,publishForm:{},addForm:{},centerDialogVisible:!1,relieveDialogVisible:!1,tabPosition:"left",state:[],sorting:{},page:1}},methods:{trim:function(e){if(null!=e)return e.replace(/(^\s+)|(\s+$)/g,"")},dateTimeFormat:function(e){var t=new Date(+e),a=function(e){return(e="0"+e).substring(e.length-2,e.length)};if(null!=t){var s=t.getFullYear(),i=t.getMonth()+1,r=t.getDate(),n=t.getHours(),o=t.getMinutes(),l=t.getSeconds();return s+"-"+a(i)+"-"+a(r)+" "+a(n)+":"+a(o)+":"+a(l)}},handleSearch:function(e,t,a,s){var i=this;if(this.filters.startTime){var r=new Date(this.filters.startTime);this.state.startTime=r.getTime()}if(this.filters.endTime){var n=new Date(this.filters.endTime);this.state.endTime=n.getTime()}this.filters.startTime&&this.filters.endTime&&this.state.endTime-this.state.startTime<0||l()({method:"post",url:this.global.mPath+"/agent/queryclubcardrecord",headers:{"Content-type":"application/x-www-form-urlencoded"},params:{size:"10",page:this.page,agentId:this.trim(this.filters.id),agent:this.trim(this.filters.nickname),type:this.filters.mailType,startTime:this.state.startTime,endTime:this.state.endTime,token:sessionStorage.getItem("token"),accountingTimeSort:e,balanceAfterZhouSort:t,balanceAfterYueSort:a,balanceAfterJiSort:s}}).then(function(e){i.loading=!1,i.items=e.data.data.items,i.total=e.data.data.pageCount;for(var t=0;t<i.items.length;t++)i.items[t].accountingTime=i.dateTimeFormat(i.items[t].accountingTime)}).catch(function(e){if(e&&e.response)switch(e.response.status){case 504:case 500:i.$message({showClose:!0,message:"服务器异常",type:"warning"}),i.loading=!1;break;case 405:i.$message({showClose:!0,message:"请先登录",type:"warning"})}})},sort:function(e){console.log(this.page),this.sorting=e,"accountingTime"==this.sorting.prop&&("ascending"==this.sorting.order&&(this.sorting.accountingTime="ASC"),"descending"==this.sorting.order&&(this.sorting.accountingTime="DESC")),"balanceAfterZhou"==this.sorting.prop&&("ascending"==this.sorting.order&&(this.sorting.balanceAfterZhou="ASC"),"descending"==this.sorting.order&&(this.sorting.balanceAfterZhou="DESC")),"balanceAfterYue"==this.sorting.prop&&("ascending"==this.sorting.order&&(this.sorting.balanceAfterYue="ASC"),"descending"==this.sorting.order&&(this.sorting.balanceAfterYue="DESC")),"balanceAfterJi"==this.sorting.prop&&("ascending"==this.sorting.order&&(this.sorting.balanceAfterJi="ASC"),"descending"==this.sorting.order&&(this.sorting.balanceAfterJi="DESC")),this.handleSearch(this.sorting.accountingTime,this.sorting.balanceAfterZhou,this.sorting.balanceAfterYue,this.sorting.balanceAfterJi)},handleCurrentChange:function(e){this.page=e,this.sort(this.sorting)},selsChange:function(e){this.sels=e}},mounted:function(){this.handleSearch()}},Me={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-row",{staticClass:"warp"},[a("el-col",{staticClass:"warp-breadcrum",attrs:{span:24}},[a("el-breadcrumb",{attrs:{separator:"/"}},[a("el-breadcrumb-item",{attrs:{to:{path:"/"}}},[a("b",[e._v("推广员管理")])]),e._v(" "),a("el-breadcrumb-item",[e._v("会员卡使用记录")])],1)],1),e._v(" "),a("el-col",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticClass:"warp-main",attrs:{span:24,"element-loading-text":"拼命加载中"}},[a("el-col",{staticClass:"toolbar",staticStyle:{"padding-bottom":"0px"},attrs:{span:24}},[a("el-form",{attrs:{inline:!0,model:e.filters}},[a("el-form-item",{attrs:{label:"推广员ID","label-width":"70px"}},[a("el-input",{nativeOn:{keyup:function(t){return"button"in t||!e._k(t.keyCode,"enter",13,t.key,"Enter")?e.handleSearch(t):null}},model:{value:e.filters.id,callback:function(t){e.$set(e.filters,"id",t)},expression:"filters.id"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"推广员昵称","label-width":"90px"}},[a("el-input",{nativeOn:{keyup:function(t){return"button"in t||!e._k(t.keyCode,"enter",13,t.key,"Enter")?e.handleSearch(t):null}},model:{value:e.filters.nickname,callback:function(t){e.$set(e.filters,"nickname",t)},expression:"filters.nickname"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"类型","label-width":"50px"}},[a("el-select",{staticStyle:{width:"202px"},attrs:{placeholder:"请选择",clearable:""},model:{value:e.filters.mailType,callback:function(t){e.$set(e.filters,"mailType",t)},expression:"filters.mailType"}},e._l(e.options,function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}))],1),e._v(" "),a("el-form-item",{attrs:{label:"注册时间","label-width":"68px"}},[a("el-date-picker",{staticStyle:{width:"202px"},attrs:{type:"date",placeholder:"选择日期"},model:{value:e.filters.startTime,callback:function(t){e.$set(e.filters,"startTime",t)},expression:"filters.startTime"}})],1),e._v(" "),a("el-form-item",{staticStyle:{"margin-left":"-44px"},attrs:{label:"至","label-width":"68px"}},[a("el-date-picker",{staticStyle:{width:"202px"},attrs:{type:"date",placeholder:"选择日期"},model:{value:e.filters.endTime,callback:function(t){e.$set(e.filters,"endTime",t)},expression:"filters.endTime"}})],1),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.handleSearch()}}},[e._v("查询")])],1)],1),e._v(" "),a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.items,"highlight-current-row":""},on:{"selection-change":e.selsChange,"sort-change":e.sort}},[a("el-table-column",{attrs:{type:"index",width:"60"}}),e._v(" "),a("el-table-column",{attrs:{prop:"agentId",label:"推广员ID",width:"120"}}),e._v(" "),a("el-table-column",{attrs:{prop:"agent",label:"推广员昵称",width:"120"}}),e._v(" "),a("el-table-column",{attrs:{prop:"product",label:"商品名称",width:"120"}}),e._v(" "),a("el-table-column",{attrs:{prop:"accountingAmount",label:"数量",width:"100"}}),e._v(" "),a("el-table-column",{attrs:{prop:"summary.text",label:"类型",width:"100"}}),e._v(" "),a("el-table-column",{attrs:{prop:"accountingTime",label:"使用时间",width:"100",sortable:""}}),e._v(" "),a("el-table-column",{attrs:{prop:"receiver",label:"使用对象",width:"100"}}),e._v(" "),a("el-table-column",{attrs:{prop:"balanceAfterZhou",label:"剩余周卡",width:"100",sortable:""}}),e._v(" "),a("el-table-column",{attrs:{prop:"balanceAfterYue",label:"剩余月卡",width:"100",sortable:""}}),e._v(" "),a("el-table-column",{attrs:{prop:"balanceAfterJi",label:"剩余季卡",sortable:""}})],1),e._v(" "),a("el-col",{staticClass:"toolbar",attrs:{span:24}},[a("el-pagination",{staticStyle:{float:"right"},attrs:{layout:"prev, pager, next","page-size":1,total:e.total},on:{"current-change":e.handleCurrentChange}})],1)],1)],1)},staticRenderFns:[]};var Oe=a("VU/8")(Re,Me,!1,function(e){a("XFoC")},"data-v-fdf41de8",null).exports,Ge={name:"Activity",data:function(){return{imageUrl:"",domain:"http://up.qiniu.com",qiniuaddr:"qiniu.3cscy.com",normalForm:{},rules:{title:[{required:!0,message:"请输入标题",trigger:"blur"}],file:[{required:!0,message:"请选择图片",trigger:"blur"}],address:[{required:!1,message:"请输入活动地址",trigger:"blur"}]},items:[],filters:{name:""},total:0,loading:!1,addFormVisible:!1}},methods:{trim:function(e){if(null!=e)return e.replace(/(^\s+)|(\s+$)/g,"")},upqiniu:function(e){var t=this;console.log(e);var a={headers:{"Content-Type":"multipart/form-data"}},s="";s="image/png"===e.file.type?"png":"jpg";var i="anbang"+Math.random()+"."+s;l()({method:"post",url:this.global.mPath+"/mailctrl/uptoken",headers:{"Content-type":"application/x-www-form-urlencoded"},params:{token:sessionStorage.getItem("token")}}).then(function(s){var r=new FormData;r.append("file",e.file),r.append("token",s.data.data),r.append("key",i),l.a.post(t.domain,r,a).then(function(e){t.imageUrl="http://"+t.qiniuaddr+"/"+e.data.key})})},beforeUpload:function(e){var t="image/jpeg"===e.type||"image/png"===e.type,a=e.size/1024/1024<2;return t||this.$message.error("上传头像图片只能是 JPG 格式!"),a||this.$message.error("上传头像图片大小不能超过 2MB!"),t&&a},issue:function(e){var t=this;void 0==this.normalForm.title||""==this.normalForm.title?this.$message({showClose:!0,message:"标题和图片不能为空",type:"warning"}):l()({method:"post",url:this.global.mPath+"/activity/addactivity",headers:{"Content-type":"application/x-www-form-urlencoded"},params:{theme:this.trim(this.normalForm.title),content:this.imageUrl,url:this.trim(this.normalForm.address),promulgator:sessionStorage.getItem("nickname"),token:sessionStorage.getItem("token")}}).then(function(e){0==e.data.success?t.$message({showClose:!0,message:"新建活动失败",type:"warning"}):1==e.data.success&&(t.$message({showClose:!0,message:"新建活动成功",type:"success"}),t.normalForm.title="",t.imageUrl="",t.normalForm.address="",t.addFormVisible=!1,t.handleSearch())}).catch(function(e){if(e&&e.response)switch(e.response.status){case 504:case 500:t.$message({showClose:!0,message:"服务器异常",type:"warning"}),t.loading=!1;break;case 405:t.$message({showClose:!0,message:"请先登录",type:"warning"})}})},showAddDialog:function(){this.addFormVisible=!0,this.addForm={name:"",author:"",publishAt:"",description:""}},handleCurrentChange:function(e){this.page=e,this.handleSearch(this.page)},handleSearch:function(){var e=this;l()({method:"post",url:this.global.mPath+"/activity/queryactivity",headers:{"Content-type":"application/x-www-form-urlencoded"},params:{size:"15",page:this.page,theme:this.trim(this.filters.title),token:sessionStorage.getItem("token")}}).then(function(t){e.loading=!1,e.items=t.data.data.items,e.total=t.data.data.pageCount}).catch(function(t){if(t&&t.response)switch(t.response.status){case 504:case 500:e.$message({showClose:!0,message:"服务器异常",type:"warning"}),e.loading=!1;break;case 405:e.$message({showClose:!0,message:"请先登录",type:"warning"})}})},selsChange:function(e){this.sels=e},off:function(e,t){var a=this;sessionStorage.setItem("id",this.items[e].id),this.$confirm("确认停用吗?","提示",{type:"warning"}).then(function(){l()({method:"post",url:a.global.mPath+"/activity/stopactivity",headers:{"Content-type":"application/x-www-form-urlencoded"},params:{activityId:sessionStorage.getItem("id"),token:sessionStorage.getItem("token")}}).then(function(e){1==e.data.success?(a.$message.success({showClose:!0,message:"停用成功",duration:1500}),a.handleSearch()):a.$message.error({showClose:!0,message:err.toString(),duration:2e3})}).catch(function(e){if(e&&e.response)switch(e.response.status){case 504:case 500:a.$message({showClose:!0,message:"服务器异常",type:"warning"}),a.loading=!1;break;case 405:a.$message({showClose:!0,message:"请先登录",type:"warning"})}})})},open:function(e,t){var a=this;sessionStorage.setItem("id",this.items[e].id),this.$confirm("确认启用吗?","提示",{type:"warning"}).then(function(){l()({method:"post",url:a.global.mPath+"/activity/startactivity",headers:{"Content-type":"application/x-www-form-urlencoded"},params:{activityId:sessionStorage.getItem("id"),token:sessionStorage.getItem("token")}}).then(function(e){1==e.data.success?(a.$message.success({showClose:!0,message:"启用成功",duration:1500}),a.handleSearch()):a.$message.error({showClose:!0,message:err.toString(),duration:2e3})}).catch(function(e){if(e&&e.response)switch(e.response.status){case 504:case 500:a.$message({showClose:!0,message:"服务器异常",type:"warning"}),a.loading=!1;break;case 405:a.$message({showClose:!0,message:"请先登录",type:"warning"})}})})},del:function(e,t){var a=this;this.$confirm("确认删除该记录吗?","提示",{type:"warning"}).then(function(){l()({method:"post",url:a.global.mPath+"/activity/deleteactivity",headers:{"Content-type":"application/x-www-form-urlencoded"},params:{activityId:t.id,token:sessionStorage.getItem("token")}}).then(function(e){1==e.data.success?(a.$message.success({showClose:!0,message:"删除成功",duration:1500}),a.handleSearch()):a.$message.error({showClose:!0,message:err.toString(),duration:2e3})}).catch(function(e){if(e&&e.response)switch(e.response.status){case 504:case 500:a.$message({showClose:!0,message:"服务器异常",type:"warning"}),a.loading=!1;break;case 405:a.$message({showClose:!0,message:"请先登录",type:"warning"})}})})}},mounted:function(){this.handleSearch()}},Le={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-row",{staticClass:"warp"},[a("el-col",{staticClass:"warp-breadcrum",attrs:{span:24}},[a("el-breadcrumb",{attrs:{separator:"/"}},[a("el-breadcrumb-item",{attrs:{to:{path:"/"}}},[a("b",[e._v("活动管理")])]),e._v(" "),a("el-breadcrumb-item",[e._v("活动配置")])],1)],1),e._v(" "),a("el-col",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticClass:"warp-main",attrs:{span:24,"element-loading-text":"拼命加载中"}},[a("el-col",{staticClass:"toolbar",staticStyle:{"padding-bottom":"0px"},attrs:{span:24}},[a("el-form",{attrs:{inline:!0,model:e.filters}},[a("el-form-item",{attrs:{label:"标题"}},[a("el-input",{model:{value:e.filters.title,callback:function(t){e.$set(e.filters,"title",t)},expression:"filters.title"}})],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:e.handleSearch}},[e._v("查询")])],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:e.showAddDialog}},[e._v("新建活动")])],1)],1)],1),e._v(" "),a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.items,"highlight-current-row":""},on:{"selection-change":e.selsChange}},[a("el-table-column",{attrs:{prop:"theme",label:"活动标题",width:"160"}}),e._v(" "),a("el-table-column",{attrs:{prop:"content",label:"内容",width:"100"},scopedSlots:e._u([{key:"default",fn:function(e){return[a("img",{staticStyle:{width:"50px",height:"50px"},attrs:{src:e.row.content,alt:""}})]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"url",label:"活动地址",width:"200"}}),e._v(" "),a("el-table-column",{attrs:{prop:"promulgator",label:"发布者",width:"100"}}),e._v(" "),a("el-table-column",{attrs:{prop:"remainSecond",label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return["START"===t.row.state?a("el-button",{attrs:{type:"primary",disabled:!1},on:{click:function(a){e.off(t.$index,t.row)}}},[e._v("停用\n          ")]):e._e(),e._v(" "),"STOP"===t.row.state?a("el-button",{attrs:{type:"primary",disabled:!1},on:{click:function(a){e.open(t.$index,t.row)}}},[e._v("启用")]):e._e(),e._v(" "),"STOP"===t.row.state?a("el-button",{attrs:{type:"primary"},on:{click:function(a){e.del(t.$index,t.row)}}},[e._v("删除")]):e._e()]}}])})],1),e._v(" "),a("el-col",{staticClass:"toolbar",attrs:{span:24}},[a("el-pagination",{staticStyle:{float:"right"},attrs:{layout:"prev, pager, next","page-size":1,total:e.total},on:{"current-change":e.handleCurrentChange}})],1),e._v(" "),a("el-dialog",{attrs:{title:"新建活动",visible:e.addFormVisible,"close-on-click-modal":!1},on:{"update:visible":function(t){e.addFormVisible=t}}},[a("el-form",{staticClass:"demo-ruleForm",attrs:{model:e.normalForm,"label-width":"100px",rules:e.rules}},[a("el-form-item",{attrs:{label:"活动主题",prop:"title"}},[a("el-input",{attrs:{"auto-complete":"off"},model:{value:e.normalForm.title,callback:function(t){e.$set(e.normalForm,"title",t)},expression:"normalForm.title"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"图片",prop:"file"}},[a("div",{staticClass:"upload"},[a("el-upload",{staticClass:"avatar-uploader",attrs:{action:e.domain,"http-request":e.upqiniu,"show-file-list":!1,"before-upload":e.beforeUpload}},[e.imageUrl?a("img",{staticClass:"avatar",attrs:{src:e.imageUrl}}):a("el-button",{staticClass:"el-icon-plus avatar-uploader-icon"})],1)],1)]),e._v(" "),a("el-form-item",{attrs:{label:"活动地址",prop:"address"}},[a("el-input",{attrs:{"auto-complete":"off"},model:{value:e.normalForm.address,callback:function(t){e.$set(e.normalForm,"address",t)},expression:"normalForm.address"}})],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:e.issue}},[e._v("发布")]),e._v(" "),a("el-button",{attrs:{type:"primary"},nativeOn:{click:function(t){e.addFormVisible=!1}}},[e._v("取消")])],1)],1)],1)],1)],1)},staticRenderFns:[]};var Ue=a("VU/8")(Ge,Le,!1,function(e){a("xRdj")},"data-v-06f89fff",null).exports,ze={name:"MallManagement",data:function(){return{addFormVisible:!1,loading:!1,adjustmentVisible:!1,total:0,list:[],img:!0,normalForm:{},adjustForm:{},filters:{},radioData:"",domain:"http://up.qiniu.com",qiniuaddr:"qiniu.3cscy.com",rules:{title:[{required:!0,message:"请输入标题",trigger:"blur"}],file:[{required:!0,message:"请选择图片",trigger:"blur"}],address:[{required:!0,message:"请选择图片",trigger:"blur"}]},imageUrl:"",options:[{value:"周卡"},{value:"月卡"},{value:"季卡"}],payment:[{value:"微信支付"},{value:"积分兑换"}],sels:[]}},methods:{trim:function(e){if(null!=e)return e.replace(/(^\s+)|(\s+$)/g,"")},upqiniu:function(e){var t=this,a={headers:{"Content-Type":"multipart/form-data"}},s="";s="image/png"===e.file.type?"png":"jpg";var i="anbang"+Math.random()+"."+s;l()({method:"post",url:this.global.mPath+"/mailctrl/uptoken",headers:{"Content-type":"application/x-www-form-urlencoded"},params:{token:sessionStorage.getItem("token")}}).then(function(s){var r=new FormData;r.append("file",e.file),r.append("token",s.data.data),r.append("key",i),l.a.post(t.domain,r,a).then(function(e){t.imageUrl="http://"+t.qiniuaddr+"/"+e.data.key,t.img=!1})})},beforeUpload:function(e){var t="image/jpeg"===e.type||"image/png"===e.type,a=e.size/1024/1024<2;return t||this.$message.error("上传头像图片只能是 JPG 格式!"),a||this.$message.error("上传头像图片大小不能超过 2MB!"),t&&a},handleSearch:function(e){var t=this;l()({url:this.global.mPath+"/agent/queryagentclubcard",method:"post",params:{page:e,size:10,token:sessionStorage.getItem("token")}}).then(function(e){t.list=e.data.data.items,t.total=e.data.data.pageCount;for(var a=0;a<t.list.length;a++)1==t.list[a].sale?t.list[a].sale="是":t.list[a].sale="否"}).catch(function(e){if(e&&e.response)switch(e.response.status){case 504:t.$message({showClose:!0,message:"服务器异常",type:"warning"});break;case 405:t.$message({showClose:!0,message:"请先登录",type:"warning"})}})},showAddDialog:function(){this.imageUrl="",this.addFormVisible=!0},issue:function(){var e=this;l()({method:"post",url:this.global.mPath+"/agent/addagentclubcard",headers:{"Content-type":"application/x-www-form-urlencoded"},params:{product:this.normalForm.product,number:this.trim(this.normalForm.number),price:this.trim(this.normalForm.price),repertory:this.trim(this.normalForm.repertory),payType:this.normalForm.payType,productPic:this.imageUrl,weight:this.normalForm.weight,token:sessionStorage.getItem("token")}}).then(function(t){0==t.data.success?e.$message({showClose:!0,message:"添加失败",type:"warning"}):1==t.data.success&&(e.$message({showClose:!0,message:"添加成功",type:"success"}),e.addFormVisible=!1,e.handleSearch(1))}).catch(function(t){if(t&&t.response)switch(t.response.status){case 504:e.$message({showClose:!0,message:"服务器异常",type:"warning"});break;case 405:e.$message({showClose:!0,message:"请先登录",type:"warning"})}})},selsChange:function(e){this.sels=e},handleCurrentChange:function(e){this.page=e,this.handleSearch(this.page)},adjustDialog:function(e,t){this.imageUrl="",this.adjustmentVisible=!0,this.adjustForm=f()({},t),"是"==this.adjustForm.sale&&(this.radioData="true"),"否"==this.adjustForm.sale&&(this.radioData="false"),""==this.imageUrl&&(this.imageUrl=this.adjustForm.productPic)},Adjust:function(){var e=this;this.loading=!0,l()({method:"post",url:this.global.mPath+"/agent/updateagentclubcard",headers:{"Content-type":"application/x-www-form-urlencoded"},params:{id:this.adjustForm.id,product:this.adjustForm.product,number:this.adjustForm.number,price:this.adjustForm.price,repertory:this.adjustForm.repertory,payType:this.adjustForm.payType,productPic:this.imageUrl,sale:this.radioData,weight:this.adjustForm.weight,token:sessionStorage.getItem("token")}}).then(function(t){e.loading=!1,1==t.data.success?(e.adjustmentVisible=!1,e.$message.success({showClose:!0,message:"修改成功",duration:1500}),e.handleSearch(1)):e.$message.error({showClose:!0,message:err.toString(),duration:2e3})}).catch(function(t){e.loading=!1,e.$message.error({showClose:!0,message:"请求出现异常",duration:2e3})})},deleteDialog:function(e,t){var a=this;this.loading=!0,l()({method:"post",url:this.global.mPath+"/agent/deleteagentclubcard",headers:{"Content-type":"application/x-www-form-urlencoded"},params:{cardId:t.id,token:sessionStorage.getItem("token")}}).then(function(e){a.loading=!1,1==e.data.success?(a.$message.success({showClose:!0,message:"删除成功",duration:1500}),a.handleSearch(1)):a.$message.error({showClose:!0,message:err.toString(),duration:2e3})}).catch(function(e){a.loading=!1,a.$message.error({showClose:!0,message:"请求出现异常",duration:2e3})})},batchDeleteBook:function(){var e=this,t=this.sels.map(function(e){return e.id}).toString(),a=this;this.$confirm("确认删除选中记录吗？","提示",{type:"warning"}).then(function(){a.loading=!0,l()({method:"post",url:e.global.mPath+"/agent/deleteagentclubcard",headers:{"Content-type":"application/x-www-form-urlencoded"},params:{cardId:t,token:sessionStorage.getItem("token")}}).then(function(e){a.loading=!1,1==e.data.success?(a.$message.success({showClose:!0,message:"删除成功",duration:1500}),a.handleSearch(1)):a.$message.error({showClose:!0,message:err.toString(),duration:2e3})}).catch(function(e){a.loading=!1,a.$message.error({showClose:!0,message:"请求出现异常",duration:2e3})})})}},mounted:function(){this.handleSearch()}},He={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-row",{staticClass:"warp"},[a("el-col",{staticClass:"warp-breadcrum",attrs:{span:24}},[a("el-breadcrumb",{attrs:{separator:"/"}},[a("el-breadcrumb-item",{attrs:{to:{path:"/"}}},[a("b",[e._v("推广员中心")])]),e._v(" "),a("el-breadcrumb-item",[e._v("推广员商城管理")])],1)],1),e._v(" "),a("el-col",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticClass:"warp-main",attrs:{span:24,"element-loading-text":"拼命加载中"}},[a("el-col",{staticClass:"toolbar",staticStyle:{"padding-bottom":"0px"},attrs:{span:24}},[a("el-form",{attrs:{inline:!0,model:e.filters}},[a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:e.showAddDialog}},[e._v("添加商品")])],1)],1)],1),e._v(" "),a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.list,"highlight-current-row":""},on:{"selection-change":e.selsChange}},[a("el-table-column",{attrs:{type:"selection",width:"55"}}),e._v(" "),a("el-table-column",{attrs:{type:"index",width:"60"}}),e._v(" "),a("el-table-column",{attrs:{prop:"product",label:"商品类型",width:"100"}}),e._v(" "),a("el-table-column",{attrs:{prop:"number",label:"数量",width:"100",sortable:""}}),e._v(" "),a("el-table-column",{attrs:{prop:"repertory",label:"库存数量",width:"100",sortable:""}}),e._v(" "),a("el-table-column",{attrs:{prop:"remain",label:"剩余数量",width:"100",sortable:""}}),e._v(" "),a("el-table-column",{attrs:{prop:"price",label:"价格",width:"100",sortable:""}}),e._v(" "),a("el-table-column",{attrs:{prop:"productPic",label:"ICON图",width:"100"},scopedSlots:e._u([{key:"default",fn:function(e){return[a("img",{staticStyle:{width:"50px",height:"50px"},attrs:{src:e.row.productPic,alt:""}})]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"payType",label:"支付方式",width:"100"}}),e._v(" "),a("el-table-column",{attrs:{prop:"sale",label:"是否可用",width:"100",sortable:""}}),e._v(" "),a("el-table-column",{attrs:{prop:"weight",label:"排序",width:"100",sortable:""}}),e._v(" "),a("el-table-column",{attrs:{prop:"remainSecond",label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{size:"small"},on:{click:function(a){e.deleteDialog(t.$index,t.row)}}},[e._v("删除")]),e._v(" "),a("el-button",{attrs:{size:"small"},on:{click:function(a){e.adjustDialog(t.$index,t.row)}}},[e._v("调整")])]}}])})],1),e._v(" "),a("el-col",{staticClass:"toolbar",attrs:{span:24}},[a("el-button",{attrs:{type:"danger",disabled:0===this.sels.length},on:{click:e.batchDeleteBook}},[e._v("批量删除")]),e._v(" "),a("el-pagination",{staticStyle:{float:"right"},attrs:{layout:"prev, pager, next","page-size":1,total:e.total},on:{"current-change":e.handleCurrentChange}})],1),e._v(" "),a("el-dialog",{attrs:{title:"添加商品",visible:e.addFormVisible,"close-on-click-modal":!1},on:{"update:visible":function(t){e.addFormVisible=t}}},[a("el-form",{staticClass:"demo-ruleForm",attrs:{model:e.normalForm,"label-width":"100px",rules:e.rules}},[a("el-form-item",{attrs:{label:"商品类型",prop:"product"}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.normalForm.product,callback:function(t){e.$set(e.normalForm,"product",t)},expression:"normalForm.product"}},e._l(e.options,function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}))],1),e._v(" "),a("el-form-item",{staticStyle:{width:"317px"},attrs:{label:"商品数量",prop:"number"}},[a("el-input",{attrs:{"auto-complete":"off"},model:{value:e.normalForm.number,callback:function(t){e.$set(e.normalForm,"number",t)},expression:"normalForm.number"}})],1),e._v(" "),a("el-form-item",{staticStyle:{width:"317px"},attrs:{label:"库存数量",prop:"repertory"}},[a("el-input",{attrs:{"auto-complete":"off"},model:{value:e.normalForm.repertory,callback:function(t){e.$set(e.normalForm,"repertory",t)},expression:"normalForm.repertory"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"支付方式",prop:"payType"}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.normalForm.payType,callback:function(t){e.$set(e.normalForm,"payType",t)},expression:"normalForm.payType"}},e._l(e.payment,function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}))],1),e._v(" "),a("el-form-item",{attrs:{label:"价格",prop:"price"}},[a("el-input",{staticStyle:{width:"217px"},attrs:{"auto-complete":"off"},model:{value:e.normalForm.price,callback:function(t){e.$set(e.normalForm,"price",t)},expression:"normalForm.price"}}),e._v(" 元/积分\n      ")],1),e._v(" "),a("el-form-item",{attrs:{label:"权重",prop:"weight"}},[a("el-input",{staticStyle:{width:"217px"},attrs:{"auto-complete":"off",placeholder:"请输入数字"},model:{value:e.normalForm.weight,callback:function(t){e.$set(e.normalForm,"weight",t)},expression:"normalForm.weight"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"ICON图",prop:"productPic"}},[a("div",{staticClass:"upload"},[a("el-upload",{staticClass:"avatar-uploader",attrs:{action:e.domain,"http-request":e.upqiniu,"show-file-list":!1,"before-upload":e.beforeUpload}},[e.imageUrl?a("img",{staticClass:"avatar",attrs:{src:e.imageUrl}}):a("el-button",{staticClass:"el-icon-plus avatar-uploader-icon"})],1)],1)]),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.issue()}}},[e._v("确认添加")]),e._v(" "),a("el-button",{attrs:{type:"primary"},nativeOn:{click:function(t){e.addFormVisible=!1}}},[e._v("取消")])],1)],1)],1),e._v(" "),a("el-dialog",{attrs:{title:"调整商品",visible:e.adjustmentVisible,"close-on-click-modal":!1},on:{"update:visible":function(t){e.adjustmentVisible=t}}},[a("el-form",{staticClass:"demo-ruleForm",attrs:{model:e.adjustForm,"label-width":"100px",rules:e.rules}},[a("el-form-item",{attrs:{label:"商品类型",prop:"product"}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.adjustForm.product,callback:function(t){e.$set(e.adjustForm,"product",t)},expression:"adjustForm.product"}},e._l(e.options,function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}))],1),e._v(" "),a("el-form-item",{staticStyle:{width:"317px"},attrs:{label:"商品数量",prop:"number"}},[a("el-input",{attrs:{"auto-complete":"off"},model:{value:e.adjustForm.number,callback:function(t){e.$set(e.adjustForm,"number",t)},expression:"adjustForm.number"}})],1),e._v(" "),a("el-form-item",{staticStyle:{width:"317px"},attrs:{label:"库存数量",prop:"repertory"}},[a("el-input",{attrs:{"auto-complete":"off"},model:{value:e.adjustForm.repertory,callback:function(t){e.$set(e.adjustForm,"repertory",t)},expression:"adjustForm.repertory"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"支付方式",prop:"payType"}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.adjustForm.payType,callback:function(t){e.$set(e.adjustForm,"payType",t)},expression:"adjustForm.payType"}},e._l(e.payment,function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}))],1),e._v(" "),a("el-form-item",{attrs:{label:"价格",prop:"price"}},[a("el-input",{staticStyle:{width:"217px"},attrs:{"auto-complete":"off"},model:{value:e.adjustForm.price,callback:function(t){e.$set(e.adjustForm,"price",t)},expression:"adjustForm.price"}}),e._v(" 元/积分\n        ")],1),e._v(" "),a("el-form-item",{attrs:{label:"权重",prop:"weight"}},[a("el-input",{staticStyle:{width:"217px"},attrs:{"auto-complete":"off"},model:{value:e.adjustForm.weight,callback:function(t){e.$set(e.adjustForm,"weight",t)},expression:"adjustForm.weight"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"是否可用"}},[a("el-radio",{attrs:{label:"true"},model:{value:e.radioData,callback:function(t){e.radioData=t},expression:"radioData"}},[e._v("是")]),e._v(" "),a("el-radio",{attrs:{label:"false"},model:{value:e.radioData,callback:function(t){e.radioData=t},expression:"radioData"}},[e._v("否")])],1),e._v(" "),a("el-form-item",{attrs:{label:"ICON图",prop:"productPic"}},[a("div",{staticClass:"upload"},[a("el-upload",{staticClass:"avatar-uploader",attrs:{action:e.domain,"http-request":e.upqiniu,"show-file-list":!1,"before-upload":e.beforeUpload}},[e.imageUrl?a("img",{staticClass:"avatar",attrs:{src:e.imageUrl}}):a("el-button",{staticClass:"el-icon-plus avatar-uploader-icon"})],1)],1)]),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.Adjust()}}},[e._v("确认调整")]),e._v(" "),a("el-button",{attrs:{type:"primary"},nativeOn:{click:function(t){e.adjustmentVisible=!1}}},[e._v("取消")])],1)],1)],1)],1)],1)},staticRenderFns:[]};var Be=a("VU/8")(ze,He,!1,function(e){a("xp0g")},"data-v-594574f4",null).exports,We={name:"CodeUsageRecord",data:function(){return{loading:!1,filters:{},items:[],total:0,state:{},sorting:{},page:1}},methods:{dateTimeFormat:function(e){var t=new Date(+e),a=function(e){return(e="0"+e).substring(e.length-2,e.length)};if(null!=t){var s=t.getFullYear(),i=t.getMonth()+1,r=t.getDate(),n=t.getHours(),o=t.getMinutes(),l=t.getSeconds();return s+"-"+a(i)+"-"+a(r)+" "+a(n)+":"+a(o)+":"+a(l)}},trim:function(e){if(null!=e)return e.replace(/(^\s+)|(\s+$)/g,"")},handleCurrentChange:function(e){this.page=e,this.sort(this.sorting)},handleSearch:function(e,t,a){var s=this;if(this.filters.startTime){var i=new Date(this.filters.startTime);this.state.startTime=i.getTime()}if(this.filters.endTime){var r=new Date(this.filters.endTime);this.state.endTime=r.getTime()}this.filters.startTime&&this.filters.endTime&&this.state.endTime-this.state.startTime<0||l()({method:"post",url:this.global.mPath+"/agent/queryagentinvitationrecord",headers:{"Content-type":"application/x-www-form-urlencoded"},params:{size:"10",page:this.page,agentId:this.trim(this.filters.id),agent:this.trim(this.filters.nickname),startTime:this.state.startTime,endTime:this.state.endTime,token:sessionStorage.getItem("token"),createTimeSort:e,inviteNumSort:t,scoreSort:a}}).then(function(e){s.loading=!1,s.items=e.data.data.items,s.total=e.data.data.pageCount;for(var t=0;t<s.items.length;t++)s.items[t].createTime=s.dateTimeFormat(s.items[t].createTime)}).catch(function(e){if(e&&e.response)switch(e.response.status){case 504:case 500:s.$message({showClose:!0,message:"服务器异常",type:"warning"}),s.loading=!1;break;case 405:s.$message({showClose:!0,message:"请先登录",type:"warning"})}})},sort:function(e){this.sorting=e,"createTime"==this.sorting.prop&&("ascending"==this.sorting.order&&(this.sorting.createTime="ASC"),"descending"==this.sorting.order&&(this.sorting.createTime="DESC")),"inviteNum"==this.sorting.prop&&("ascending"==this.sorting.order&&(this.sorting.inviteNum="ASC"),"descending"==this.sorting.order&&(this.sorting.inviteNum="DESC")),"score"==this.sorting.prop&&("ascending"==this.sorting.order&&(this.sorting.score="ASC"),"descending"==this.sorting.order&&(this.sorting.score="DESC")),this.handleSearch(this.sorting.createTime,this.sorting.inviteNum,this.sorting.score)},selsChange:function(e){this.sels=e}},mounted:function(){this.handleSearch()}},Ye={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-row",{staticClass:"warp"},[a("el-col",{staticClass:"warp-breadcrum",attrs:{span:24}},[a("el-breadcrumb",{attrs:{separator:"/"}},[a("el-breadcrumb-item",{attrs:{to:{path:"/"}}},[a("b",[e._v("推广员管理")])]),e._v(" "),a("el-breadcrumb-item",[e._v("推广码使用记录")])],1)],1),e._v(" "),a("el-col",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticClass:"warp-main",attrs:{span:24,"element-loading-text":"拼命加载中"}},[a("el-col",{staticClass:"toolbar",staticStyle:{"padding-bottom":"0px"},attrs:{span:24}},[a("el-form",{attrs:{inline:!0,model:e.filters}},[a("el-form-item",{attrs:{label:"推广员ID","label-width":"70px"}},[a("el-input",{nativeOn:{keyup:function(t){return"button"in t||!e._k(t.keyCode,"enter",13,t.key,"Enter")?e.handleSearch(t):null}},model:{value:e.filters.id,callback:function(t){e.$set(e.filters,"id",t)},expression:"filters.id"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"推广员昵称","label-width":"90px"}},[a("el-input",{nativeOn:{keyup:function(t){return"button"in t||!e._k(t.keyCode,"enter",13,t.key,"Enter")?e.handleSearch(t):null}},model:{value:e.filters.nickname,callback:function(t){e.$set(e.filters,"nickname",t)},expression:"filters.nickname"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"注册时间","label-width":"68px"}},[a("el-date-picker",{attrs:{type:"date",placeholder:"选择日期"},model:{value:e.filters.startTime,callback:function(t){e.$set(e.filters,"startTime",t)},expression:"filters.startTime"}})],1),e._v(" "),a("el-form-item",{staticStyle:{"margin-left":"-44px"},attrs:{label:"至","label-width":"68px"}},[a("el-date-picker",{attrs:{type:"date",placeholder:"选择日期"},model:{value:e.filters.endTime,callback:function(t){e.$set(e.filters,"endTime",t)},expression:"filters.endTime"}})],1),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.handleSearch()}}},[e._v("查询")])],1)],1),e._v(" "),a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.items,"highlight-current-row":""},on:{"selection-change":e.selsChange,"sort-change":e.sort}},[a("el-table-column",{attrs:{prop:"agentId",label:"推广员ID",width:"120"}}),e._v(" "),a("el-table-column",{attrs:{prop:"agent",label:"推广员昵称",width:"120"}}),e._v(" "),a("el-table-column",{attrs:{prop:"invitationCode",label:"推广码",width:"auto"}}),e._v(" "),a("el-table-column",{attrs:{prop:"memberId",label:"邀请ID",width:"100"}}),e._v(" "),a("el-table-column",{attrs:{prop:"createTime",label:"绑定时间",width:"160",sortable:""}}),e._v(" "),a("el-table-column",{attrs:{prop:"rewardScore",label:"获得积分",width:"100"}}),e._v(" "),a("el-table-column",{attrs:{prop:"inviteNum",label:"邀请总人数",width:"150",sortable:""}}),e._v(" "),a("el-table-column",{attrs:{prop:"score",label:"累计得分",sortable:""}})],1),e._v(" "),a("el-col",{staticClass:"toolbar",attrs:{span:24}},[a("el-pagination",{staticStyle:{float:"right"},attrs:{layout:"prev, pager, next","page-size":1,total:e.total},on:{"current-change":e.handleCurrentChange}})],1)],1)],1)},staticRenderFns:[]};var Xe=a("VU/8")(We,Ye,!1,function(e){a("dlfo")},"data-v-0b7845d6",null).exports,Je={name:"IntegralRecord",data:function(){return{loading:!1,filters:{name:""},items:[],total:0,value1:"",value2:"",options:[{value:"周卡"},{value:"月卡"},{value:"季卡"}],publishVisible:!1,publishForm:{},notarizeVisible:!1,state:[],number:"",sorting:{},page:1}},methods:{dateTimeFormat:function(e){var t=new Date(+e),a=function(e){return(e="0"+e).substring(e.length-2,e.length)};if(null!=t){var s=t.getFullYear(),i=t.getMonth()+1,r=t.getDate(),n=t.getHours(),o=t.getMinutes(),l=t.getSeconds();return s+"-"+a(i)+"-"+a(r)+" "+a(n)+":"+a(o)+":"+a(l)}},trim:function(e){if(null!=e)return e.replace(/(^\s+)|(\s+$)/g,"")},handleCurrentChange:function(e){this.page=e,this.sort(this.sorting)},seek:function(e,t,a){var s=this;if(this.filters.startTime){var i=new Date(this.filters.startTime);this.state.startTime=i.getTime()}if(this.filters.endTime){var r=new Date(this.filters.endTime);this.state.endTime=r.getTime()}this.filters.startTime&&this.filters.endTime&&this.state.endTime-this.state.startTime<=0?this.$message({showClose:!0,message:"时间段选择有误",type:"warning"}):l()({method:"post",url:this.global.mPath+"/agent/queryscorerecord",headers:{"Content-type":"application/x-www-form-urlencoded"},params:{size:"10",page:this.page,agentId:this.trim(this.filters.id),agent:this.trim(this.filters.agent),startTime:this.state.startTime,endTime:this.state.endTime,token:sessionStorage.getItem("token"),accountingAmountSort:e,accountingTimeSort:t,balanceAfterSort:a}}).then(function(e){s.loading=!1,s.items=e.data.data.items,s.total=e.data.data.pageCount;for(var t=0;t<s.items.length;t++)s.items[t].accountingTime=s.dateTimeFormat(s.items[t].accountingTime)}).catch(function(e){if(e&&e.response)switch(e.response.status){case 504:case 500:s.$message({showClose:!0,message:"服务器异常",type:"warning"}),s.loading=!1;break;case 405:s.$message({showClose:!0,message:"请先登录",type:"warning"})}})},sort:function(e){this.sorting=e,"accountingAmount"==this.sorting.prop&&("ascending"==this.sorting.order&&(this.sorting.accountingAmount="ASC"),"descending"==this.sorting.order&&(this.sorting.accountingAmount="DESC")),"accountingTime"==this.sorting.prop&&("ascending"==this.sorting.order&&(this.sorting.accountingTime="ASC"),"descending"==this.sorting.order&&(this.sorting.accountingTime="DESC")),"balanceAfter"==this.sorting.prop&&("ascending"==this.sorting.order&&(this.sorting.balanceAfter="ASC"),"descending"==this.sorting.order&&(this.sorting.balanceAfter="DESC")),this.seek(this.sorting.accountingAmount,this.sorting.accountingTime,this.sorting.balanceAfter)},selsChange:function(e){this.sels=e}},mounted:function(){this.seek()}},Qe={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-row",{staticClass:"warp"},[a("el-col",{staticClass:"warp-breadcrum",attrs:{span:24}},[a("el-breadcrumb",{attrs:{separator:"/"}},[a("el-breadcrumb-item",{attrs:{to:{path:"/"}}},[a("b",[e._v("推广员中心")])]),e._v(" "),a("el-breadcrumb-item",[e._v("积分记录")])],1)],1),e._v(" "),a("el-col",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticClass:"warp-main",attrs:{span:24,"element-loading-text":"拼命加载中"}},[a("el-col",{staticClass:"toolbar",staticStyle:{"padding-bottom":"0px"},attrs:{span:24}},[a("el-form",{attrs:{inline:!0,model:e.filters}},[a("el-form-item",{attrs:{label:"推广员ID"}},[a("el-input",{attrs:{placeholder:"请输入推广员ID"},model:{value:e.filters.id,callback:function(t){e.$set(e.filters,"id",t)},expression:"filters.id"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"推广员昵称"}},[a("el-input",{attrs:{placeholder:"请输入推广员昵称"},model:{value:e.filters.agent,callback:function(t){e.$set(e.filters,"agent",t)},expression:"filters.agent"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"时间"}},[a("el-date-picker",{attrs:{type:"date",placeholder:"时间选择"},model:{value:e.filters.startTime,callback:function(t){e.$set(e.filters,"startTime",t)},expression:"filters.startTime"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"至"}},[a("el-date-picker",{attrs:{type:"date",placeholder:"时间选择"},model:{value:e.filters.endTime,callback:function(t){e.$set(e.filters,"endTime",t)},expression:"filters.endTime"}})],1),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.seek()}}},[e._v("搜索")])],1)],1),e._v(" "),a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.items,"highlight-current-row":""},on:{"selection-change":e.selsChange,"sort-change":e.sort}},[a("el-table-column",{attrs:{type:"index",width:"60"}}),e._v(" "),a("el-table-column",{attrs:{prop:"agentId",label:"推广员ID",width:"120"}}),e._v(" "),a("el-table-column",{attrs:{prop:"agent",label:"推广员昵称",width:"120"}}),e._v(" "),a("el-table-column",{attrs:{prop:"accountingAmount",label:"积分变化",width:"100",sortable:""}}),e._v(" "),a("el-table-column",{attrs:{prop:"accountingTime",label:"时间",width:"160",sortable:""}}),e._v(" "),a("el-table-column",{attrs:{prop:"summary.text",label:"说明",width:"140"}}),e._v(" "),a("el-table-column",{attrs:{prop:"balanceAfter",label:"剩余积分",width:"auto",sortable:""}})],1),e._v(" "),a("el-col",{staticClass:"toolbar",attrs:{span:24}},[a("el-pagination",{staticStyle:{float:"right"},attrs:{layout:"prev, pager, next","page-size":1,total:e.total},on:{"current-change":e.handleCurrentChange}})],1)],1)],1)},staticRenderFns:[]};var Ze=a("VU/8")(Je,Qe,!1,function(e){a("PCS2")},"data-v-c2d555c0",null).exports,Ke={name:"GamePlay",data:function(){return{filters:{},playmethod:[],sels:[],total:0,addGame:{},addGame1:{},adjustGame:{},adjustGame1:{},addGameVisible:!1,adjustGameVisible:!1,editFormRules:{game:[{required:!0,message:"请输入游戏名称",trigger:"blur"}],name:[{required:!0,message:"请输入玩法",trigger:"blur"}],desc:[{required:!0,message:"请输入描述",trigger:"blur"}],mutexGroupId:[{required:!0,message:"请输入互斥组id",trigger:"blur"}]}}},methods:{handleCurrentChange:function(e){this.page=e,this.handleSearch(this.page)},trim:function(e){if(null!=e)return e.replace(/(^\s+)|(\s+$)/g,"")},handleSearch:function(e){var t=this;l()({method:"post",url:this.global.mPath+"/game/query_gamelaw",headers:{"Content-type":"application/x-www-form-urlencoded"},params:{game:this.trim(this.filters.gamename),name:this.trim(this.filters.play),page:e,size:"10",token:sessionStorage.getItem("token")}}).then(function(e){t.playmethod=e.data.data.items,t.total=e.data.data.pageCount;for(var a=0;a<t.playmethod.length;a++)console.log(t.playmethod[a]),1==t.playmethod[a].vip?t.playmethod[a].vip="是":t.playmethod[a].vip="否"}).catch(function(e){if(e&&e.response)switch(e.response.status){case 504:t.$message({showClose:!0,message:"服务器异常",type:"warning"});break;case 405:t.$message({showClose:!0,message:"请先登录",type:"warning"})}})},selsChange:function(e){this.sels=e},adjust:function(e,t){this.adjustGameVisible=!0,this.adjustGame=f()({},t)},referSubmit:function(){var e=this;console.log(this.adjustGame.id),"是"==this.adjustGame.vip?this.adjustGame1.vip=!0:this.adjustGame1.vip=!1,l()({method:"post",url:this.global.mPath+"/game/update_law",headers:{"Content-type":"application/x-www-form-urlencoded"},params:{id:this.adjustGame.id,game:this.trim(this.adjustGame.game),name:this.trim(this.adjustGame.name),desc:this.trim(this.adjustGame.desc),mutexGroupId:this.trim(this.adjustGame.mutexGroupId),vip:this.adjustGame1.vip,token:sessionStorage.getItem("token")}}).then(function(t){0==t.data.success?e.$message({showClose:!0,message:"调整失败",type:"warning"}):1==t.data.success&&(e.$message({showClose:!0,message:"调整成功",type:"success"}),e.adjustGameVisible=!1,e.handleSearch(1))}).catch(function(t){if(t&&t.response)switch(t.response.status){case 504:e.$message({showClose:!0,message:"服务器异常",type:"warning"});break;case 405:e.$message({showClose:!0,message:"请先登录",type:"warning"})}})},delBook:function(e,t){var a=this,s=this;this.$confirm("确认删除该记录吗?","提示",{type:"warning"}).then(function(){s.loading=!0,l()({method:"post",url:a.global.mPath+"/game/remove_law",headers:{"Content-type":"application/x-www-form-urlencoded"},params:{lawId:t.id,token:sessionStorage.getItem("token")}}).then(function(e){s.loading=!1,1==e.data.success?(s.$message.success({showClose:!0,message:"删除成功",duration:1500}),s.handleSearch(1)):s.$message.error({showClose:!0,message:err.toString(),duration:2e3})}).catch(function(e){s.loading=!1,console.log(e),s.$message.error({showClose:!0,message:"请求出现异常",duration:2e3})})})},batchDeleteBook:function(){var e=this,t=this.sels.map(function(e){return e.id}).toString(),a=this;this.$confirm("确认删除该记录吗?","提示",{type:"warning"}).then(function(){a.loading=!0,l()({method:"post",url:e.global.mPath+"/game/remove_law",headers:{"Content-type":"application/x-www-form-urlencoded"},params:{lawId:t,token:sessionStorage.getItem("token")}}).then(function(e){a.loading=!1,1==e.data.success?(a.$message.success({showClose:!0,message:"删除成功",duration:1500}),a.handleSearch(1)):a.$message.error({showClose:!0,message:err.toString(),duration:2e3})}).catch(function(e){a.loading=!1,console.log(e),a.$message.error({showClose:!0,message:"请求出现异常",duration:2e3})})})},addplay:function(){this.addGameVisible=!0},addSubmit:function(){var e=this;"是"==this.addGame.vip?this.addGame1.vip=!0:this.addGame1.vip=!1,l()({method:"post",url:this.global.mPath+"/game/add_law",headers:{"Content-type":"application/x-www-form-urlencoded"},params:{game:this.trim(this.addGame.game),name:this.trim(this.addGame.name),desc:this.trim(this.addGame.desc),mutexGroupId:this.trim(this.addGame.mutexGroupId),vip:this.addGame1.vip,token:sessionStorage.getItem("token")}}).then(function(t){0==t.data.success?e.$message({showClose:!0,message:"添加失败",type:"warning"}):1==t.data.success&&(e.$message({showClose:!0,message:"添加成功",type:"success"}),e.addGameVisible=!1,e.handleSearch(1))}).catch(function(t){if(t&&t.response)switch(t.response.status){case 504:e.$message({showClose:!0,message:"服务器异常",type:"warning"});break;case 405:e.$message({showClose:!0,message:"请先登录",type:"warning"})}})}},mounted:function(){this.handleSearch(1)}},et={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-row",{staticClass:"warp"},[a("el-col",{staticClass:"warp-breadcrum",attrs:{span:24}},[a("el-breadcrumb",{attrs:{separator:"/"}},[a("el-breadcrumb-item",{attrs:{to:{path:"/"}}},[a("b",[e._v("玩法管理")])]),e._v(" "),a("el-breadcrumb-item",[e._v("玩法")])],1)],1),e._v(" "),a("el-col",{staticClass:"toolbar",staticStyle:{"padding-bottom":"0px"},attrs:{span:24}},[a("el-form",{attrs:{inline:!0,model:e.filters}},[a("el-form-item",{attrs:{label:"游戏名称","label-width":"68px"}},[a("el-input",{nativeOn:{keyup:function(t){if(!("button"in t)&&e._k(t.keyCode,"enter",13,t.key,"Enter"))return null;e.handleSearch(1)}},model:{value:e.filters.gamename,callback:function(t){e.$set(e.filters,"gamename",t)},expression:"filters.gamename"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"玩法","label-width":"68px"}},[a("el-input",{nativeOn:{keyup:function(t){if(!("button"in t)&&e._k(t.keyCode,"enter",13,t.key,"Enter"))return null;e.handleSearch(1)}},model:{value:e.filters.play,callback:function(t){e.$set(e.filters,"play",t)},expression:"filters.play"}})],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.handleSearch(1)}}},[e._v("查询")])],1)],1)],1),e._v(" "),a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.playmethod,"highlight-current-row":""},on:{"selection-change":e.selsChange}},[a("el-table-column",{attrs:{type:"selection",width:"55"}}),e._v(" "),a("el-table-column",{attrs:{type:"index",width:"60"}}),e._v(" "),a("el-table-column",{attrs:{prop:"id",label:"玩法ID",width:"auto"}}),e._v(" "),a("el-table-column",{attrs:{prop:"game",label:"游戏名称",width:"auto"}}),e._v(" "),a("el-table-column",{attrs:{prop:"name",label:"玩法",width:"auto"}}),e._v(" "),a("el-table-column",{attrs:{prop:"desc",label:"描述",width:"auto"}}),e._v(" "),a("el-table-column",{attrs:{prop:"mutexGroupId",label:"互斥组id",width:"auto"}}),e._v(" "),a("el-table-column",{attrs:{prop:"vip",label:"是否会员",width:"auto"}}),e._v(" "),a("el-table-column",{attrs:{label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(a){e.adjust(t.$index,t.row)}}},[e._v("调整")]),e._v(" "),a("el-button",{attrs:{type:"danger",size:"small"},on:{click:function(a){e.delBook(t.$index,t.row)}}},[e._v("删除")])]}}])})],1),e._v(" "),a("el-dialog",{attrs:{title:"新增玩法",visible:e.addGameVisible,"close-on-click-modal":!1},on:{"update:visible":function(t){e.addGameVisible=t}}},[a("el-form",{ref:"addGame",attrs:{model:e.addGame,"label-width":"150px",rules:e.editFormRules}},[a("el-form-item",{attrs:{label:"游戏名称",prop:"game"}},[a("el-input",{staticStyle:{width:"300px"},attrs:{"auto-complete":"off"},model:{value:e.addGame.game,callback:function(t){e.$set(e.addGame,"game",t)},expression:"addGame.game"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"玩法",prop:"name"}},[a("el-input",{staticStyle:{width:"300px"},attrs:{"auto-complete":"off"},model:{value:e.addGame.name,callback:function(t){e.$set(e.addGame,"name",t)},expression:"addGame.name"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"描述",prop:"desc"}},[a("el-input",{staticStyle:{width:"300px"},attrs:{"auto-complete":"off"},model:{value:e.addGame.desc,callback:function(t){e.$set(e.addGame,"desc",t)},expression:"addGame.desc"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"互斥组id",prop:"mutexGroupId"}},[a("el-input",{staticStyle:{width:"300px"},attrs:{"auto-complete":"off"},model:{value:e.addGame.mutexGroupId,callback:function(t){e.$set(e.addGame,"mutexGroupId",t)},expression:"addGame.mutexGroupId"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"是否为vip",prop:"vip"}},[a("el-radio",{attrs:{label:"是"},model:{value:e.addGame.vip,callback:function(t){e.$set(e.addGame,"vip",t)},expression:"addGame.vip"}},[e._v("是")]),e._v(" "),a("el-radio",{attrs:{label:"否"},model:{value:e.addGame.vip,callback:function(t){e.$set(e.addGame,"vip",t)},expression:"addGame.vip"}},[e._v("否")])],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{nativeOn:{click:function(t){e.addGameVisible=!1}}},[e._v("取消")]),e._v(" "),a("el-button",{attrs:{type:"primary"},nativeOn:{click:function(t){return e.addSubmit(t)}}},[e._v("提交")])],1)],1),e._v(" "),a("el-dialog",{attrs:{title:"调整玩法",visible:e.adjustGameVisible,"close-on-click-modal":!1},on:{"update:visible":function(t){e.adjustGameVisible=t}}},[a("el-form",{ref:"addGame",attrs:{model:e.adjustGame,"label-width":"150px",rules:e.editFormRules}},[a("el-form-item",{attrs:{label:"游戏名称",prop:"game"}},[a("el-input",{staticStyle:{width:"300px"},attrs:{"auto-complete":"off"},model:{value:e.adjustGame.game,callback:function(t){e.$set(e.adjustGame,"game",t)},expression:"adjustGame.game"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"玩法",prop:"name"}},[a("el-input",{staticStyle:{width:"300px"},attrs:{"auto-complete":"off"},model:{value:e.adjustGame.name,callback:function(t){e.$set(e.adjustGame,"name",t)},expression:"adjustGame.name"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"描述",prop:"desc"}},[a("el-input",{staticStyle:{width:"300px"},attrs:{"auto-complete":"off"},model:{value:e.adjustGame.desc,callback:function(t){e.$set(e.adjustGame,"desc",t)},expression:"adjustGame.desc"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"互斥组id",prop:"mutexGroupId"}},[a("el-input",{staticStyle:{width:"300px"},attrs:{"auto-complete":"off"},model:{value:e.adjustGame.mutexGroupId,callback:function(t){e.$set(e.adjustGame,"mutexGroupId",t)},expression:"adjustGame.mutexGroupId"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"是否为vip",prop:"vip"}},[a("el-radio",{attrs:{label:"是"},model:{value:e.adjustGame.vip,callback:function(t){e.$set(e.adjustGame,"vip",t)},expression:"adjustGame.vip"}},[e._v("是")]),e._v(" "),a("el-radio",{attrs:{label:"否"},model:{value:e.adjustGame.vip,callback:function(t){e.$set(e.adjustGame,"vip",t)},expression:"adjustGame.vip"}},[e._v("否")])],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{nativeOn:{click:function(t){e.adjustGameVisible=!1}}},[e._v("取消")]),e._v(" "),a("el-button",{attrs:{type:"primary"},nativeOn:{click:function(t){return e.referSubmit(t)}}},[e._v("提交")])],1)],1),e._v(" "),a("el-col",{staticClass:"toolbar",attrs:{span:24}},[a("el-button",{attrs:{type:"danger",disabled:0===this.sels.length},on:{click:e.batchDeleteBook}},[e._v("批量删除")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:e.addplay}},[e._v("新增")]),e._v(" "),a("el-pagination",{staticStyle:{float:"right"},attrs:{layout:"prev, pager, next","page-size":1,total:e.total},on:{"current-change":e.handleCurrentChange}})],1)],1)},staticRenderFns:[]};var tt=a("VU/8")(Ke,et,!1,function(e){a("YGSI")},"data-v-bf0ce2d8",null).exports,at={name:"PlayTheMutex",data:function(){return{filters:{},playmethod:[],sels:[],total:0,addGame:{},addGameVisible:!1,content:"",content1:"",editFormRules:{game:[{required:!0,message:"请输入游戏名称",trigger:"blur"}],name:[{required:!0,message:"请输入玩法",trigger:"blur"}],desc:[{required:!0,message:"请输入描述",trigger:"blur"}]}}},methods:{handleCurrentChange:function(e){this.page=e,this.handleSearch(this.page)},trim:function(e){if(null!=e)return e.replace(/(^\s+)|(\s+$)/g,"")},handleSearch:function(e){var t=this;l()({method:"post",url:this.global.mPath+"/game/query_lawsmutexgroup",headers:{"Content-type":"application/x-www-form-urlencoded"},params:{game:this.trim(this.filters.gamename),name:this.trim(this.filters.play),page:e,size:"10",token:sessionStorage.getItem("token")}}).then(function(e){console.log(e.data.data),t.playmethod=e.data.data.items,t.total=e.data.data.pageCount}).catch(function(e){if(e&&e.response)switch(e.response.status){case 504:t.$message({showClose:!0,message:"服务器异常",type:"warning"});break;case 405:t.$message({showClose:!0,message:"请先登录",type:"warning"})}})},selsChange:function(e){this.sels=e},delBook:function(e,t){var a=this,s=this;this.$confirm("确认删除该记录吗?","提示",{type:"warning"}).then(function(){s.loading=!0,l()({method:"post",url:a.global.mPath+"/game/remove_mutexgroup",headers:{"Content-type":"application/x-www-form-urlencoded"},params:{groupId:t.id,token:sessionStorage.getItem("token")}}).then(function(e){s.loading=!1,1==e.data.success?(s.$message.success({showClose:!0,message:"删除成功",duration:1500}),s.handleSearch(1)):s.$message.error({showClose:!0,message:err.toString(),duration:2e3})}).catch(function(e){s.loading=!1,console.log(e),s.$message.error({showClose:!0,message:"请求出现异常",duration:2e3})})})},batchDeleteBook:function(){var e=this,t=this.sels.map(function(e){return e.id}).toString(),a=this;this.$confirm("确认删除该记录吗?","提示",{type:"warning"}).then(function(){a.loading=!0,l()({method:"post",url:e.global.mPath+"/game/remove_mutexgroup",headers:{"Content-type":"application/x-www-form-urlencoded"},params:{groupId:t,token:sessionStorage.getItem("token")}}).then(function(e){a.loading=!1,1==e.data.success?(a.$message.success({showClose:!0,message:"删除成功",duration:1500}),a.handleSearch(1)):a.$message.error({showClose:!0,message:err.toString(),duration:2e3})}).catch(function(e){a.loading=!1,console.log(e),a.$message.error({showClose:!0,message:"请求出现异常",duration:2e3})})})},addplay:function(){this.addGameVisible=!0},addSubmit:function(){var e=this;l()({method:"post",url:this.global.mPath+"/game/add_mutexgroup",headers:{"Content-type":"application/x-www-form-urlencoded"},params:{game:this.trim(this.addGame.game),name:this.trim(this.addGame.name),desc:this.trim(this.addGame.desc),token:sessionStorage.getItem("token")}}).then(function(t){console.log(t.data),0==t.data.success?e.$message({showClose:!0,message:"添加失败",type:"warning"}):1==t.data.success&&(e.$message({showClose:!0,message:"添加成功",type:"success"}),e.addGameVisible=!1,e.handleSearch(1))}).catch(function(t){if(t&&t.response)switch(t.response.status){case 504:e.$message({showClose:!0,message:"服务器异常",type:"warning"});break;case 405:e.$message({showClose:!0,message:"请先登录",type:"warning"})}})}},mounted:function(){this.handleSearch(1)}},st={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-row",{staticClass:"warp"},[a("el-col",{staticClass:"warp-breadcrum",attrs:{span:24}},[a("el-breadcrumb",{attrs:{separator:"/"}},[a("el-breadcrumb-item",{attrs:{to:{path:"/"}}},[a("b",[e._v("玩法管理")])]),e._v(" "),a("el-breadcrumb-item",[e._v("玩法")])],1)],1),e._v(" "),a("el-col",{staticClass:"toolbar",staticStyle:{"padding-bottom":"0px"},attrs:{span:24}},[a("el-form",{attrs:{inline:!0,model:e.filters}},[a("el-form-item",{attrs:{label:"游戏名称","label-width":"68px"}},[a("el-input",{nativeOn:{keyup:function(t){if(!("button"in t)&&e._k(t.keyCode,"enter",13,t.key,"Enter"))return null;e.handleSearch(1)}},model:{value:e.filters.gamename,callback:function(t){e.$set(e.filters,"gamename",t)},expression:"filters.gamename"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"玩法","label-width":"68px"}},[a("el-input",{nativeOn:{keyup:function(t){if(!("button"in t)&&e._k(t.keyCode,"enter",13,t.key,"Enter"))return null;e.handleSearch(1)}},model:{value:e.filters.play,callback:function(t){e.$set(e.filters,"play",t)},expression:"filters.play"}})],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.handleSearch(1)}}},[e._v("查询")])],1)],1)],1),e._v(" "),a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.playmethod,"highlight-current-row":""},on:{"selection-change":e.selsChange}},[a("el-table-column",{attrs:{type:"selection",width:"55"}}),e._v(" "),a("el-table-column",{attrs:{type:"index",width:"60"}}),e._v(" "),a("el-table-column",{attrs:{prop:"id",label:"互斥组ID",width:"auto"}}),e._v(" "),a("el-table-column",{attrs:{prop:"game",label:"游戏名称",width:"auto"}}),e._v(" "),a("el-table-column",{attrs:{prop:"name",label:"玩法",width:"auto"}}),e._v(" "),a("el-table-column",{attrs:{prop:"desc",label:"描述",width:"auto"}}),e._v(" "),a("el-table-column",{attrs:{label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"danger",size:"small"},on:{click:function(a){e.delBook(t.$index,t.row)}}},[e._v("删除")])]}}])})],1),e._v(" "),a("el-dialog",{attrs:{title:"新增玩法",visible:e.addGameVisible,"close-on-click-modal":!1},on:{"update:visible":function(t){e.addGameVisible=t}}},[a("el-form",{ref:"addGame",attrs:{model:e.addGame,"label-width":"150px",rules:e.editFormRules}},[a("el-form-item",{attrs:{label:"游戏名称",prop:"game"}},[a("el-input",{staticStyle:{width:"300px"},attrs:{"auto-complete":"off"},model:{value:e.addGame.game,callback:function(t){e.$set(e.addGame,"game",t)},expression:"addGame.game"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"玩法",prop:"name"}},[a("el-input",{staticStyle:{width:"300px"},attrs:{"auto-complete":"off"},model:{value:e.addGame.name,callback:function(t){e.$set(e.addGame,"name",t)},expression:"addGame.name"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"描述",prop:"desc"}},[a("el-input",{staticStyle:{width:"300px"},attrs:{"auto-complete":"off"},model:{value:e.addGame.desc,callback:function(t){e.$set(e.addGame,"desc",t)},expression:"addGame.desc"}})],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{nativeOn:{click:function(t){e.addGameVisible=!1}}},[e._v("取消")]),e._v(" "),a("el-button",{attrs:{type:"primary"},nativeOn:{click:function(t){return e.addSubmit(t)}}},[e._v("提交")])],1)],1),e._v(" "),a("el-col",{staticClass:"toolbar",attrs:{span:24}},[a("el-button",{attrs:{type:"danger",disabled:0===this.sels.length},on:{click:e.batchDeleteBook}},[e._v("批量删除")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:e.addplay}},[e._v("新增")]),e._v(" "),a("el-pagination",{staticStyle:{float:"right"},attrs:{layout:"prev, pager, next","page-size":1,total:e.total},on:{"current-change":e.handleCurrentChange}})],1)],1)},staticRenderFns:[]};var it=a("VU/8")(at,st,!1,function(e){a("h1gx")},"data-v-42fd5ab6",null).exports,rt={name:"Lottery",data:function(){return{adjustmentVisible:!1,addVisible:!1,imageUrl:"",imageUrl1:"",addFormRules:{name:[{required:!0,message:"请输入奖励备注",trigger:"blur"}],type:[{required:!0,message:"请选择奖励类别",trigger:"change"}],singleNum:[{required:!0,message:"请输入数量",trigger:"blur"}],storeNum:[{required:!0,message:"请输入库存数量",trigger:"blur"}],prizeProb:[{required:!0,message:"请输入中奖概率",trigger:"blur"}],firstPrizeProb:[{required:!0,message:"请输入首次中奖概率",trigger:"blur"}],overstep:[{required:!0,message:"请选择超额奖池",trigger:"change"}]},adjustForm:{},addForm:{},items:[{value:"玉石"},{value:"会员周卡"},{value:"会员月卡"},{value:"会员季卡"},{value:"红包点"},{value:"实物"}],types:[{value:"红包"},{value:"会员卡"},{value:"玉石"},{value:"实物"},{value:"话费"}],jackpot:[{value:"是"},{value:"否"}],lottery:[],filters:{},domain:"http://up.qiniu.com",qiniuaddr:"qiniu.3cscy.com",tipVisible:!1,tip1Visible:!1,tip2Visible:!1,tip3Visible:!1,tip4Visible:!1,previewVisible:!1}},methods:{upqiniu:function(e){var t=this;console.log(e);var a={headers:{"Content-Type":"multipart/form-data"}},s="";s="image/png"===e.file.type?"png":"jpg";var i="anbang"+Math.random()+"."+s;l()({method:"post",url:this.global.mPath+"/mailctrl/uptoken",headers:{"Content-type":"application/x-www-form-urlencoded"},params:{token:sessionStorage.getItem("token")}}).then(function(s){var r=new FormData;r.append("file",e.file),r.append("token",s.data.data),r.append("key",i),l.a.post(t.domain,r,a).then(function(e){t.imageUrl="http://"+t.qiniuaddr+"/"+e.data.key,t.imageUrl1="http://"+t.qiniuaddr+"/"+e.data.key,t.img=!1,console.log(t.imageUrl)})})},beforeUpload:function(e){var t="image/jpeg"===e.type||"image/png"===e.type,a=e.size/1024/1024<2;return t||this.$message.error("上传头像图片只能是 JPG 格式!"),a||this.$message.error("上传头像图片大小不能超过 2MB!"),t&&a},handleSearch:function(){var e=this;l()({method:"post",url:this.global.mPath+"/signin/querysigninprize",headers:{"Content-type":"application/x-www-form-urlencoded"},params:{token:sessionStorage.getItem("token")}}).then(function(t){e.loading=!1,e.lottery=t.data.data}).catch(function(t){if(t&&t.response)switch(t.response.status){case 504:case 500:e.$message({showClose:!0,message:"服务器异常",type:"warning"}),e.loading=!1;break;case 405:e.$message({showClose:!0,message:"请先登录",type:"warning"})}})},adjustmentDialog:function(e,t){this.adjustmentVisible=!0,this.adjustForm=f()({},t),this.imageUrl1=this.adjustForm.iconUrl},adjustSubmit:function(){var e=this;l()({method:"post",url:this.global.mPath+"/signin/updatesigninprize",headers:{"Content-type":"application/x-www-form-urlencoded"},params:{id:this.adjustForm.id,name:this.adjustForm.name,type:this.adjustForm.name,singleNum:this.adjustForm.singleNum,storeNum:this.adjustForm.storeNum,iconUrl:this.imageUrl1,prizeProb:this.adjustForm.prizeProb,firstPrizeProb:this.adjustForm.firstPrizeProb,overstep:this.adjustForm.overstep,token:sessionStorage.getItem("token")}}).then(function(t){1==t.data.success?(e.adjustmentVisible=!1,e.$message.success({showClose:!0,message:"调整成功",duration:1500}),e.handleSearch(1)):e.$message.error({showClose:!0,message:err.toString(),duration:2e3})}).catch(function(t){e.loading=!1,console.log(error),e.$message.error({showClose:!0,message:"请求出现异常",duration:2e3})})},showAddDialog:function(){var e=this;this.$confirm("确认发布吗？","提示",{type:"warning"}).then(function(){l()({method:"post",url:e.global.mPath+"/signin/releasesigninprize ",headers:{"Content-type":"application/x-www-form-urlencoded"},params:{token:sessionStorage.getItem("token")}}).then(function(t){1==t.data.success?(e.tip3Visible=!0,e.$message.success({showClose:!0,message:"发布成功",duration:1500}),e.handleSearch(1)):"notEnough"==t.data.msg?e.tipVisible=!0:"PrizeProbOverstep"==t.data.msg?e.tip1Visible=!0:"FirstPrizeProbOverstep"==t.data.msg&&(e.tip2Visible=!0)}).catch(function(t){e.loading=!1,e.$message.error({showClose:!0,message:"请求出现异常",duration:2e3})})})},AddDialog:function(){this.addVisible=!0},publishSubmit:function(){var e=this;l()({method:"post",url:this.global.mPath+"/signin/addsigninprize",headers:{"Content-type":"application/x-www-form-urlencoded"},params:{name:this.addForm.name,type:this.value,singleNum:this.addForm.singleNum,storeNum:this.addForm.storeNum,iconUrl:this.imageUrl,prizeProb:this.addForm.prizeProb,firstPrizeProb:this.addForm.firstPrizeProb,overstep:this.value1,token:sessionStorage.getItem("token")}}).then(function(t){1==t.data.success?(e.addVisible=!1,e.$message.success({showClose:!0,message:"添加成功",duration:1500}),e.handleSearch(1)):"overstep"==t.data.msg?e.tip4Visible=!0:e.$message.error({showClose:!0,message:err.toString(),duration:2e3})}).catch(function(t){e.loading=!1,e.$message.error({showClose:!0,message:"请求出现异常",duration:2e3})})},delBook:function(e,t){var a=this;this.$confirm("确认删除选中记录吗？","提示",{type:"warning"}).then(function(){l()({method:"post",url:a.global.mPath+"/signin/deletesigninprizebyid",headers:{"Content-type":"application/x-www-form-urlencoded"},params:{id:t.id,token:sessionStorage.getItem("token")}}).then(function(e){1==e.data.success?(a.addVisible=!1,a.$message.success({showClose:!0,message:"删除成功",duration:1500}),a.handleSearch(1)):a.$message.error({showClose:!0,message:err.toString(),duration:2e3})}).catch(function(e){a.loading=!1,console.log(error),a.$message.error({showClose:!0,message:"请求出现异常",duration:2e3})})})}},mounted:function(){this.handleSearch()}},nt={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-row",{staticClass:"warp"},[a("el-col",{staticClass:"warp-breadcrum",attrs:{span:24}},[a("el-breadcrumb",{attrs:{separator:"/"}},[a("el-breadcrumb-item",{attrs:{to:{path:"/"}}},[a("b",[e._v("签到管理")])]),e._v(" "),a("el-breadcrumb-item",[e._v("奖励管理")])],1)],1),e._v(" "),a("el-col",{staticClass:"toolbar",staticStyle:{"padding-bottom":"0px"},attrs:{span:24}},[a("el-form",{attrs:{inline:!0,model:e.filters}},[a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:e.showAddDialog}},[e._v("发布")])],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:e.AddDialog}},[e._v("添加")])],1)],1)],1),e._v(" "),a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.lottery,"highlight-current-row":"",id:"out-table"}},[a("el-table-column",{attrs:{type:"index",width:"60",label:"序号"}}),e._v(" "),a("el-table-column",{attrs:{prop:"name",label:"奖励备注",width:"160"}}),e._v(" "),a("el-table-column",{attrs:{prop:"type",label:"类型",width:"120"}}),e._v(" "),a("el-table-column",{attrs:{prop:"singleNum",label:"单奖数量",width:"120"}}),e._v(" "),a("el-table-column",{attrs:{prop:"lotteryNum",label:"已抽取数量",width:"120"}}),e._v(" "),a("el-table-column",{attrs:{prop:"storeNum",label:"库存数量",width:"120"}}),e._v(" "),a("el-table-column",{attrs:{prop:"iconUrl",label:"icon图",width:"120"},scopedSlots:e._u([{key:"default",fn:function(e){return[a("img",{staticStyle:{width:"50px",height:"50px"},attrs:{src:e.row.iconUrl,alt:""}})]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"prizeProb",label:"中奖概率",width:"120"}}),e._v(" "),a("el-table-column",{attrs:{prop:"firstPrizeProb",label:"首次中奖概率",width:"160"}}),e._v(" "),a("el-table-column",{attrs:{prop:"overstep",label:"超额奖池",width:"160"}}),e._v(" "),a("el-table-column",{attrs:{label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{size:"small"},on:{click:function(a){e.adjustmentDialog(t.$index,t.row)}}},[e._v("调整")]),e._v(" "),a("el-button",{attrs:{type:"danger",size:"small"},on:{click:function(a){e.delBook(t.$index,t.row)}}},[e._v("删除")])]}}])})],1),e._v(" "),a("el-dialog",{attrs:{title:"",visible:e.adjustmentVisible,"close-on-click-modal":!1},on:{"update:visible":function(t){e.adjustmentVisible=t}}},[a("el-form",{ref:"adjustForm",attrs:{model:e.adjustForm,"label-width":"120px",rules:e.addFormRules}},[a("el-form-item",{attrs:{label:"奖励备注",prop:"name",required:""}},[a("el-input",{attrs:{"auto-complete":"off"},model:{value:e.adjustForm.name,callback:function(t){e.$set(e.adjustForm,"name",t)},expression:"adjustForm.name"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"奖励类别",prop:"type",required:""}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.adjustForm.type,callback:function(t){e.$set(e.adjustForm,"type",t)},expression:"adjustForm.type"}},e._l(e.types,function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}))],1),e._v(" "),a("el-form-item",{attrs:{label:"单奖数量",prop:"singleNum",required:""}},[a("el-input",{attrs:{"auto-complete":"off"},model:{value:e.adjustForm.singleNum,callback:function(t){e.$set(e.adjustForm,"singleNum",t)},expression:"adjustForm.singleNum"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"库存数量",prop:"storeNum",required:""}},[a("el-input",{attrs:{"auto-complete":"off"},model:{value:e.adjustForm.storeNum,callback:function(t){e.$set(e.adjustForm,"storeNum",t)},expression:"adjustForm.storeNum"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"icon图",prop:"iconUrl",required:""}},[a("div",{staticClass:"upload"},[a("el-upload",{staticClass:"avatar-uploader",attrs:{action:e.domain,"http-request":e.upqiniu,"show-file-list":!1,"before-upload":e.beforeUpload}},[e.imageUrl1?a("img",{staticClass:"avatar",attrs:{src:e.imageUrl1}}):a("el-button",{staticClass:"el-icon-plus avatar-uploader-icon"})],1)],1)]),e._v(" "),a("el-form-item",{attrs:{label:"中奖概率",prop:"prizeProb",required:""}},[a("el-input",{attrs:{"auto-complete":"off"},model:{value:e.adjustForm.prizeProb,callback:function(t){e.$set(e.adjustForm,"prizeProb",t)},expression:"adjustForm.prizeProb"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"首次中奖概率",prop:"firstPrizeProb",required:""}},[a("el-input",{attrs:{"auto-complete":"off"},model:{value:e.adjustForm.firstPrizeProb,callback:function(t){e.$set(e.adjustForm,"firstPrizeProb",t)},expression:"adjustForm.firstPrizeProb"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"加入超额奖池",prop:"overstep",required:""}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.adjustForm.overstep,callback:function(t){e.$set(e.adjustForm,"overstep",t)},expression:"adjustForm.overstep"}},e._l(e.jackpot,function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}))],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{nativeOn:{click:function(t){e.publishVisible=!1}}},[e._v("取消")]),e._v(" "),a("el-button",{attrs:{type:"primary"},nativeOn:{click:function(t){return e.adjustSubmit(t)}}},[e._v("确认")])],1)],1),e._v(" "),a("el-dialog",{attrs:{title:"添加商品",visible:e.addVisible,"close-on-click-modal":!1},on:{"update:visible":function(t){e.addVisible=t}}},[a("el-form",{ref:"addForm",attrs:{model:e.addForm,"label-width":"120px",rules:e.addFormRules}},[a("el-form-item",{attrs:{label:"奖励备注",prop:"name",required:""}},[a("el-input",{attrs:{"auto-complete":"off"},model:{value:e.addForm.name,callback:function(t){e.$set(e.addForm,"name",t)},expression:"addForm.name"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"奖励类别",prop:"type",required:""}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.addForm.type,callback:function(t){e.$set(e.addForm,"type",t)},expression:"addForm.type"}},e._l(e.types,function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}))],1),e._v(" "),a("el-form-item",{attrs:{label:"数量",prop:"singleNum",required:""}},[a("el-input",{attrs:{"auto-complete":"off"},model:{value:e.addForm.singleNum,callback:function(t){e.$set(e.addForm,"singleNum",t)},expression:"addForm.singleNum"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"库存数量",prop:"storeNum",required:""}},[a("el-input",{attrs:{"auto-complete":"off"},model:{value:e.addForm.storeNum,callback:function(t){e.$set(e.addForm,"storeNum",t)},expression:"addForm.storeNum"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"icon图",prop:"iconUrl",required:""}},[a("div",{staticClass:"upload"},[a("el-upload",{staticClass:"avatar-uploader",attrs:{action:e.domain,"http-request":e.upqiniu,"show-file-list":!1,"before-upload":e.beforeUpload}},[e.imageUrl?a("img",{staticClass:"avatar",attrs:{src:e.imageUrl}}):a("el-button",{staticClass:"el-icon-plus avatar-uploader-icon"})],1)],1)]),e._v(" "),a("el-form-item",{attrs:{label:"中奖概率",prop:"prizeProb",required:""}},[a("el-input",{attrs:{"auto-complete":"off"},model:{value:e.addForm.prizeProb,callback:function(t){e.$set(e.addForm,"prizeProb",t)},expression:"addForm.prizeProb"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"首次中奖概率",prop:"firstPrizeProb",required:""}},[a("el-input",{attrs:{"auto-complete":"off"},model:{value:e.addForm.firstPrizeProb,callback:function(t){e.$set(e.addForm,"firstPrizeProb",t)},expression:"addForm.firstPrizeProb"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"超额奖池",prop:"overstep",required:""}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.addForm.overstep,callback:function(t){e.$set(e.addForm,"overstep",t)},expression:"addForm.overstep"}},e._l(e.jackpot,function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}))],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{nativeOn:{click:function(t){e.publishVisible=!1}}},[e._v("取消")]),e._v(" "),a("el-button",{attrs:{type:"primary"},nativeOn:{click:function(t){return e.publishSubmit(t)}}},[e._v("确认")])],1)],1),e._v(" "),a("el-dialog",{staticClass:"tip",attrs:{title:"",visible:e.tipVisible,"close-on-click-modal":!1,width:"400px"},on:{"update:visible":function(t){e.tipVisible=t}}},[a("div",{staticClass:"title"},[e._v("提示")]),e._v(" "),a("div",{staticClass:"content"},[e._v("奖励个数添加不足! "),a("br"),e._v("请确保已设置10个奖励后再发布!")]),e._v(" "),a("div",{staticClass:"footer"},[a("el-button",{staticStyle:{margin:"30px 0 0 80px"},nativeOn:{click:function(t){e.tipVisible=!1}}},[e._v("取消")]),e._v(" "),a("el-button",{staticStyle:{margin:"30px 0 0 55px"},attrs:{type:"primary"},nativeOn:{click:function(t){e.tipVisible=!1}}},[e._v("确认")])],1)]),e._v(" "),a("el-dialog",{staticClass:"tip",attrs:{title:"",visible:e.tip1Visible,"close-on-click-modal":!1,width:"400px"},on:{"update:visible":function(t){e.tip1Visible=t}}},[a("div",{staticClass:"title"},[e._v("提示")]),e._v(" "),a("div",{staticClass:"content1"},[e._v("概率设置异常，发布失败！"),a("br"),e._v("当前中奖概率设置超过100%，请重设！")]),e._v(" "),a("div",{staticClass:"footer"},[a("el-button",{staticStyle:{margin:"30px 0 0 80px"},nativeOn:{click:function(t){e.tip1Visible=!1}}},[e._v("取消")]),e._v(" "),a("el-button",{staticStyle:{margin:"30px 0 0 55px"},attrs:{type:"primary"},nativeOn:{click:function(t){e.tip1Visible=!1}}},[e._v("确认")])],1)]),e._v(" "),a("el-dialog",{staticClass:"tip",attrs:{title:"",visible:e.tip2Visible,"close-on-click-modal":!1,width:"400px"},on:{"update:visible":function(t){e.tip2Visible=t}}},[a("div",{staticClass:"title"},[e._v("提示")]),e._v(" "),a("div",{staticClass:"content1"},[e._v("概率设置异常，发布失败！"),a("br"),e._v("当前首重概率设置超过100%，请重设！")]),e._v(" "),a("div",{staticClass:"footer"},[a("el-button",{staticStyle:{margin:"30px 0 0 80px"},nativeOn:{click:function(t){e.tip2Visible=!1}}},[e._v("取消")]),e._v(" "),a("el-button",{staticStyle:{margin:"30px 0 0 55px"},attrs:{type:"primary"},nativeOn:{click:function(t){e.tip2Visible=!1}}},[e._v("确认")])],1)]),e._v(" "),a("el-dialog",{staticClass:"tip",attrs:{title:"",visible:e.tip3Visible,"close-on-click-modal":!1,width:"400px"},on:{"update:visible":function(t){e.tip3Visible=t}}},[a("div",{staticClass:"title"},[e._v("提示")]),e._v(" "),a("div",{staticClass:"content1",staticStyle:{"text-align":"center"}},[e._v("奖励信息发布成功！")]),e._v(" "),a("div",{staticClass:"footer"},[a("el-button",{staticStyle:{margin:"30px 0 0 80px"},nativeOn:{click:function(t){e.tip3Visible=!1}}},[e._v("取消")]),e._v(" "),a("el-button",{staticStyle:{margin:"30px 0 0 55px"},attrs:{type:"primary"},nativeOn:{click:function(t){e.tip3Visible=!1}}},[e._v("确认")])],1)]),e._v(" "),a("el-dialog",{staticClass:"tip",attrs:{title:"",visible:e.tip4Visible,"close-on-click-modal":!1,width:"400px"},on:{"update:visible":function(t){e.tip4Visible=t}}},[a("div",{staticClass:"title"},[e._v("提示")]),e._v(" "),a("div",{staticClass:"content1",staticStyle:{"text-align":"center"}},[e._v("添加商品总个数超过10个!")]),e._v(" "),a("div",{staticClass:"footer"},[a("el-button",{staticStyle:{margin:"30px 0 0 80px"},nativeOn:{click:function(t){e.tip4Visible=!1}}},[e._v("取消")]),e._v(" "),a("el-button",{staticStyle:{margin:"30px 0 0 55px"},attrs:{type:"primary"},nativeOn:{click:function(t){e.tip4Visible=!1}}},[e._v("确认")])],1)])],1)},staticRenderFns:[]};var ot=a("VU/8")(rt,nt,!1,function(e){a("YAiY")},"data-v-5c17dfac",null).exports,lt={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-row",{staticClass:"warp"},[a("el-col",{staticClass:"warp-breadcrum",attrs:{span:24}},[a("el-breadcrumb",{attrs:{separator:"/"}},[a("el-breadcrumb-item",{attrs:{to:{path:"/"}}},[a("b",[e._v("签到管理")])]),e._v(" "),a("el-breadcrumb-item",[e._v("兑换记录")])],1)],1),e._v(" "),a("el-col",{staticClass:"toolbar",staticStyle:{"padding-bottom":"0px"},attrs:{span:24}},[a("div",{staticClass:"stay_out"},[e._v("待发放（0）")]),e._v(" "),a("el-form",{attrs:{inline:!0,model:e.filters}},[a("el-form-item",{attrs:{label:"游戏ID"}},[a("el-input",{nativeOn:{keyup:function(t){return"button"in t||!e._k(t.keyCode,"enter",13,t.key,"Enter")?e.handleSearch(t):null}},model:{value:e.filters.nickname,callback:function(t){e.$set(e.filters,"nickname",t)},expression:"filters.nickname"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"游戏昵称"}},[a("el-input",{nativeOn:{keyup:function(t){return"button"in t||!e._k(t.keyCode,"enter",13,t.key,"Enter")?e.handleSearch(t):null}},model:{value:e.filters.nickname,callback:function(t){e.$set(e.filters,"nickname",t)},expression:"filters.nickname"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"手机号码"}},[a("el-input",{nativeOn:{keyup:function(t){return"button"in t||!e._k(t.keyCode,"enter",13,t.key,"Enter")?e.handleSearch(t):null}},model:{value:e.filters.nickname,callback:function(t){e.$set(e.filters,"nickname",t)},expression:"filters.nickname"}})],1),e._v(" "),a("br"),e._v(" "),a("el-form-item",{attrs:{label:"时间"}},[a("el-date-picker",{attrs:{type:"date",placeholder:"选择日期"},model:{value:e.filters.startTime,callback:function(t){e.$set(e.filters,"startTime",t)},expression:"filters.startTime"}})],1),e._v(" "),a("el-form-item",{staticStyle:{"margin-left":"-44px"},attrs:{label:"至","label-width":"68px"}},[a("el-date-picker",{attrs:{type:"date",placeholder:"选择日期"},model:{value:e.filters.endTime,callback:function(t){e.$set(e.filters,"endTime",t)},expression:"filters.endTime"}})],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:e.handleSearch}},[e._v("查询")])],1)],1)],1),e._v(" "),a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.record,"highlight-current-row":"",id:"out-table"}},[a("el-table-column",{attrs:{prop:"name",label:"游戏ID",width:"160"}}),e._v(" "),a("el-table-column",{attrs:{prop:"desc",label:"昵称",width:"120"}}),e._v(" "),a("el-table-column",{attrs:{prop:"type",label:"兑换物品",width:"120"}}),e._v(" "),a("el-table-column",{attrs:{prop:"taskName",label:"兑换数量",width:"120",sortable:""}}),e._v(" "),a("el-table-column",{attrs:{prop:"taskName",label:"联系电话",width:"120",sortable:""}}),e._v(" "),a("el-table-column",{attrs:{prop:"taskName",label:"收件地址",width:"160",sortable:""}}),e._v(" "),a("el-table-column",{attrs:{prop:"taskName",label:"兑奖时间",width:"120",sortable:""}}),e._v(" "),a("el-table-column",{attrs:{prop:"taskName",label:"发放时间",width:"120",sortable:""}}),e._v(" "),a("el-table-column",{attrs:{label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{size:"small"},on:{click:function(a){e.adjustmentDialog(t.$index,t.row)}}},[e._v("发放")]),e._v(" "),a("el-button",{attrs:{size:"small",type:"text"}},[e._v("已发放")])]}}])})],1)],1)},staticRenderFns:[]};var ct=a("VU/8")({name:"Record",data:function(){return{options:[{value:"红包"},{value:"会员"},{value:"玉石"}],filters:{},record:[]}},methods:{handleSearch:function(){}}},lt,!1,function(e){a("GTCN")},"data-v-8c0b2f96",null).exports,ut={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-row",{staticClass:"warp"},[a("el-col",{staticClass:"warp-breadcrum",attrs:{span:24}},[a("el-breadcrumb",{attrs:{separator:"/"}},[a("el-breadcrumb-item",{attrs:{to:{path:"/"}}},[a("b",[e._v("签到管理")])]),e._v(" "),a("el-breadcrumb-item",[e._v("中奖记录")])],1)],1),e._v(" "),a("el-col",{staticClass:"toolbar",staticStyle:{"padding-bottom":"0px"},attrs:{span:24}},[a("el-form",{attrs:{inline:!0,model:e.filters}},[a("el-form-item",{attrs:{label:"游戏ID"}},[a("el-input",{nativeOn:{keyup:function(t){return"button"in t||!e._k(t.keyCode,"enter",13,t.key,"Enter")?e.handleSearch(t):null}},model:{value:e.filters.nickname,callback:function(t){e.$set(e.filters,"nickname",t)},expression:"filters.nickname"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"游戏昵称"}},[a("el-input",{nativeOn:{keyup:function(t){return"button"in t||!e._k(t.keyCode,"enter",13,t.key,"Enter")?e.handleSearch(t):null}},model:{value:e.filters.nickname,callback:function(t){e.$set(e.filters,"nickname",t)},expression:"filters.nickname"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"手机号码"}},[a("el-input",{nativeOn:{keyup:function(t){return"button"in t||!e._k(t.keyCode,"enter",13,t.key,"Enter")?e.handleSearch(t):null}},model:{value:e.filters.nickname,callback:function(t){e.$set(e.filters,"nickname",t)},expression:"filters.nickname"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"时间"}},[a("el-date-picker",{staticStyle:{width:"202px"},attrs:{type:"date",placeholder:"选择日期"},model:{value:e.filters.startTime,callback:function(t){e.$set(e.filters,"startTime",t)},expression:"filters.startTime"}})],1),e._v(" "),a("el-form-item",{staticStyle:{"margin-left":"-44px"},attrs:{label:"至","label-width":"68px"}},[a("el-date-picker",{staticStyle:{width:"202px"},attrs:{type:"date",placeholder:"选择日期"},model:{value:e.filters.endTime,callback:function(t){e.$set(e.filters,"endTime",t)},expression:"filters.endTime"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"类型"}},[a("el-select",{staticStyle:{width:"202px"},attrs:{placeholder:"请选择",clearable:""},model:{value:e.filters.mailType,callback:function(t){e.$set(e.filters,"mailType",t)},expression:"filters.mailType"}},e._l(e.options,function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}))],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:e.handleSearch}},[e._v("查询")])],1)],1)],1),e._v(" "),a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.address,"highlight-current-row":"",id:"out-table"}},[a("el-table-column",{attrs:{prop:"name",label:"游戏ID",width:"160"}}),e._v(" "),a("el-table-column",{attrs:{prop:"desc",label:"昵称",width:"120"}}),e._v(" "),a("el-table-column",{attrs:{prop:"taskName",label:"手机号码",width:"120"}}),e._v(" "),a("el-table-column",{attrs:{prop:"type",label:"奖励备注",width:"120"}}),e._v(" "),a("el-table-column",{attrs:{prop:"taskName",label:"奖励类型",width:"120"}}),e._v(" "),a("el-table-column",{attrs:{prop:"taskName",label:"奖励数量",width:"120"}}),e._v(" "),a("el-table-column",{attrs:{prop:"taskName",label:"中奖时间",width:"auto",sortable:""}})],1)],1)},staticRenderFns:[]};var dt=a("VU/8")({name:"Address",data:function(){return{filters:{},address:[],options:[{value:"红包"},{value:"会员"},{value:"玉石"}]}},methods:{handleSearch:function(){}}},ut,!1,function(e){a("IQs6")},"data-v-b6264016",null).exports,mt={name:"ReCharge",data:function(){return{filters:{memberId:"",nickname:""},users:[],options:[{value:"支付宝"},{value:"微信"}],sorting:{},page:1,total:0,state:{status:"",pay_type:"",startTime:"",endTime:""},cost:"",addFormVisible:!1}},methods:{dateTimeFormat:function(e){var t=new Date(+e),a=function(e){return(e="0"+e).substring(e.length-2,e.length)};if(null!=t){var s=t.getFullYear(),i=t.getMonth()+1,r=t.getDate(),n=t.getHours(),o=t.getMinutes(),l=t.getSeconds();return s+"-"+a(i)+"-"+a(r)+" "+a(n)+":"+a(o)+":"+a(l)}},trim:function(e){if(null!=e)return e.replace(/(^\s+)|(\s+$)/g,"")},handleCurrentChange:function(e){this.page=e,this.sort(this.sorting)},handleSearch:function(e,t,a,s,i,r){var n=this;if("未付款"==this.filters.status&&(this.state.status="NOTPAY"),"支付失败"==this.filters.status&&(this.state.status="PAYFAIL"),"已付款"==this.filters.status&&(this.state.status="PAYSUCCESS"),"支付宝"==this.filters.pay_type&&(this.state.pay_type="alipay"),"微信"==this.filters.pay_type&&(this.state.pay_type="wxpay"),this.filters.startTime){var o=new Date(this.filters.startTime);this.state.startTime=o.getTime()}if(this.filters.endTime){var c=new Date(this.filters.endTime);this.state.endTime=c.getTime()}this.filters.startTime&&this.filters.endTime&&this.state.endTime-this.state.startTime<0||l()({method:"post",url:this.global.mPath+"/order/queryrecharge",headers:{"Content-type":"application/x-www-form-urlencoded"},params:{page:this.page,size:"10",payerId:this.trim(this.filters.memberId),payerName:this.trim(this.filters.nickname),out_trade_no:"",pay_type:this.state.pay_type,startTime:this.state.startTime,endTime:this.state.endTime,status:this.state.status,token:sessionStorage.getItem("token"),productPriceSort:e,numberSort:t,totalamountSort:a,createTimeSort:s,statusSort:i,pay_typeSort:r}}).then(function(e){n.cost=e.data.data.cost,n.users=e.data.data.listPage.items,n.total=e.data.data.listPage.pageCount;for(var t=0;t<n.users.length;t++)n.users[t].createTime=n.dateTimeFormat(n.users[t].createTime),n.users[t].vipTime=n.users[t].vipTime/1e3/60/60/24}).catch(function(e){if(e&&e.response)switch(e.response.status){case 504:n.$message({showClose:!0,message:"服务器异常",type:"warning"});break;case 405:n.$message({showClose:!0,message:"请先登录",type:"warning"})}})},sort:function(e){this.sorting=e,"productPrice"==this.sorting.prop&&("ascending"==this.sorting.order&&(this.sorting.productPrice="ASC"),"descending"==this.sorting.order&&(this.sorting.productPrice="DESC")),"number"==this.sorting.prop&&("ascending"==this.sorting.order&&(this.sorting.number="ASC"),"descending"==this.sorting.order&&(this.sorting.number="DESC")),"totalamount"==this.sorting.prop&&("ascending"==this.sorting.order&&(this.sorting.totalamount="ASC"),"descending"==this.sorting.order&&(this.sorting.totalamount="DESC")),"createTime"==this.sorting.prop&&("ascending"==this.sorting.order&&(this.sorting.createTime="ASC"),"descending"==this.sorting.order&&(this.sorting.createTime="DESC")),"status"==this.sorting.prop&&("ascending"==this.sorting.order&&(this.sorting.status="ASC"),"descending"==this.sorting.order&&(this.sorting.status="DESC")),"pay_type"==this.sorting.prop&&("ascending"==this.sorting.order&&(this.sorting.pay_type="ASC"),"descending"==this.sorting.order&&(this.sorting.pay_type="DESC")),this.handleSearch(this.sorting.productPrice,this.sorting.number,this.sorting.totalamount,this.sorting.createTime,this.sorting.status,this.sorting.pay_type)},exportExcel:function(){if("未付款"==this.filters.status&&(this.state.status=0),"支付失败"==this.filters.status&&(this.state.status=-1),"已付款"==this.filters.status&&(this.state.status=1),"支付宝"==this.filters.pay_type&&(this.state.pay_type="alipay"),"微信"==this.filters.pay_type&&(this.state.pay_type="wxpay"),this.filters.startTime){var e=new Date(this.filters.startTime);this.state.startTime=e.getTime()}if(this.filters.endTime){var t=new Date(this.filters.endTime);this.state.endTime=t.getTime()}this.filters.startTime&&this.filters.endTime&&this.state.endTime-this.state.startTime<0||(this.addFormVisible=!0,document.getElementById("download").href=this.global.mPath+"/order/rechargedownload?out_trade_no=&pay_type="+this.state.pay_type+"&payerId="+this.trim(this.filters.memberId)+"&payerName="+this.trim(this.filters.nickname)+"&status="+this.state.status+"&startTime="+this.state.startTime+"&endTime="+this.state.endTime+"&deliverTime=&token="+sessionStorage.getItem("token"))},addSubmit:function(){this.addFormVisible=!1}},mounted:function(){this.handleSearch()}},pt={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-row",{staticClass:"warp"},[a("el-col",{staticClass:"warp-breadcrum",attrs:{span:24}},[a("el-breadcrumb",{attrs:{separator:"/"}},[a("el-breadcrumb-item",{attrs:{to:{path:"/"}}},[a("b",[e._v("充值系统")])]),e._v(" "),a("el-breadcrumb-item",[e._v("充值记录")])],1)],1),e._v(" "),a("el-row",{staticStyle:{"margin-top":"30px"},attrs:{gutter:20}},[a("el-col",{attrs:{span:6}},[a("div",{staticClass:"grid-content bg-purple"},[a("div",{staticClass:"type"},[e._v("订单总金额")]),e._v(" "),a("div",{staticClass:"num"},[e._v(e._s(e.cost)+"元")])])])],1),e._v(" "),a("el-col",{staticClass:"toolbar",staticStyle:{"padding-bottom":"0","margin-top":"30px"},attrs:{span:24}},[a("el-form",{attrs:{inline:!0,model:e.filters}},[a("el-form-item",{attrs:{label:"订单编号","label-width":"68px"}},[a("el-input",{staticStyle:{width:"220px"},nativeOn:{keyup:function(t){if(!("button"in t)&&e._k(t.keyCode,"enter",13,t.key,"Enter"))return null;e.handleSearch()}},model:{value:e.filters.memberId,callback:function(t){e.$set(e.filters,"memberId",t)},expression:"filters.memberId"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"玩家ID","label-width":"68px"}},[a("el-input",{staticStyle:{width:"220px"},nativeOn:{keyup:function(t){if(!("button"in t)&&e._k(t.keyCode,"enter",13,t.key,"Enter"))return null;e.handleSearch()}},model:{value:e.filters.nickname,callback:function(t){e.$set(e.filters,"nickname",t)},expression:"filters.nickname"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"支付方式","label-width":"68px"}},[a("el-select",{attrs:{placeholder:"请选择",clearable:""},model:{value:e.filters.pay_type,callback:function(t){e.$set(e.filters,"pay_type",t)},expression:"filters.pay_type"}},e._l(e.options,function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}))],1),e._v(" "),a("el-form-item",{attrs:{label:"开始时间","label-width":"68px"}},[a("el-date-picker",{attrs:{type:"date",placeholder:"选择日期"},model:{value:e.filters.startTime,callback:function(t){e.$set(e.filters,"startTime",t)},expression:"filters.startTime"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"结束时间","label-width":"68px"}},[a("el-date-picker",{attrs:{type:"date",placeholder:"选择日期"},model:{value:e.filters.endTime,callback:function(t){e.$set(e.filters,"endTime",t)},expression:"filters.endTime"}})],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.handleSearch()}}},[e._v("查询")])],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:e.exportExcel}},[e._v("导出")])],1)],1)],1),e._v(" "),a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.users,"highlight-current-row":"",id:"out-table"},on:{"sort-change":e.sort}},[a("el-table-column",{attrs:{type:"index",width:"60"}}),e._v(" "),a("el-table-column",{attrs:{prop:"id",label:"订单编号",width:"120"}}),e._v(" "),a("el-table-column",{attrs:{prop:"transaction_id",label:"支付流水",width:"120"}}),e._v(" "),a("el-table-column",{attrs:{prop:"pay_type",label:"充值类型",width:"120"}}),e._v(" "),a("el-table-column",{attrs:{prop:"payerId",label:"玩家ID",width:"120"}}),e._v(" "),a("el-table-column",{attrs:{prop:"payerName",label:"玩家昵称",width:"120"}}),e._v(" "),a("el-table-column",{attrs:{prop:"productPrice",label:"订单金额",width:"120",sortable:"custom"}}),e._v(" "),a("el-table-column",{attrs:{prop:"productName",label:"购买道具",width:"120"}}),e._v(" "),a("el-table-column",{attrs:{prop:"reqIP",label:"充值地址IP",width:"120"}}),e._v(" "),a("el-table-column",{attrs:{prop:"createTime",label:"充值时间",width:"auto",sortable:"custom"}})],1),e._v(" "),a("el-dialog",{attrs:{title:"下载文件",visible:e.addFormVisible,"close-on-click-modal":!1},on:{"update:visible":function(t){e.addFormVisible=t}}},[e._v("\n    是否确定下载文件？\n    "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{nativeOn:{click:function(t){e.addFormVisible=!1}}},[e._v("否")]),e._v(" "),a("a",{attrs:{href:"#",id:"download"},on:{click:e.addSubmit}},[e._v("是")])],1)]),e._v(" "),a("el-col",{staticClass:"toolbar",attrs:{span:24}},[a("el-pagination",{staticStyle:{float:"right"},attrs:{layout:"prev, pager, next","page-size":1,total:e.total},on:{"current-change":e.handleCurrentChange}})],1)],1)},staticRenderFns:[]};var ht=a("VU/8")(mt,pt,!1,function(e){a("F61n")},"data-v-2e4cebf0",null).exports;s.default.use(n.a);var gt=new n.a({routes:[{path:"/",name:"Login",component:d},{path:"/home",component:h,redirect:"/admin",menuShow:!0,leaf:!0,iconCls:"iconfont icon-guanliyuan",children:[{path:"/admin",component:_,name:"管理员管理",menuShow:!0}]},{path:"/home",component:h,redirect:"/role",menuShow:!0,leaf:!0,iconCls:"iconfont icon-navicon-jsgl",children:[{path:"/role",component:q,name:"角色管理",menuShow:!0}]},{path:"/home",component:h,name:"会员中心",menuShow:!0,iconCls:"iconfont icon-huiyuanzhongxin",children:[{path:"/newVip",component:x,name:"用户管理",menuShow:!0},{path:"/memberRules",component:T,name:"会员权益",menuShow:!0},{path:"/memberCard",component:J,name:"会员卡",menuShow:!0},{path:"/memberLevel",component:te,name:"vip等级",menuShow:!0}]},{path:"/home",component:h,name:"系统设置",menuShow:!0,iconCls:"iconfont icon-xitongshezhi",children:[{path:"/systemMaintenance",component:I,name:"系统维护",menuShow:!0},{path:"/systemRecovery",component:V,name:"系统恢复",menuShow:!0},{path:"/systemNotice",component:W,name:"系统公告",menuShow:!0},{path:"/Microservice",component:Z,name:"微服务",menuShow:!0}]},{path:"/home",component:h,redirect:"/jurisdiction",menuShow:!0,leaf:!0,iconCls:"iconfont icon-ic_opt_feature",children:[{path:"/jurisdiction",component:G,name:"权限管理",menuShow:!0}]},{path:"/home",component:h,redirect:"/server",menuShow:!0,leaf:!0,iconCls:"iconfont icon-server",children:[{path:"/server",component:z,name:"服务器管理",menuShow:!0}]},{path:"/home",component:h,name:"报表统计",menuShow:!0,iconCls:"iconfont icon-baobiaotongji",children:[{path:"/platformOperation",component:oe,name:"平台运营日报",menuShow:!0},{path:"/progression",component:ue,name:"游戏数据日报",menuShow:!0}]},{path:"/home",component:h,name:"任务管理",menuShow:!0,iconCls:"iconfont icon-renwuguanli",children:[{path:"/pendingReleaseTask",component:pe,name:"待发布任务",menuShow:!0},{path:"/publishedTask",component:fe,name:"已发布任务",menuShow:!0}]},{path:"/home",component:h,name:"邮件管理",menuShow:!0,iconCls:"iconfont icon-mailmanagement",children:[{path:"/mailingList",component:ye,name:"邮件列表",menuShow:!0},{path:"/mailing",component:ke,name:"邮件发送",menuShow:!0},{path:"/mailRecord",component:Se,name:"邮件记录",menuShow:!0}]},{path:"/home",component:h,name:"推广员中心",menuShow:!0,iconCls:"iconfont icon-yewurenyuanxinxiguanli",children:[{path:"/promoterManagement",component:$e,name:"推广员管理",menuShow:!0},{path:"/promoterApplicationRecord",component:Pe,name:"推广员申请记录",menuShow:!0},{path:"/membershipCardPurchaseRecord",component:Ae,name:"会员卡购买记录",menuShow:!0},{path:"/membershipCardConsumptionRecord",component:Ee,name:"会员卡兑换记录",menuShow:!0},{path:"/integralRecord",component:Ze,name:"积分记录",menuShow:!0},{path:"/promoterOperationRecord",component:Oe,name:"会员卡使用记录",menuShow:!0},{path:"/mallManagement",component:Be,name:"推广员商城管理",menuShow:!0},{path:"/codeUsageRecord",component:Xe,name:"推广码使用记录",menuShow:!0}]},{path:"/home",component:h,name:"活动管理",menuShow:!0,iconCls:"iconfont icon-huodongguanli",children:[{path:"/activity",component:Ue,name:"活动配置",menuShow:!0}]},{path:"/home",component:h,name:"玩法管理",menuShow:!0,iconCls:"iconfont icon-wanfa",children:[{path:"/gamePlay",component:tt,name:"玩法",menuShow:!0},{path:"/playTheMutex",component:it,name:"玩法互斥",menuShow:!0}]},{path:"/home",component:h,name:"签到管理",menuShow:!0,iconCls:"iconfont icon-ziyuan",children:[{path:"/Lottery",component:ot,name:"奖励管理",menuShow:!0},{path:"/winning",component:dt,name:"中奖记录",menuShow:!0},{path:"/record",component:ct,name:"兑换记录",menuShow:!0}]},{path:"/home",component:h,name:"充值系统",menuShow:!0,iconCls:"iconfont icon-chongzhi",children:[{path:"/orderManagement",component:ie,name:"订单管理",menuShow:!0},{path:"/reCharge",component:ht,name:"充值记录",menuShow:!0}]}]}),ft=a("zL8q"),bt=a.n(ft),vt=(a("tvR6"),a("lf9d"),a("wPKN"),a("XLwt")),yt=a.n(vt),wt={mDevPath:"http://47.96.20.47:99",mProductionPath:"http://47.96.20.47:99",mPath:"http://47.96.20.47:99"},_t=a("VU/8")(wt,null,!1,null,null,null).exports;s.default.prototype.$echarts=yt.a,s.default.use(bt.a),s.default.config.productionTip=!1,s.default.prototype.$axios=l.a,s.default.prototype.global=_t,new s.default({el:"#app",router:gt,components:{App:r},template:"<App/>"})},ONEN:function(e,t){},PCS2:function(e,t){},QKej:function(e,t){},SYR4:function(e,t){},"SzW/":function(e,t){},TlVE:function(e,t){},W97L:function(e,t){},XFoC:function(e,t){},YAiY:function(e,t){},YGSI:function(e,t){},YKab:function(e,t){},blgi:function(e,t){},dlfo:function(e,t){},h1gx:function(e,t){},hGbD:function(e,t){},jMov:function(e,t){},lTvP:function(e,t){},lf9d:function(e,t){},m592:function(e,t){},qRNi:function(e,t){},rk3D:function(e,t){},tspI:function(e,t){},tvR6:function(e,t){},v5tm:function(e,t){},wPKN:function(e,t,a){"use strict";(function(e){var t,s,i=a("C4MV"),r=a.n(i),n=a("Zzip"),o=a.n(n),l=a("5QVw"),c=a.n(l),u=a("pFYg"),d=a.n(u);t="undefined"!=typeof window?window:this,s=function(e,t){var s=[],i=e.document,n=s.slice,l=s.concat,u=s.push,m=s.indexOf,p={},h=p.toString,g=p.hasOwnProperty,f={},b="2.2.4",v=function e(t,a){return new e.fn.init(t,a)},y=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,w=/^-ms-/,_=/-([\da-z])/gi,k=function(e,t){return t.toUpperCase()};function C(e){var t=!!e&&"length"in e&&e.length,a=v.type(e);return"function"!==a&&!v.isWindow(e)&&("array"===a||0===t||"number"==typeof t&&t>0&&t-1 in e)}v.fn=v.prototype={jquery:b,constructor:v,selector:"",length:0,toArray:function(){return n.call(this)},get:function(e){return null!=e?0>e?this[e+this.length]:this[e]:n.call(this)},pushStack:function(e){var t=v.merge(this.constructor(),e);return t.prevObject=this,t.context=this.context,t},each:function(e){return v.each(this,e)},map:function(e){return this.pushStack(v.map(this,function(t,a){return e.call(t,a,t)}))},slice:function(){return this.pushStack(n.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(e){var t=this.length,a=+e+(0>e?t:0);return this.pushStack(a>=0&&t>a?[this[a]]:[])},end:function(){return this.prevObject||this.constructor()},push:u,sort:s.sort,splice:s.splice},v.extend=v.fn.extend=function(){var e,t,a,s,i,r,n=arguments[0]||{},o=1,l=arguments.length,c=!1;for("boolean"==typeof n&&(c=n,n=arguments[o]||{},o++),"object"==(void 0===n?"undefined":d()(n))||v.isFunction(n)||(n={}),o===l&&(n=this,o--);l>o;o++)if(null!=(e=arguments[o]))for(t in e)a=n[t],n!==(s=e[t])&&(c&&s&&(v.isPlainObject(s)||(i=v.isArray(s)))?(i?(i=!1,r=a&&v.isArray(a)?a:[]):r=a&&v.isPlainObject(a)?a:{},n[t]=v.extend(c,r,s)):void 0!==s&&(n[t]=s));return n},v.extend({expando:"jQuery"+(b+Math.random()).replace(/\D/g,""),isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isFunction:function(e){return"function"===v.type(e)},isArray:Array.isArray,isWindow:function(e){return null!=e&&e===e.window},isNumeric:function(e){var t=e&&e.toString();return!v.isArray(e)&&t-parseFloat(t)+1>=0},isPlainObject:function(e){var t;if("object"!==v.type(e)||e.nodeType||v.isWindow(e))return!1;if(e.constructor&&!g.call(e,"constructor")&&!g.call(e.constructor.prototype||{},"isPrototypeOf"))return!1;for(t in e);return void 0===t||g.call(e,t)},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},type:function(e){return null==e?e+"":"object"==(void 0===e?"undefined":d()(e))||"function"==typeof e?p[h.call(e)]||"object":void 0===e?"undefined":d()(e)},globalEval:function(e){var t,a=eval;(e=v.trim(e))&&(1===e.indexOf("use strict")?((t=i.createElement("script")).text=e,i.head.appendChild(t).parentNode.removeChild(t)):a(e))},camelCase:function(e){return e.replace(w,"ms-").replace(_,k)},nodeName:function(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()},each:function(e,t){var a,s=0;if(C(e))for(a=e.length;a>s&&!1!==t.call(e[s],s,e[s]);s++);else for(s in e)if(!1===t.call(e[s],s,e[s]))break;return e},trim:function(e){return null==e?"":(e+"").replace(y,"")},makeArray:function(e,t){var a=t||[];return null!=e&&(C(Object(e))?v.merge(a,"string"==typeof e?[e]:e):u.call(a,e)),a},inArray:function(e,t,a){return null==t?-1:m.call(t,e,a)},merge:function(e,t){for(var a=+t.length,s=0,i=e.length;a>s;s++)e[i++]=t[s];return e.length=i,e},grep:function(e,t,a){for(var s=[],i=0,r=e.length,n=!a;r>i;i++)!t(e[i],i)!==n&&s.push(e[i]);return s},map:function(e,t,a){var s,i,r=0,n=[];if(C(e))for(s=e.length;s>r;r++)null!=(i=t(e[r],r,a))&&n.push(i);else for(r in e)null!=(i=t(e[r],r,a))&&n.push(i);return l.apply([],n)},guid:1,proxy:function(e,t){var a,s,i;return"string"==typeof t&&(a=e[t],t=e,e=a),v.isFunction(e)?(s=n.call(arguments,2),(i=function(){return e.apply(t||this,s.concat(n.call(arguments)))}).guid=e.guid=e.guid||v.guid++,i):void 0},now:Date.now,support:f}),"function"==typeof c.a&&(v.fn[o.a]=s[o.a]),v.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(e,t){p["[object "+t+"]"]=t.toLowerCase()});var x=function(e){var t,a,s,i,r,n,o,l,c,u,d,m,p,h,g,f,b,v,y,w="sizzle"+1*new Date,_=e.document,k=0,C=0,x=re(),S=re(),F=re(),T=function(e,t){return e===t&&(d=!0),0},$=1<<31,D={}.hasOwnProperty,I=[],P=I.pop,N=I.push,V=I.push,A=I.slice,j=function(e,t){for(var a=0,s=e.length;s>a;a++)if(e[a]===t)return a;return-1},q="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",E="[\\x20\\t\\r\\n\\f]",R="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",M="\\["+E+"*("+R+")(?:"+E+"*([*^$|!~]?=)"+E+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+R+"))|)"+E+"*\\]",O=":("+R+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+M+")*)|.*)\\)|)",G=new RegExp(E+"+","g"),L=new RegExp("^"+E+"+|((?:^|[^\\\\])(?:\\\\.)*)"+E+"+$","g"),U=new RegExp("^"+E+"*,"+E+"*"),z=new RegExp("^"+E+"*([>+~]|"+E+")"+E+"*"),H=new RegExp("="+E+"*([^\\]'\"]*?)"+E+"*\\]","g"),B=new RegExp(O),W=new RegExp("^"+R+"$"),Y={ID:new RegExp("^#("+R+")"),CLASS:new RegExp("^\\.("+R+")"),TAG:new RegExp("^("+R+"|[*])"),ATTR:new RegExp("^"+M),PSEUDO:new RegExp("^"+O),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+E+"*(even|odd|(([+-]|)(\\d*)n|)"+E+"*(?:([+-]|)"+E+"*(\\d+)|))"+E+"*\\)|)","i"),bool:new RegExp("^(?:"+q+")$","i"),needsContext:new RegExp("^"+E+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+E+"*((?:-\\d)?\\d*)"+E+"*\\)|)(?=[^-]|$)","i")},X=/^(?:input|select|textarea|button)$/i,J=/^h\d$/i,Q=/^[^{]+\{\s*\[native \w/,Z=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,K=/[+~]/,ee=/'|\\/g,te=new RegExp("\\\\([\\da-f]{1,6}"+E+"?|("+E+")|.)","ig"),ae=function(e,t,a){var s="0x"+t-65536;return s!=s||a?t:0>s?String.fromCharCode(s+65536):String.fromCharCode(s>>10|55296,1023&s|56320)},se=function(){m()};try{V.apply(I=A.call(_.childNodes),_.childNodes),I[_.childNodes.length].nodeType}catch(e){V={apply:I.length?function(e,t){N.apply(e,A.call(t))}:function(e,t){for(var a=e.length,s=0;e[a++]=t[s++];);e.length=a-1}}}function ie(e,t,s,i){var r,o,c,u,d,h,b,v,k=t&&t.ownerDocument,C=t?t.nodeType:9;if(s=s||[],"string"!=typeof e||!e||1!==C&&9!==C&&11!==C)return s;if(!i&&((t?t.ownerDocument||t:_)!==p&&m(t),t=t||p,g)){if(11!==C&&(h=Z.exec(e)))if(r=h[1]){if(9===C){if(!(c=t.getElementById(r)))return s;if(c.id===r)return s.push(c),s}else if(k&&(c=k.getElementById(r))&&y(t,c)&&c.id===r)return s.push(c),s}else{if(h[2])return V.apply(s,t.getElementsByTagName(e)),s;if((r=h[3])&&a.getElementsByClassName&&t.getElementsByClassName)return V.apply(s,t.getElementsByClassName(r)),s}if(a.qsa&&!F[e+" "]&&(!f||!f.test(e))){if(1!==C)k=t,v=e;else if("object"!==t.nodeName.toLowerCase()){for((u=t.getAttribute("id"))?u=u.replace(ee,"\\$&"):t.setAttribute("id",u=w),o=(b=n(e)).length,d=W.test(u)?"#"+u:"[id='"+u+"']";o--;)b[o]=d+" "+ge(b[o]);v=b.join(","),k=K.test(e)&&pe(t.parentNode)||t}if(v)try{return V.apply(s,k.querySelectorAll(v)),s}catch(e){}finally{u===w&&t.removeAttribute("id")}}}return l(e.replace(L,"$1"),t,s,i)}function re(){var e=[];return function t(a,i){return e.push(a+" ")>s.cacheLength&&delete t[e.shift()],t[a+" "]=i}}function ne(e){return e[w]=!0,e}function oe(e){var t=p.createElement("div");try{return!!e(t)}catch(e){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function le(e,t){for(var a=e.split("|"),i=a.length;i--;)s.attrHandle[a[i]]=t}function ce(e,t){var a=t&&e,s=a&&1===e.nodeType&&1===t.nodeType&&(~t.sourceIndex||$)-(~e.sourceIndex||$);if(s)return s;if(a)for(;a=a.nextSibling;)if(a===t)return-1;return e?1:-1}function ue(e){return function(t){return"input"===t.nodeName.toLowerCase()&&t.type===e}}function de(e){return function(t){var a=t.nodeName.toLowerCase();return("input"===a||"button"===a)&&t.type===e}}function me(e){return ne(function(t){return t=+t,ne(function(a,s){for(var i,r=e([],a.length,t),n=r.length;n--;)a[i=r[n]]&&(a[i]=!(s[i]=a[i]))})})}function pe(e){return e&&void 0!==e.getElementsByTagName&&e}for(t in a=ie.support={},r=ie.isXML=function(e){var t=e&&(e.ownerDocument||e).documentElement;return!!t&&"HTML"!==t.nodeName},m=ie.setDocument=function(e){var t,i,n=e?e.ownerDocument||e:_;return n!==p&&9===n.nodeType&&n.documentElement?(h=(p=n).documentElement,g=!r(p),(i=p.defaultView)&&i.top!==i&&(i.addEventListener?i.addEventListener("unload",se,!1):i.attachEvent&&i.attachEvent("onunload",se)),a.attributes=oe(function(e){return e.className="i",!e.getAttribute("className")}),a.getElementsByTagName=oe(function(e){return e.appendChild(p.createComment("")),!e.getElementsByTagName("*").length}),a.getElementsByClassName=Q.test(p.getElementsByClassName),a.getById=oe(function(e){return h.appendChild(e).id=w,!p.getElementsByName||!p.getElementsByName(w).length}),a.getById?(s.find.ID=function(e,t){if(void 0!==t.getElementById&&g){var a=t.getElementById(e);return a?[a]:[]}},s.filter.ID=function(e){var t=e.replace(te,ae);return function(e){return e.getAttribute("id")===t}}):(delete s.find.ID,s.filter.ID=function(e){var t=e.replace(te,ae);return function(e){var a=void 0!==e.getAttributeNode&&e.getAttributeNode("id");return a&&a.value===t}}),s.find.TAG=a.getElementsByTagName?function(e,t){return void 0!==t.getElementsByTagName?t.getElementsByTagName(e):a.qsa?t.querySelectorAll(e):void 0}:function(e,t){var a,s=[],i=0,r=t.getElementsByTagName(e);if("*"===e){for(;a=r[i++];)1===a.nodeType&&s.push(a);return s}return r},s.find.CLASS=a.getElementsByClassName&&function(e,t){return void 0!==t.getElementsByClassName&&g?t.getElementsByClassName(e):void 0},b=[],f=[],(a.qsa=Q.test(p.querySelectorAll))&&(oe(function(e){h.appendChild(e).innerHTML="<a id='"+w+"'></a><select id='"+w+"-\r\\' msallowcapture=''><option selected=''></option></select>",e.querySelectorAll("[msallowcapture^='']").length&&f.push("[*^$]="+E+"*(?:''|\"\")"),e.querySelectorAll("[selected]").length||f.push("\\["+E+"*(?:value|"+q+")"),e.querySelectorAll("[id~="+w+"-]").length||f.push("~="),e.querySelectorAll(":checked").length||f.push(":checked"),e.querySelectorAll("a#"+w+"+*").length||f.push(".#.+[+~]")}),oe(function(e){var t=p.createElement("input");t.setAttribute("type","hidden"),e.appendChild(t).setAttribute("name","D"),e.querySelectorAll("[name=d]").length&&f.push("name"+E+"*[*^$|!~]?="),e.querySelectorAll(":enabled").length||f.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),f.push(",.*:")})),(a.matchesSelector=Q.test(v=h.matches||h.webkitMatchesSelector||h.mozMatchesSelector||h.oMatchesSelector||h.msMatchesSelector))&&oe(function(e){a.disconnectedMatch=v.call(e,"div"),v.call(e,"[s!='']:x"),b.push("!=",O)}),f=f.length&&new RegExp(f.join("|")),b=b.length&&new RegExp(b.join("|")),t=Q.test(h.compareDocumentPosition),y=t||Q.test(h.contains)?function(e,t){var a=9===e.nodeType?e.documentElement:e,s=t&&t.parentNode;return e===s||!(!s||1!==s.nodeType||!(a.contains?a.contains(s):e.compareDocumentPosition&&16&e.compareDocumentPosition(s)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1},T=t?function(e,t){if(e===t)return d=!0,0;var s=!e.compareDocumentPosition-!t.compareDocumentPosition;return s||(1&(s=(e.ownerDocument||e)===(t.ownerDocument||t)?e.compareDocumentPosition(t):1)||!a.sortDetached&&t.compareDocumentPosition(e)===s?e===p||e.ownerDocument===_&&y(_,e)?-1:t===p||t.ownerDocument===_&&y(_,t)?1:u?j(u,e)-j(u,t):0:4&s?-1:1)}:function(e,t){if(e===t)return d=!0,0;var a,s=0,i=e.parentNode,r=t.parentNode,n=[e],o=[t];if(!i||!r)return e===p?-1:t===p?1:i?-1:r?1:u?j(u,e)-j(u,t):0;if(i===r)return ce(e,t);for(a=e;a=a.parentNode;)n.unshift(a);for(a=t;a=a.parentNode;)o.unshift(a);for(;n[s]===o[s];)s++;return s?ce(n[s],o[s]):n[s]===_?-1:o[s]===_?1:0},p):p},ie.matches=function(e,t){return ie(e,null,null,t)},ie.matchesSelector=function(e,t){if((e.ownerDocument||e)!==p&&m(e),t=t.replace(H,"='$1']"),a.matchesSelector&&g&&!F[t+" "]&&(!b||!b.test(t))&&(!f||!f.test(t)))try{var s=v.call(e,t);if(s||a.disconnectedMatch||e.document&&11!==e.document.nodeType)return s}catch(e){}return ie(t,p,null,[e]).length>0},ie.contains=function(e,t){return(e.ownerDocument||e)!==p&&m(e),y(e,t)},ie.attr=function(e,t){(e.ownerDocument||e)!==p&&m(e);var i=s.attrHandle[t.toLowerCase()],r=i&&D.call(s.attrHandle,t.toLowerCase())?i(e,t,!g):void 0;return void 0!==r?r:a.attributes||!g?e.getAttribute(t):(r=e.getAttributeNode(t))&&r.specified?r.value:null},ie.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},ie.uniqueSort=function(e){var t,s=[],i=0,r=0;if(d=!a.detectDuplicates,u=!a.sortStable&&e.slice(0),e.sort(T),d){for(;t=e[r++];)t===e[r]&&(i=s.push(r));for(;i--;)e.splice(s[i],1)}return u=null,e},i=ie.getText=function(e){var t,a="",s=0,r=e.nodeType;if(r){if(1===r||9===r||11===r){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)a+=i(e)}else if(3===r||4===r)return e.nodeValue}else for(;t=e[s++];)a+=i(t);return a},(s=ie.selectors={cacheLength:50,createPseudo:ne,match:Y,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(te,ae),e[3]=(e[3]||e[4]||e[5]||"").replace(te,ae),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||ie.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&ie.error(e[0]),e},PSEUDO:function(e){var t,a=!e[6]&&e[2];return Y.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":a&&B.test(a)&&(t=n(a,!0))&&(t=a.indexOf(")",a.length-t)-a.length)&&(e[0]=e[0].slice(0,t),e[2]=a.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(te,ae).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=x[e+" "];return t||(t=new RegExp("(^|"+E+")"+e+"("+E+"|$)"))&&x(e,function(e){return t.test("string"==typeof e.className&&e.className||void 0!==e.getAttribute&&e.getAttribute("class")||"")})},ATTR:function(e,t,a){return function(s){var i=ie.attr(s,e);return null==i?"!="===t:!t||(i+="","="===t?i===a:"!="===t?i!==a:"^="===t?a&&0===i.indexOf(a):"*="===t?a&&i.indexOf(a)>-1:"$="===t?a&&i.slice(-a.length)===a:"~="===t?(" "+i.replace(G," ")+" ").indexOf(a)>-1:"|="===t&&(i===a||i.slice(0,a.length+1)===a+"-"))}},CHILD:function(e,t,a,s,i){var r="nth"!==e.slice(0,3),n="last"!==e.slice(-4),o="of-type"===t;return 1===s&&0===i?function(e){return!!e.parentNode}:function(t,a,l){var c,u,d,m,p,h,g=r!==n?"nextSibling":"previousSibling",f=t.parentNode,b=o&&t.nodeName.toLowerCase(),v=!l&&!o,y=!1;if(f){if(r){for(;g;){for(m=t;m=m[g];)if(o?m.nodeName.toLowerCase()===b:1===m.nodeType)return!1;h=g="only"===e&&!h&&"nextSibling"}return!0}if(h=[n?f.firstChild:f.lastChild],n&&v){for(y=(p=(c=(u=(d=(m=f)[w]||(m[w]={}))[m.uniqueID]||(d[m.uniqueID]={}))[e]||[])[0]===k&&c[1])&&c[2],m=p&&f.childNodes[p];m=++p&&m&&m[g]||(y=p=0)||h.pop();)if(1===m.nodeType&&++y&&m===t){u[e]=[k,p,y];break}}else if(v&&(y=p=(c=(u=(d=(m=t)[w]||(m[w]={}))[m.uniqueID]||(d[m.uniqueID]={}))[e]||[])[0]===k&&c[1]),!1===y)for(;(m=++p&&m&&m[g]||(y=p=0)||h.pop())&&((o?m.nodeName.toLowerCase()!==b:1!==m.nodeType)||!++y||(v&&((u=(d=m[w]||(m[w]={}))[m.uniqueID]||(d[m.uniqueID]={}))[e]=[k,y]),m!==t)););return(y-=i)===s||y%s==0&&y/s>=0}}},PSEUDO:function(e,t){var a,i=s.pseudos[e]||s.setFilters[e.toLowerCase()]||ie.error("unsupported pseudo: "+e);return i[w]?i(t):i.length>1?(a=[e,e,"",t],s.setFilters.hasOwnProperty(e.toLowerCase())?ne(function(e,a){for(var s,r=i(e,t),n=r.length;n--;)e[s=j(e,r[n])]=!(a[s]=r[n])}):function(e){return i(e,0,a)}):i}},pseudos:{not:ne(function(e){var t=[],a=[],s=o(e.replace(L,"$1"));return s[w]?ne(function(e,t,a,i){for(var r,n=s(e,null,i,[]),o=e.length;o--;)(r=n[o])&&(e[o]=!(t[o]=r))}):function(e,i,r){return t[0]=e,s(t,null,r,a),t[0]=null,!a.pop()}}),has:ne(function(e){return function(t){return ie(e,t).length>0}}),contains:ne(function(e){return e=e.replace(te,ae),function(t){return(t.textContent||t.innerText||i(t)).indexOf(e)>-1}}),lang:ne(function(e){return W.test(e||"")||ie.error("unsupported lang: "+e),e=e.replace(te,ae).toLowerCase(),function(t){var a;do{if(a=g?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return(a=a.toLowerCase())===e||0===a.indexOf(e+"-")}while((t=t.parentNode)&&1===t.nodeType);return!1}}),target:function(t){var a=e.location&&e.location.hash;return a&&a.slice(1)===t.id},root:function(e){return e===h},focus:function(e){return e===p.activeElement&&(!p.hasFocus||p.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:function(e){return!1===e.disabled},disabled:function(e){return!0===e.disabled},checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,!0===e.selected},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!s.pseudos.empty(e)},header:function(e){return J.test(e.nodeName)},input:function(e){return X.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||"text"===t.toLowerCase())},first:me(function(){return[0]}),last:me(function(e,t){return[t-1]}),eq:me(function(e,t,a){return[0>a?a+t:a]}),even:me(function(e,t){for(var a=0;t>a;a+=2)e.push(a);return e}),odd:me(function(e,t){for(var a=1;t>a;a+=2)e.push(a);return e}),lt:me(function(e,t,a){for(var s=0>a?a+t:a;--s>=0;)e.push(s);return e}),gt:me(function(e,t,a){for(var s=0>a?a+t:a;++s<t;)e.push(s);return e})}}).pseudos.nth=s.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})s.pseudos[t]=ue(t);for(t in{submit:!0,reset:!0})s.pseudos[t]=de(t);function he(){}function ge(e){for(var t=0,a=e.length,s="";a>t;t++)s+=e[t].value;return s}function fe(e,t,a){var s=t.dir,i=a&&"parentNode"===s,r=C++;return t.first?function(t,a,r){for(;t=t[s];)if(1===t.nodeType||i)return e(t,a,r)}:function(t,a,n){var o,l,c,u=[k,r];if(n){for(;t=t[s];)if((1===t.nodeType||i)&&e(t,a,n))return!0}else for(;t=t[s];)if(1===t.nodeType||i){if((o=(l=(c=t[w]||(t[w]={}))[t.uniqueID]||(c[t.uniqueID]={}))[s])&&o[0]===k&&o[1]===r)return u[2]=o[2];if(l[s]=u,u[2]=e(t,a,n))return!0}}}function be(e){return e.length>1?function(t,a,s){for(var i=e.length;i--;)if(!e[i](t,a,s))return!1;return!0}:e[0]}function ve(e,t,a,s,i){for(var r,n=[],o=0,l=e.length,c=null!=t;l>o;o++)(r=e[o])&&(a&&!a(r,s,i)||(n.push(r),c&&t.push(o)));return n}function ye(e,t,a,s,i,r){return s&&!s[w]&&(s=ye(s)),i&&!i[w]&&(i=ye(i,r)),ne(function(r,n,o,l){var c,u,d,m=[],p=[],h=n.length,g=r||function(e,t,a){for(var s=0,i=t.length;i>s;s++)ie(e,t[s],a);return a}(t||"*",o.nodeType?[o]:o,[]),f=!e||!r&&t?g:ve(g,m,e,o,l),b=a?i||(r?e:h||s)?[]:n:f;if(a&&a(f,b,o,l),s)for(c=ve(b,p),s(c,[],o,l),u=c.length;u--;)(d=c[u])&&(b[p[u]]=!(f[p[u]]=d));if(r){if(i||e){if(i){for(c=[],u=b.length;u--;)(d=b[u])&&c.push(f[u]=d);i(null,b=[],c,l)}for(u=b.length;u--;)(d=b[u])&&(c=i?j(r,d):m[u])>-1&&(r[c]=!(n[c]=d))}}else b=ve(b===n?b.splice(h,b.length):b),i?i(null,n,b,l):V.apply(n,b)})}function we(e){for(var t,a,i,r=e.length,n=s.relative[e[0].type],o=n||s.relative[" "],l=n?1:0,u=fe(function(e){return e===t},o,!0),d=fe(function(e){return j(t,e)>-1},o,!0),m=[function(e,a,s){var i=!n&&(s||a!==c)||((t=a).nodeType?u(e,a,s):d(e,a,s));return t=null,i}];r>l;l++)if(a=s.relative[e[l].type])m=[fe(be(m),a)];else{if((a=s.filter[e[l].type].apply(null,e[l].matches))[w]){for(i=++l;r>i&&!s.relative[e[i].type];i++);return ye(l>1&&be(m),l>1&&ge(e.slice(0,l-1).concat({value:" "===e[l-2].type?"*":""})).replace(L,"$1"),a,i>l&&we(e.slice(l,i)),r>i&&we(e=e.slice(i)),r>i&&ge(e))}m.push(a)}return be(m)}function _e(e,t){var a=t.length>0,i=e.length>0,r=function(r,n,o,l,u){var d,h,f,b=0,v="0",y=r&&[],w=[],_=c,C=r||i&&s.find.TAG("*",u),x=k+=null==_?1:Math.random()||.1,S=C.length;for(u&&(c=n===p||n||u);v!==S&&null!=(d=C[v]);v++){if(i&&d){for(h=0,n||d.ownerDocument===p||(m(d),o=!g);f=e[h++];)if(f(d,n||p,o)){l.push(d);break}u&&(k=x)}a&&((d=!f&&d)&&b--,r&&y.push(d))}if(b+=v,a&&v!==b){for(h=0;f=t[h++];)f(y,w,n,o);if(r){if(b>0)for(;v--;)y[v]||w[v]||(w[v]=P.call(l));w=ve(w)}V.apply(l,w),u&&!r&&w.length>0&&b+t.length>1&&ie.uniqueSort(l)}return u&&(k=x,c=_),y};return a?ne(r):r}return he.prototype=s.filters=s.pseudos,s.setFilters=new he,n=ie.tokenize=function(e,t){var a,i,r,n,o,l,c,u=S[e+" "];if(u)return t?0:u.slice(0);for(o=e,l=[],c=s.preFilter;o;){for(n in a&&!(i=U.exec(o))||(i&&(o=o.slice(i[0].length)||o),l.push(r=[])),a=!1,(i=z.exec(o))&&(a=i.shift(),r.push({value:a,type:i[0].replace(L," ")}),o=o.slice(a.length)),s.filter)!(i=Y[n].exec(o))||c[n]&&!(i=c[n](i))||(a=i.shift(),r.push({value:a,type:n,matches:i}),o=o.slice(a.length));if(!a)break}return t?o.length:o?ie.error(e):S(e,l).slice(0)},o=ie.compile=function(e,t){var a,s=[],i=[],r=F[e+" "];if(!r){for(t||(t=n(e)),a=t.length;a--;)(r=we(t[a]))[w]?s.push(r):i.push(r);(r=F(e,_e(i,s))).selector=e}return r},l=ie.select=function(e,t,i,r){var l,c,u,d,m,p="function"==typeof e&&e,h=!r&&n(e=p.selector||e);if(i=i||[],1===h.length){if((c=h[0]=h[0].slice(0)).length>2&&"ID"===(u=c[0]).type&&a.getById&&9===t.nodeType&&g&&s.relative[c[1].type]){if(!(t=(s.find.ID(u.matches[0].replace(te,ae),t)||[])[0]))return i;p&&(t=t.parentNode),e=e.slice(c.shift().value.length)}for(l=Y.needsContext.test(e)?0:c.length;l--&&(u=c[l],!s.relative[d=u.type]);)if((m=s.find[d])&&(r=m(u.matches[0].replace(te,ae),K.test(c[0].type)&&pe(t.parentNode)||t))){if(c.splice(l,1),!(e=r.length&&ge(c)))return V.apply(i,r),i;break}}return(p||o(e,h))(r,t,!g,i,!t||K.test(e)&&pe(t.parentNode)||t),i},a.sortStable=w.split("").sort(T).join("")===w,a.detectDuplicates=!!d,m(),a.sortDetached=oe(function(e){return 1&e.compareDocumentPosition(p.createElement("div"))}),oe(function(e){return e.innerHTML="<a href='#'></a>","#"===e.firstChild.getAttribute("href")})||le("type|href|height|width",function(e,t,a){return a?void 0:e.getAttribute(t,"type"===t.toLowerCase()?1:2)}),a.attributes&&oe(function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),""===e.firstChild.getAttribute("value")})||le("value",function(e,t,a){return a||"input"!==e.nodeName.toLowerCase()?void 0:e.defaultValue}),oe(function(e){return null==e.getAttribute("disabled")})||le(q,function(e,t,a){var s;return a?void 0:!0===e[t]?t.toLowerCase():(s=e.getAttributeNode(t))&&s.specified?s.value:null}),ie}(e);v.find=x,v.expr=x.selectors,v.expr[":"]=v.expr.pseudos,v.uniqueSort=v.unique=x.uniqueSort,v.text=x.getText,v.isXMLDoc=x.isXML,v.contains=x.contains;var S=function(e,t,a){for(var s=[],i=void 0!==a;(e=e[t])&&9!==e.nodeType;)if(1===e.nodeType){if(i&&v(e).is(a))break;s.push(e)}return s},F=function(e,t){for(var a=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&a.push(e);return a},T=v.expr.match.needsContext,$=/^<([\w-]+)\s*\/?>(?:<\/\1>|)$/,D=/^.[^:#\[\.,]*$/;function I(e,t,a){if(v.isFunction(t))return v.grep(e,function(e,s){return!!t.call(e,s,e)!==a});if(t.nodeType)return v.grep(e,function(e){return e===t!==a});if("string"==typeof t){if(D.test(t))return v.filter(t,e,a);t=v.filter(t,e)}return v.grep(e,function(e){return m.call(t,e)>-1!==a})}v.filter=function(e,t,a){var s=t[0];return a&&(e=":not("+e+")"),1===t.length&&1===s.nodeType?v.find.matchesSelector(s,e)?[s]:[]:v.find.matches(e,v.grep(t,function(e){return 1===e.nodeType}))},v.fn.extend({find:function(e){var t,a=this.length,s=[],i=this;if("string"!=typeof e)return this.pushStack(v(e).filter(function(){for(t=0;a>t;t++)if(v.contains(i[t],this))return!0}));for(t=0;a>t;t++)v.find(e,i[t],s);return(s=this.pushStack(a>1?v.unique(s):s)).selector=this.selector?this.selector+" "+e:e,s},filter:function(e){return this.pushStack(I(this,e||[],!1))},not:function(e){return this.pushStack(I(this,e||[],!0))},is:function(e){return!!I(this,"string"==typeof e&&T.test(e)?v(e):e||[],!1).length}});var P,N=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/;(v.fn.init=function(e,t,a){var s,r;if(!e)return this;if(a=a||P,"string"==typeof e){if(!(s="<"===e[0]&&">"===e[e.length-1]&&e.length>=3?[null,e,null]:N.exec(e))||!s[1]&&t)return!t||t.jquery?(t||a).find(e):this.constructor(t).find(e);if(s[1]){if(t=t instanceof v?t[0]:t,v.merge(this,v.parseHTML(s[1],t&&t.nodeType?t.ownerDocument||t:i,!0)),$.test(s[1])&&v.isPlainObject(t))for(s in t)v.isFunction(this[s])?this[s](t[s]):this.attr(s,t[s]);return this}return(r=i.getElementById(s[2]))&&r.parentNode&&(this.length=1,this[0]=r),this.context=i,this.selector=e,this}return e.nodeType?(this.context=this[0]=e,this.length=1,this):v.isFunction(e)?void 0!==a.ready?a.ready(e):e(v):(void 0!==e.selector&&(this.selector=e.selector,this.context=e.context),v.makeArray(e,this))}).prototype=v.fn,P=v(i);var V=/^(?:parents|prev(?:Until|All))/,A={children:!0,contents:!0,next:!0,prev:!0};function j(e,t){for(;(e=e[t])&&1!==e.nodeType;);return e}v.fn.extend({has:function(e){var t=v(e,this),a=t.length;return this.filter(function(){for(var e=0;a>e;e++)if(v.contains(this,t[e]))return!0})},closest:function(e,t){for(var a,s=0,i=this.length,r=[],n=T.test(e)||"string"!=typeof e?v(e,t||this.context):0;i>s;s++)for(a=this[s];a&&a!==t;a=a.parentNode)if(a.nodeType<11&&(n?n.index(a)>-1:1===a.nodeType&&v.find.matchesSelector(a,e))){r.push(a);break}return this.pushStack(r.length>1?v.uniqueSort(r):r)},index:function(e){return e?"string"==typeof e?m.call(v(e),this[0]):m.call(this,e.jquery?e[0]:e):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){return this.pushStack(v.uniqueSort(v.merge(this.get(),v(e,t))))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),v.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return S(e,"parentNode")},parentsUntil:function(e,t,a){return S(e,"parentNode",a)},next:function(e){return j(e,"nextSibling")},prev:function(e){return j(e,"previousSibling")},nextAll:function(e){return S(e,"nextSibling")},prevAll:function(e){return S(e,"previousSibling")},nextUntil:function(e,t,a){return S(e,"nextSibling",a)},prevUntil:function(e,t,a){return S(e,"previousSibling",a)},siblings:function(e){return F((e.parentNode||{}).firstChild,e)},children:function(e){return F(e.firstChild)},contents:function(e){return e.contentDocument||v.merge([],e.childNodes)}},function(e,t){v.fn[e]=function(a,s){var i=v.map(this,t,a);return"Until"!==e.slice(-5)&&(s=a),s&&"string"==typeof s&&(i=v.filter(s,i)),this.length>1&&(A[e]||v.uniqueSort(i),V.test(e)&&i.reverse()),this.pushStack(i)}});var q,E=/\S+/g;function R(){i.removeEventListener("DOMContentLoaded",R),e.removeEventListener("load",R),v.ready()}v.Callbacks=function(e){e="string"==typeof e?function(e){var t={};return v.each(e.match(E)||[],function(e,a){t[a]=!0}),t}(e):v.extend({},e);var t,a,s,i,r=[],n=[],o=-1,l=function(){for(i=e.once,s=t=!0;n.length;o=-1)for(a=n.shift();++o<r.length;)!1===r[o].apply(a[0],a[1])&&e.stopOnFalse&&(o=r.length,a=!1);e.memory||(a=!1),t=!1,i&&(r=a?[]:"")},c={add:function(){return r&&(a&&!t&&(o=r.length-1,n.push(a)),function t(a){v.each(a,function(a,s){v.isFunction(s)?e.unique&&c.has(s)||r.push(s):s&&s.length&&"string"!==v.type(s)&&t(s)})}(arguments),a&&!t&&l()),this},remove:function(){return v.each(arguments,function(e,t){for(var a;(a=v.inArray(t,r,a))>-1;)r.splice(a,1),o>=a&&o--}),this},has:function(e){return e?v.inArray(e,r)>-1:r.length>0},empty:function(){return r&&(r=[]),this},disable:function(){return i=n=[],r=a="",this},disabled:function(){return!r},lock:function(){return i=n=[],a||(r=a=""),this},locked:function(){return!!i},fireWith:function(e,a){return i||(a=[e,(a=a||[]).slice?a.slice():a],n.push(a),t||l()),this},fire:function(){return c.fireWith(this,arguments),this},fired:function(){return!!s}};return c},v.extend({Deferred:function(e){var t=[["resolve","done",v.Callbacks("once memory"),"resolved"],["reject","fail",v.Callbacks("once memory"),"rejected"],["notify","progress",v.Callbacks("memory")]],a="pending",s={state:function(){return a},always:function(){return i.done(arguments).fail(arguments),this},then:function(){var e=arguments;return v.Deferred(function(a){v.each(t,function(t,r){var n=v.isFunction(e[t])&&e[t];i[r[1]](function(){var e=n&&n.apply(this,arguments);e&&v.isFunction(e.promise)?e.promise().progress(a.notify).done(a.resolve).fail(a.reject):a[r[0]+"With"](this===s?a.promise():this,n?[e]:arguments)})}),e=null}).promise()},promise:function(e){return null!=e?v.extend(e,s):s}},i={};return s.pipe=s.then,v.each(t,function(e,r){var n=r[2],o=r[3];s[r[1]]=n.add,o&&n.add(function(){a=o},t[1^e][2].disable,t[2][2].lock),i[r[0]]=function(){return i[r[0]+"With"](this===i?s:this,arguments),this},i[r[0]+"With"]=n.fireWith}),s.promise(i),e&&e.call(i,i),i},when:function(e){var t,a,s,i=0,r=n.call(arguments),o=r.length,l=1!==o||e&&v.isFunction(e.promise)?o:0,c=1===l?e:v.Deferred(),u=function(e,a,s){return function(i){a[e]=this,s[e]=arguments.length>1?n.call(arguments):i,s===t?c.notifyWith(a,s):--l||c.resolveWith(a,s)}};if(o>1)for(t=new Array(o),a=new Array(o),s=new Array(o);o>i;i++)r[i]&&v.isFunction(r[i].promise)?r[i].promise().progress(u(i,a,t)).done(u(i,s,r)).fail(c.reject):--l;return l||c.resolveWith(s,r),c.promise()}}),v.fn.ready=function(e){return v.ready.promise().done(e),this},v.extend({isReady:!1,readyWait:1,holdReady:function(e){e?v.readyWait++:v.ready(!0)},ready:function(e){(!0===e?--v.readyWait:v.isReady)||(v.isReady=!0,!0!==e&&--v.readyWait>0||(q.resolveWith(i,[v]),v.fn.triggerHandler&&(v(i).triggerHandler("ready"),v(i).off("ready"))))}}),v.ready.promise=function(t){return q||(q=v.Deferred(),"complete"===i.readyState||"loading"!==i.readyState&&!i.documentElement.doScroll?e.setTimeout(v.ready):(i.addEventListener("DOMContentLoaded",R),e.addEventListener("load",R))),q.promise(t)},v.ready.promise();var M=function e(t,a,s,i,r,n,o){var l=0,c=t.length,u=null==s;if("object"===v.type(s))for(l in r=!0,s)e(t,a,l,s[l],!0,n,o);else if(void 0!==i&&(r=!0,v.isFunction(i)||(o=!0),u&&(o?(a.call(t,i),a=null):(u=a,a=function(e,t,a){return u.call(v(e),a)})),a))for(;c>l;l++)a(t[l],s,o?i:i.call(t[l],l,a(t[l],s)));return r?t:u?a.call(t):c?a(t[0],s):n},O=function(e){return 1===e.nodeType||9===e.nodeType||!+e.nodeType};function G(){this.expando=v.expando+G.uid++}G.uid=1,G.prototype={register:function(e,t){var a=t||{};return e.nodeType?e[this.expando]=a:r()(e,this.expando,{value:a,writable:!0,configurable:!0}),e[this.expando]},cache:function(e){if(!O(e))return{};var t=e[this.expando];return t||(t={},O(e)&&(e.nodeType?e[this.expando]=t:r()(e,this.expando,{value:t,configurable:!0}))),t},set:function(e,t,a){var s,i=this.cache(e);if("string"==typeof t)i[t]=a;else for(s in t)i[s]=t[s];return i},get:function(e,t){return void 0===t?this.cache(e):e[this.expando]&&e[this.expando][t]},access:function(e,t,a){var s;return void 0===t||t&&"string"==typeof t&&void 0===a?void 0!==(s=this.get(e,t))?s:this.get(e,v.camelCase(t)):(this.set(e,t,a),void 0!==a?a:t)},remove:function(e,t){var a,s,i,r=e[this.expando];if(void 0!==r){if(void 0===t)this.register(e);else{v.isArray(t)?s=t.concat(t.map(v.camelCase)):(i=v.camelCase(t),t in r?s=[t,i]:s=(s=i)in r?[s]:s.match(E)||[]),a=s.length;for(;a--;)delete r[s[a]]}(void 0===t||v.isEmptyObject(r))&&(e.nodeType?e[this.expando]=void 0:delete e[this.expando])}},hasData:function(e){var t=e[this.expando];return void 0!==t&&!v.isEmptyObject(t)}};var L=new G,U=new G,z=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,H=/[A-Z]/g;function B(e,t,a){var s;if(void 0===a&&1===e.nodeType)if(s="data-"+t.replace(H,"-$&").toLowerCase(),"string"==typeof(a=e.getAttribute(s))){try{a="true"===a||"false"!==a&&("null"===a?null:+a+""===a?+a:z.test(a)?v.parseJSON(a):a)}catch(e){}U.set(e,t,a)}else a=void 0;return a}v.extend({hasData:function(e){return U.hasData(e)||L.hasData(e)},data:function(e,t,a){return U.access(e,t,a)},removeData:function(e,t){U.remove(e,t)},_data:function(e,t,a){return L.access(e,t,a)},_removeData:function(e,t){L.remove(e,t)}}),v.fn.extend({data:function(e,t){var a,s,i,r=this[0],n=r&&r.attributes;if(void 0===e){if(this.length&&(i=U.get(r),1===r.nodeType&&!L.get(r,"hasDataAttrs"))){for(a=n.length;a--;)n[a]&&(0===(s=n[a].name).indexOf("data-")&&(s=v.camelCase(s.slice(5)),B(r,s,i[s])));L.set(r,"hasDataAttrs",!0)}return i}return"object"==(void 0===e?"undefined":d()(e))?this.each(function(){U.set(this,e)}):M(this,function(t){var a,s;if(r&&void 0===t){if(void 0!==(a=U.get(r,e)||U.get(r,e.replace(H,"-$&").toLowerCase())))return a;if(s=v.camelCase(e),void 0!==(a=U.get(r,s)))return a;if(void 0!==(a=B(r,s,void 0)))return a}else s=v.camelCase(e),this.each(function(){var a=U.get(this,s);U.set(this,s,t),e.indexOf("-")>-1&&void 0!==a&&U.set(this,e,t)})},null,t,arguments.length>1,null,!0)},removeData:function(e){return this.each(function(){U.remove(this,e)})}}),v.extend({queue:function(e,t,a){var s;return e?(t=(t||"fx")+"queue",s=L.get(e,t),a&&(!s||v.isArray(a)?s=L.access(e,t,v.makeArray(a)):s.push(a)),s||[]):void 0},dequeue:function(e,t){t=t||"fx";var a=v.queue(e,t),s=a.length,i=a.shift(),r=v._queueHooks(e,t);"inprogress"===i&&(i=a.shift(),s--),i&&("fx"===t&&a.unshift("inprogress"),delete r.stop,i.call(e,function(){v.dequeue(e,t)},r)),!s&&r&&r.empty.fire()},_queueHooks:function(e,t){var a=t+"queueHooks";return L.get(e,a)||L.access(e,a,{empty:v.Callbacks("once memory").add(function(){L.remove(e,[t+"queue",a])})})}}),v.fn.extend({queue:function(e,t){var a=2;return"string"!=typeof e&&(t=e,e="fx",a--),arguments.length<a?v.queue(this[0],e):void 0===t?this:this.each(function(){var a=v.queue(this,e,t);v._queueHooks(this,e),"fx"===e&&"inprogress"!==a[0]&&v.dequeue(this,e)})},dequeue:function(e){return this.each(function(){v.dequeue(this,e)})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){var a,s=1,i=v.Deferred(),r=this,n=this.length,o=function(){--s||i.resolveWith(r,[r])};for("string"!=typeof e&&(t=e,e=void 0),e=e||"fx";n--;)(a=L.get(r[n],e+"queueHooks"))&&a.empty&&(s++,a.empty.add(o));return o(),i.promise(t)}});var W=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,Y=new RegExp("^(?:([+-])=|)("+W+")([a-z%]*)$","i"),X=["Top","Right","Bottom","Left"],J=function(e,t){return e=t||e,"none"===v.css(e,"display")||!v.contains(e.ownerDocument,e)};function Q(e,t,a,s){var i,r=1,n=20,o=s?function(){return s.cur()}:function(){return v.css(e,t,"")},l=o(),c=a&&a[3]||(v.cssNumber[t]?"":"px"),u=(v.cssNumber[t]||"px"!==c&&+l)&&Y.exec(v.css(e,t));if(u&&u[3]!==c){c=c||u[3],a=a||[],u=+l||1;do{u/=r=r||".5",v.style(e,t,u+c)}while(r!==(r=o()/l)&&1!==r&&--n)}return a&&(u=+u||+l||0,i=a[1]?u+(a[1]+1)*a[2]:+a[2],s&&(s.unit=c,s.start=u,s.end=i)),i}var Z=/^(?:checkbox|radio)$/i,K=/<([\w:-]+)/,ee=/^$|\/(?:java|ecma)script/i,te={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};function ae(e,t){var a=void 0!==e.getElementsByTagName?e.getElementsByTagName(t||"*"):void 0!==e.querySelectorAll?e.querySelectorAll(t||"*"):[];return void 0===t||t&&v.nodeName(e,t)?v.merge([e],a):a}function se(e,t){for(var a=0,s=e.length;s>a;a++)L.set(e[a],"globalEval",!t||L.get(t[a],"globalEval"))}te.optgroup=te.option,te.tbody=te.tfoot=te.colgroup=te.caption=te.thead,te.th=te.td;var ie=/<|&#?\w+;/;function re(e,t,a,s,i){for(var r,n,o,l,c,u,d=t.createDocumentFragment(),m=[],p=0,h=e.length;h>p;p++)if((r=e[p])||0===r)if("object"===v.type(r))v.merge(m,r.nodeType?[r]:r);else if(ie.test(r)){for(n=n||d.appendChild(t.createElement("div")),o=(K.exec(r)||["",""])[1].toLowerCase(),l=te[o]||te._default,n.innerHTML=l[1]+v.htmlPrefilter(r)+l[2],u=l[0];u--;)n=n.lastChild;v.merge(m,n.childNodes),(n=d.firstChild).textContent=""}else m.push(t.createTextNode(r));for(d.textContent="",p=0;r=m[p++];)if(s&&v.inArray(r,s)>-1)i&&i.push(r);else if(c=v.contains(r.ownerDocument,r),n=ae(d.appendChild(r),"script"),c&&se(n),a)for(u=0;r=n[u++];)ee.test(r.type||"")&&a.push(r);return d}!function(){var e=i.createDocumentFragment().appendChild(i.createElement("div")),t=i.createElement("input");t.setAttribute("type","radio"),t.setAttribute("checked","checked"),t.setAttribute("name","t"),e.appendChild(t),f.checkClone=e.cloneNode(!0).cloneNode(!0).lastChild.checked,e.innerHTML="<textarea>x</textarea>",f.noCloneChecked=!!e.cloneNode(!0).lastChild.defaultValue}();var ne=/^key/,oe=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,le=/^([^.]*)(?:\.(.+)|)/;function ce(){return!0}function ue(){return!1}function de(){try{return i.activeElement}catch(e){}}function me(e,t,a,s,i,r){var n,o;if("object"==(void 0===t?"undefined":d()(t))){for(o in"string"!=typeof a&&(s=s||a,a=void 0),t)me(e,o,a,s,t[o],r);return e}if(null==s&&null==i?(i=a,s=a=void 0):null==i&&("string"==typeof a?(i=s,s=void 0):(i=s,s=a,a=void 0)),!1===i)i=ue;else if(!i)return e;return 1===r&&(n=i,(i=function(e){return v().off(e),n.apply(this,arguments)}).guid=n.guid||(n.guid=v.guid++)),e.each(function(){v.event.add(this,t,i,s,a)})}v.event={global:{},add:function(e,t,a,s,i){var r,n,o,l,c,u,d,m,p,h,g,f=L.get(e);if(f)for(a.handler&&(a=(r=a).handler,i=r.selector),a.guid||(a.guid=v.guid++),(l=f.events)||(l=f.events={}),(n=f.handle)||(n=f.handle=function(t){return void 0!==v&&v.event.triggered!==t.type?v.event.dispatch.apply(e,arguments):void 0}),c=(t=(t||"").match(E)||[""]).length;c--;)p=g=(o=le.exec(t[c])||[])[1],h=(o[2]||"").split(".").sort(),p&&(d=v.event.special[p]||{},p=(i?d.delegateType:d.bindType)||p,d=v.event.special[p]||{},u=v.extend({type:p,origType:g,data:s,handler:a,guid:a.guid,selector:i,needsContext:i&&v.expr.match.needsContext.test(i),namespace:h.join(".")},r),(m=l[p])||((m=l[p]=[]).delegateCount=0,d.setup&&!1!==d.setup.call(e,s,h,n)||e.addEventListener&&e.addEventListener(p,n)),d.add&&(d.add.call(e,u),u.handler.guid||(u.handler.guid=a.guid)),i?m.splice(m.delegateCount++,0,u):m.push(u),v.event.global[p]=!0)},remove:function(e,t,a,s,i){var r,n,o,l,c,u,d,m,p,h,g,f=L.hasData(e)&&L.get(e);if(f&&(l=f.events)){for(c=(t=(t||"").match(E)||[""]).length;c--;)if(p=g=(o=le.exec(t[c])||[])[1],h=(o[2]||"").split(".").sort(),p){for(d=v.event.special[p]||{},m=l[p=(s?d.delegateType:d.bindType)||p]||[],o=o[2]&&new RegExp("(^|\\.)"+h.join("\\.(?:.*\\.|)")+"(\\.|$)"),n=r=m.length;r--;)u=m[r],!i&&g!==u.origType||a&&a.guid!==u.guid||o&&!o.test(u.namespace)||s&&s!==u.selector&&("**"!==s||!u.selector)||(m.splice(r,1),u.selector&&m.delegateCount--,d.remove&&d.remove.call(e,u));n&&!m.length&&(d.teardown&&!1!==d.teardown.call(e,h,f.handle)||v.removeEvent(e,p,f.handle),delete l[p])}else for(p in l)v.event.remove(e,p+t[c],a,s,!0);v.isEmptyObject(l)&&L.remove(e,"handle events")}},dispatch:function(e){e=v.event.fix(e);var t,a,s,i,r,o=[],l=n.call(arguments),c=(L.get(this,"events")||{})[e.type]||[],u=v.event.special[e.type]||{};if(l[0]=e,e.delegateTarget=this,!u.preDispatch||!1!==u.preDispatch.call(this,e)){for(o=v.event.handlers.call(this,e,c),t=0;(i=o[t++])&&!e.isPropagationStopped();)for(e.currentTarget=i.elem,a=0;(r=i.handlers[a++])&&!e.isImmediatePropagationStopped();)e.rnamespace&&!e.rnamespace.test(r.namespace)||(e.handleObj=r,e.data=r.data,void 0!==(s=((v.event.special[r.origType]||{}).handle||r.handler).apply(i.elem,l))&&!1===(e.result=s)&&(e.preventDefault(),e.stopPropagation()));return u.postDispatch&&u.postDispatch.call(this,e),e.result}},handlers:function(e,t){var a,s,i,r,n=[],o=t.delegateCount,l=e.target;if(o&&l.nodeType&&("click"!==e.type||isNaN(e.button)||e.button<1))for(;l!==this;l=l.parentNode||this)if(1===l.nodeType&&(!0!==l.disabled||"click"!==e.type)){for(s=[],a=0;o>a;a++)void 0===s[i=(r=t[a]).selector+" "]&&(s[i]=r.needsContext?v(i,this).index(l)>-1:v.find(i,this,null,[l]).length),s[i]&&s.push(r);s.length&&n.push({elem:l,handlers:s})}return o<t.length&&n.push({elem:this,handlers:t.slice(o)}),n},props:"altKey bubbles cancelable ctrlKey currentTarget detail eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(e,t){return null==e.which&&(e.which=null!=t.charCode?t.charCode:t.keyCode),e}},mouseHooks:{props:"button buttons clientX clientY offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(e,t){var a,s,r,n=t.button;return null==e.pageX&&null!=t.clientX&&(s=(a=e.target.ownerDocument||i).documentElement,r=a.body,e.pageX=t.clientX+(s&&s.scrollLeft||r&&r.scrollLeft||0)-(s&&s.clientLeft||r&&r.clientLeft||0),e.pageY=t.clientY+(s&&s.scrollTop||r&&r.scrollTop||0)-(s&&s.clientTop||r&&r.clientTop||0)),e.which||void 0===n||(e.which=1&n?1:2&n?3:4&n?2:0),e}},fix:function(e){if(e[v.expando])return e;var t,a,s,r=e.type,n=e,o=this.fixHooks[r];for(o||(this.fixHooks[r]=o=oe.test(r)?this.mouseHooks:ne.test(r)?this.keyHooks:{}),s=o.props?this.props.concat(o.props):this.props,e=new v.Event(n),t=s.length;t--;)e[a=s[t]]=n[a];return e.target||(e.target=i),3===e.target.nodeType&&(e.target=e.target.parentNode),o.filter?o.filter(e,n):e},special:{load:{noBubble:!0},focus:{trigger:function(){return this!==de()&&this.focus?(this.focus(),!1):void 0},delegateType:"focusin"},blur:{trigger:function(){return this===de()&&this.blur?(this.blur(),!1):void 0},delegateType:"focusout"},click:{trigger:function(){return"checkbox"===this.type&&this.click&&v.nodeName(this,"input")?(this.click(),!1):void 0},_default:function(e){return v.nodeName(e.target,"a")}},beforeunload:{postDispatch:function(e){void 0!==e.result&&e.originalEvent&&(e.originalEvent.returnValue=e.result)}}}},v.removeEvent=function(e,t,a){e.removeEventListener&&e.removeEventListener(t,a)},v.Event=function(e,t){return this instanceof v.Event?(e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||void 0===e.defaultPrevented&&!1===e.returnValue?ce:ue):this.type=e,t&&v.extend(this,t),this.timeStamp=e&&e.timeStamp||v.now(),void(this[v.expando]=!0)):new v.Event(e,t)},v.Event.prototype={constructor:v.Event,isDefaultPrevented:ue,isPropagationStopped:ue,isImmediatePropagationStopped:ue,isSimulated:!1,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=ce,e&&!this.isSimulated&&e.preventDefault()},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=ce,e&&!this.isSimulated&&e.stopPropagation()},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=ce,e&&!this.isSimulated&&e.stopImmediatePropagation(),this.stopPropagation()}},v.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(e,t){v.event.special[e]={delegateType:t,bindType:t,handle:function(e){var a,s=e.relatedTarget,i=e.handleObj;return s&&(s===this||v.contains(this,s))||(e.type=i.origType,a=i.handler.apply(this,arguments),e.type=t),a}}}),v.fn.extend({on:function(e,t,a,s){return me(this,e,t,a,s)},one:function(e,t,a,s){return me(this,e,t,a,s,1)},off:function(e,t,a){var s,i;if(e&&e.preventDefault&&e.handleObj)return s=e.handleObj,v(e.delegateTarget).off(s.namespace?s.origType+"."+s.namespace:s.origType,s.selector,s.handler),this;if("object"==(void 0===e?"undefined":d()(e))){for(i in e)this.off(i,t,e[i]);return this}return!1!==t&&"function"!=typeof t||(a=t,t=void 0),!1===a&&(a=ue),this.each(function(){v.event.remove(this,e,a,t)})}});var pe=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:-]+)[^>]*)\/>/gi,he=/<script|<style|<link/i,ge=/checked\s*(?:[^=]|=\s*.checked.)/i,fe=/^true\/(.*)/,be=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;function ve(e,t){return v.nodeName(e,"table")&&v.nodeName(11!==t.nodeType?t:t.firstChild,"tr")?e.getElementsByTagName("tbody")[0]||e.appendChild(e.ownerDocument.createElement("tbody")):e}function ye(e){return e.type=(null!==e.getAttribute("type"))+"/"+e.type,e}function we(e){var t=fe.exec(e.type);return t?e.type=t[1]:e.removeAttribute("type"),e}function _e(e,t){var a,s,i,r,n,o,l,c;if(1===t.nodeType){if(L.hasData(e)&&(r=L.access(e),n=L.set(t,r),c=r.events))for(i in delete n.handle,n.events={},c)for(a=0,s=c[i].length;s>a;a++)v.event.add(t,i,c[i][a]);U.hasData(e)&&(o=U.access(e),l=v.extend({},o),U.set(t,l))}}function ke(e,t){var a=t.nodeName.toLowerCase();"input"===a&&Z.test(e.type)?t.checked=e.checked:"input"!==a&&"textarea"!==a||(t.defaultValue=e.defaultValue)}function Ce(e,t,a,s){t=l.apply([],t);var i,r,n,o,c,u,d=0,m=e.length,p=m-1,h=t[0],g=v.isFunction(h);if(g||m>1&&"string"==typeof h&&!f.checkClone&&ge.test(h))return e.each(function(i){var r=e.eq(i);g&&(t[0]=h.call(this,i,r.html())),Ce(r,t,a,s)});if(m&&(r=(i=re(t,e[0].ownerDocument,!1,e,s)).firstChild,1===i.childNodes.length&&(i=r),r||s)){for(o=(n=v.map(ae(i,"script"),ye)).length;m>d;d++)c=i,d!==p&&(c=v.clone(c,!0,!0),o&&v.merge(n,ae(c,"script"))),a.call(e[d],c,d);if(o)for(u=n[n.length-1].ownerDocument,v.map(n,we),d=0;o>d;d++)c=n[d],ee.test(c.type||"")&&!L.access(c,"globalEval")&&v.contains(u,c)&&(c.src?v._evalUrl&&v._evalUrl(c.src):v.globalEval(c.textContent.replace(be,"")))}return e}function xe(e,t,a){for(var s,i=t?v.filter(t,e):e,r=0;null!=(s=i[r]);r++)a||1!==s.nodeType||v.cleanData(ae(s)),s.parentNode&&(a&&v.contains(s.ownerDocument,s)&&se(ae(s,"script")),s.parentNode.removeChild(s));return e}v.extend({htmlPrefilter:function(e){return e.replace(pe,"<$1></$2>")},clone:function(e,t,a){var s,i,r,n,o=e.cloneNode(!0),l=v.contains(e.ownerDocument,e);if(!(f.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||v.isXMLDoc(e)))for(n=ae(o),s=0,i=(r=ae(e)).length;i>s;s++)ke(r[s],n[s]);if(t)if(a)for(r=r||ae(e),n=n||ae(o),s=0,i=r.length;i>s;s++)_e(r[s],n[s]);else _e(e,o);return(n=ae(o,"script")).length>0&&se(n,!l&&ae(e,"script")),o},cleanData:function(e){for(var t,a,s,i=v.event.special,r=0;void 0!==(a=e[r]);r++)if(O(a)){if(t=a[L.expando]){if(t.events)for(s in t.events)i[s]?v.event.remove(a,s):v.removeEvent(a,s,t.handle);a[L.expando]=void 0}a[U.expando]&&(a[U.expando]=void 0)}}}),v.fn.extend({domManip:Ce,detach:function(e){return xe(this,e,!0)},remove:function(e){return xe(this,e)},text:function(e){return M(this,function(e){return void 0===e?v.text(this):this.empty().each(function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=e)})},null,e,arguments.length)},append:function(){return Ce(this,arguments,function(e){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||ve(this,e).appendChild(e)})},prepend:function(){return Ce(this,arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=ve(this,e);t.insertBefore(e,t.firstChild)}})},before:function(){return Ce(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){return Ce(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},empty:function(){for(var e,t=0;null!=(e=this[t]);t++)1===e.nodeType&&(v.cleanData(ae(e,!1)),e.textContent="");return this},clone:function(e,t){return e=null!=e&&e,t=null==t?e:t,this.map(function(){return v.clone(this,e,t)})},html:function(e){return M(this,function(e){var t=this[0]||{},a=0,s=this.length;if(void 0===e&&1===t.nodeType)return t.innerHTML;if("string"==typeof e&&!he.test(e)&&!te[(K.exec(e)||["",""])[1].toLowerCase()]){e=v.htmlPrefilter(e);try{for(;s>a;a++)1===(t=this[a]||{}).nodeType&&(v.cleanData(ae(t,!1)),t.innerHTML=e);t=0}catch(e){}}t&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(){var e=[];return Ce(this,arguments,function(t){var a=this.parentNode;v.inArray(this,e)<0&&(v.cleanData(ae(this)),a&&a.replaceChild(t,this))},e)}}),v.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,t){v.fn[e]=function(e){for(var a,s=[],i=v(e),r=i.length-1,n=0;r>=n;n++)a=n===r?this:this.clone(!0),v(i[n])[t](a),u.apply(s,a.get());return this.pushStack(s)}});var Se,Fe={HTML:"block",BODY:"block"};function Te(e,t){var a=v(t.createElement(e)).appendTo(t.body),s=v.css(a[0],"display");return a.detach(),s}function $e(e){var t=i,a=Fe[e];return a||("none"!==(a=Te(e,t))&&a||((t=(Se=(Se||v("<iframe frameborder='0' width='0' height='0'/>")).appendTo(t.documentElement))[0].contentDocument).write(),t.close(),a=Te(e,t),Se.detach()),Fe[e]=a),a}var De=/^margin/,Ie=new RegExp("^("+W+")(?!px)[a-z%]+$","i"),Pe=function(t){var a=t.ownerDocument.defaultView;return a&&a.opener||(a=e),a.getComputedStyle(t)},Ne=function(e,t,a,s){var i,r,n={};for(r in t)n[r]=e.style[r],e.style[r]=t[r];for(r in i=a.apply(e,s||[]),t)e.style[r]=n[r];return i},Ve=i.documentElement;function Ae(e,t,a){var s,i,r,n,o=e.style;return""!==(n=(a=a||Pe(e))?a.getPropertyValue(t)||a[t]:void 0)&&void 0!==n||v.contains(e.ownerDocument,e)||(n=v.style(e,t)),a&&!f.pixelMarginRight()&&Ie.test(n)&&De.test(t)&&(s=o.width,i=o.minWidth,r=o.maxWidth,o.minWidth=o.maxWidth=o.width=n,n=a.width,o.width=s,o.minWidth=i,o.maxWidth=r),void 0!==n?n+"":n}function je(e,t){return{get:function(){return e()?void delete this.get:(this.get=t).apply(this,arguments)}}}!function(){var t,a,s,r,n=i.createElement("div"),o=i.createElement("div");if(o.style){var l=function(){o.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;position:relative;display:block;margin:auto;border:1px;padding:1px;top:1%;width:50%",o.innerHTML="",Ve.appendChild(n);var i=e.getComputedStyle(o);t="1%"!==i.top,r="2px"===i.marginLeft,a="4px"===i.width,o.style.marginRight="50%",s="4px"===i.marginRight,Ve.removeChild(n)};o.style.backgroundClip="content-box",o.cloneNode(!0).style.backgroundClip="",f.clearCloneStyle="content-box"===o.style.backgroundClip,n.style.cssText="border:0;width:8px;height:0;top:0;left:-9999px;padding:0;margin-top:1px;position:absolute",n.appendChild(o),v.extend(f,{pixelPosition:function(){return l(),t},boxSizingReliable:function(){return null==a&&l(),a},pixelMarginRight:function(){return null==a&&l(),s},reliableMarginLeft:function(){return null==a&&l(),r},reliableMarginRight:function(){var t,a=o.appendChild(i.createElement("div"));return a.style.cssText=o.style.cssText="-webkit-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0",a.style.marginRight=a.style.width="0",o.style.width="1px",Ve.appendChild(n),t=!parseFloat(e.getComputedStyle(a).marginRight),Ve.removeChild(n),o.removeChild(a),t}})}}();var qe=/^(none|table(?!-c[ea]).+)/,Ee={position:"absolute",visibility:"hidden",display:"block"},Re={letterSpacing:"0",fontWeight:"400"},Me=["Webkit","O","Moz","ms"],Oe=i.createElement("div").style;function Ge(e){if(e in Oe)return e;for(var t=e[0].toUpperCase()+e.slice(1),a=Me.length;a--;)if((e=Me[a]+t)in Oe)return e}function Le(e,t,a){var s=Y.exec(t);return s?Math.max(0,s[2]-(a||0))+(s[3]||"px"):t}function Ue(e,t,a,s,i){for(var r=a===(s?"border":"content")?4:"width"===t?1:0,n=0;4>r;r+=2)"margin"===a&&(n+=v.css(e,a+X[r],!0,i)),s?("content"===a&&(n-=v.css(e,"padding"+X[r],!0,i)),"margin"!==a&&(n-=v.css(e,"border"+X[r]+"Width",!0,i))):(n+=v.css(e,"padding"+X[r],!0,i),"padding"!==a&&(n+=v.css(e,"border"+X[r]+"Width",!0,i)));return n}function ze(e,t,a){var s=!0,i="width"===t?e.offsetWidth:e.offsetHeight,r=Pe(e),n="border-box"===v.css(e,"boxSizing",!1,r);if(0>=i||null==i){if((0>(i=Ae(e,t,r))||null==i)&&(i=e.style[t]),Ie.test(i))return i;s=n&&(f.boxSizingReliable()||i===e.style[t]),i=parseFloat(i)||0}return i+Ue(e,t,a||(n?"border":"content"),s,r)+"px"}function He(e,t){for(var a,s,i,r=[],n=0,o=e.length;o>n;n++)(s=e[n]).style&&(r[n]=L.get(s,"olddisplay"),a=s.style.display,t?(r[n]||"none"!==a||(s.style.display=""),""===s.style.display&&J(s)&&(r[n]=L.access(s,"olddisplay",$e(s.nodeName)))):(i=J(s),"none"===a&&i||L.set(s,"olddisplay",i?a:v.css(s,"display"))));for(n=0;o>n;n++)(s=e[n]).style&&(t&&"none"!==s.style.display&&""!==s.style.display||(s.style.display=t?r[n]||"":"none"));return e}function Be(e,t,a,s,i){return new Be.prototype.init(e,t,a,s,i)}v.extend({cssHooks:{opacity:{get:function(e,t){if(t){var a=Ae(e,"opacity");return""===a?"1":a}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{float:"cssFloat"},style:function(e,t,a,s){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var i,r,n,o=v.camelCase(t),l=e.style;return t=v.cssProps[o]||(v.cssProps[o]=Ge(o)||o),n=v.cssHooks[t]||v.cssHooks[o],void 0===a?n&&"get"in n&&void 0!==(i=n.get(e,!1,s))?i:l[t]:("string"===(r=void 0===a?"undefined":d()(a))&&(i=Y.exec(a))&&i[1]&&(a=Q(e,t,i),r="number"),void(null!=a&&a==a&&("number"===r&&(a+=i&&i[3]||(v.cssNumber[o]?"":"px")),f.clearCloneStyle||""!==a||0!==t.indexOf("background")||(l[t]="inherit"),n&&"set"in n&&void 0===(a=n.set(e,a,s))||(l[t]=a))))}},css:function(e,t,a,s){var i,r,n,o=v.camelCase(t);return t=v.cssProps[o]||(v.cssProps[o]=Ge(o)||o),(n=v.cssHooks[t]||v.cssHooks[o])&&"get"in n&&(i=n.get(e,!0,a)),void 0===i&&(i=Ae(e,t,s)),"normal"===i&&t in Re&&(i=Re[t]),""===a||a?(r=parseFloat(i),!0===a||isFinite(r)?r||0:i):i}}),v.each(["height","width"],function(e,t){v.cssHooks[t]={get:function(e,a,s){return a?qe.test(v.css(e,"display"))&&0===e.offsetWidth?Ne(e,Ee,function(){return ze(e,t,s)}):ze(e,t,s):void 0},set:function(e,a,s){var i,r=s&&Pe(e),n=s&&Ue(e,t,s,"border-box"===v.css(e,"boxSizing",!1,r),r);return n&&(i=Y.exec(a))&&"px"!==(i[3]||"px")&&(e.style[t]=a,a=v.css(e,t)),Le(0,a,n)}}}),v.cssHooks.marginLeft=je(f.reliableMarginLeft,function(e,t){return t?(parseFloat(Ae(e,"marginLeft"))||e.getBoundingClientRect().left-Ne(e,{marginLeft:0},function(){return e.getBoundingClientRect().left}))+"px":void 0}),v.cssHooks.marginRight=je(f.reliableMarginRight,function(e,t){return t?Ne(e,{display:"inline-block"},Ae,[e,"marginRight"]):void 0}),v.each({margin:"",padding:"",border:"Width"},function(e,t){v.cssHooks[e+t]={expand:function(a){for(var s=0,i={},r="string"==typeof a?a.split(" "):[a];4>s;s++)i[e+X[s]+t]=r[s]||r[s-2]||r[0];return i}},De.test(e)||(v.cssHooks[e+t].set=Le)}),v.fn.extend({css:function(e,t){return M(this,function(e,t,a){var s,i,r={},n=0;if(v.isArray(t)){for(s=Pe(e),i=t.length;i>n;n++)r[t[n]]=v.css(e,t[n],!1,s);return r}return void 0!==a?v.style(e,t,a):v.css(e,t)},e,t,arguments.length>1)},show:function(){return He(this,!0)},hide:function(){return He(this)},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each(function(){J(this)?v(this).show():v(this).hide()})}}),v.Tween=Be,Be.prototype={constructor:Be,init:function(e,t,a,s,i,r){this.elem=e,this.prop=a,this.easing=i||v.easing._default,this.options=t,this.start=this.now=this.cur(),this.end=s,this.unit=r||(v.cssNumber[a]?"":"px")},cur:function(){var e=Be.propHooks[this.prop];return e&&e.get?e.get(this):Be.propHooks._default.get(this)},run:function(e){var t,a=Be.propHooks[this.prop];return this.options.duration?this.pos=t=v.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):this.pos=t=e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),a&&a.set?a.set(this):Be.propHooks._default.set(this),this}},Be.prototype.init.prototype=Be.prototype,Be.propHooks={_default:{get:function(e){var t;return 1!==e.elem.nodeType||null!=e.elem[e.prop]&&null==e.elem.style[e.prop]?e.elem[e.prop]:(t=v.css(e.elem,e.prop,""))&&"auto"!==t?t:0},set:function(e){v.fx.step[e.prop]?v.fx.step[e.prop](e):1!==e.elem.nodeType||null==e.elem.style[v.cssProps[e.prop]]&&!v.cssHooks[e.prop]?e.elem[e.prop]=e.now:v.style(e.elem,e.prop,e.now+e.unit)}}},Be.propHooks.scrollTop=Be.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},v.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2},_default:"swing"},v.fx=Be.prototype.init,v.fx.step={};var We,Ye,Xe=/^(?:toggle|show|hide)$/,Je=/queueHooks$/;function Qe(){return e.setTimeout(function(){We=void 0}),We=v.now()}function Ze(e,t){var a,s=0,i={height:e};for(t=t?1:0;4>s;s+=2-t)i["margin"+(a=X[s])]=i["padding"+a]=e;return t&&(i.opacity=i.width=e),i}function Ke(e,t,a){for(var s,i=(et.tweeners[t]||[]).concat(et.tweeners["*"]),r=0,n=i.length;n>r;r++)if(s=i[r].call(a,t,e))return s}function et(e,t,a){var s,i,r=0,n=et.prefilters.length,o=v.Deferred().always(function(){delete l.elem}),l=function(){if(i)return!1;for(var t=We||Qe(),a=Math.max(0,c.startTime+c.duration-t),s=1-(a/c.duration||0),r=0,n=c.tweens.length;n>r;r++)c.tweens[r].run(s);return o.notifyWith(e,[c,s,a]),1>s&&n?a:(o.resolveWith(e,[c]),!1)},c=o.promise({elem:e,props:v.extend({},t),opts:v.extend(!0,{specialEasing:{},easing:v.easing._default},a),originalProperties:t,originalOptions:a,startTime:We||Qe(),duration:a.duration,tweens:[],createTween:function(t,a){var s=v.Tween(e,c.opts,t,a,c.opts.specialEasing[t]||c.opts.easing);return c.tweens.push(s),s},stop:function(t){var a=0,s=t?c.tweens.length:0;if(i)return this;for(i=!0;s>a;a++)c.tweens[a].run(1);return t?(o.notifyWith(e,[c,1,0]),o.resolveWith(e,[c,t])):o.rejectWith(e,[c,t]),this}}),u=c.props;for(function(e,t){var a,s,i,r,n;for(a in e)if(i=t[s=v.camelCase(a)],r=e[a],v.isArray(r)&&(i=r[1],r=e[a]=r[0]),a!==s&&(e[s]=r,delete e[a]),(n=v.cssHooks[s])&&"expand"in n)for(a in r=n.expand(r),delete e[s],r)a in e||(e[a]=r[a],t[a]=i);else t[s]=i}(u,c.opts.specialEasing);n>r;r++)if(s=et.prefilters[r].call(c,e,u,c.opts))return v.isFunction(s.stop)&&(v._queueHooks(c.elem,c.opts.queue).stop=v.proxy(s.stop,s)),s;return v.map(u,Ke,c),v.isFunction(c.opts.start)&&c.opts.start.call(e,c),v.fx.timer(v.extend(l,{elem:e,anim:c,queue:c.opts.queue})),c.progress(c.opts.progress).done(c.opts.done,c.opts.complete).fail(c.opts.fail).always(c.opts.always)}v.Animation=v.extend(et,{tweeners:{"*":[function(e,t){var a=this.createTween(e,t);return Q(a.elem,e,Y.exec(t),a),a}]},tweener:function(e,t){v.isFunction(e)?(t=e,e=["*"]):e=e.match(E);for(var a,s=0,i=e.length;i>s;s++)a=e[s],et.tweeners[a]=et.tweeners[a]||[],et.tweeners[a].unshift(t)},prefilters:[function(e,t,a){var s,i,r,n,o,l,c,u=this,d={},m=e.style,p=e.nodeType&&J(e),h=L.get(e,"fxshow");for(s in a.queue||(null==(o=v._queueHooks(e,"fx")).unqueued&&(o.unqueued=0,l=o.empty.fire,o.empty.fire=function(){o.unqueued||l()}),o.unqueued++,u.always(function(){u.always(function(){o.unqueued--,v.queue(e,"fx").length||o.empty.fire()})})),1===e.nodeType&&("height"in t||"width"in t)&&(a.overflow=[m.overflow,m.overflowX,m.overflowY],"inline"===("none"===(c=v.css(e,"display"))?L.get(e,"olddisplay")||$e(e.nodeName):c)&&"none"===v.css(e,"float")&&(m.display="inline-block")),a.overflow&&(m.overflow="hidden",u.always(function(){m.overflow=a.overflow[0],m.overflowX=a.overflow[1],m.overflowY=a.overflow[2]})),t)if(i=t[s],Xe.exec(i)){if(delete t[s],r=r||"toggle"===i,i===(p?"hide":"show")){if("show"!==i||!h||void 0===h[s])continue;p=!0}d[s]=h&&h[s]||v.style(e,s)}else c=void 0;if(v.isEmptyObject(d))"inline"===("none"===c?$e(e.nodeName):c)&&(m.display=c);else for(s in h?"hidden"in h&&(p=h.hidden):h=L.access(e,"fxshow",{}),r&&(h.hidden=!p),p?v(e).show():u.done(function(){v(e).hide()}),u.done(function(){var t;for(t in L.remove(e,"fxshow"),d)v.style(e,t,d[t])}),d)n=Ke(p?h[s]:0,s,u),s in h||(h[s]=n.start,p&&(n.end=n.start,n.start="width"===s||"height"===s?1:0))}],prefilter:function(e,t){t?et.prefilters.unshift(e):et.prefilters.push(e)}}),v.speed=function(e,t,a){var s=e&&"object"==(void 0===e?"undefined":d()(e))?v.extend({},e):{complete:a||!a&&t||v.isFunction(e)&&e,duration:e,easing:a&&t||t&&!v.isFunction(t)&&t};return s.duration=v.fx.off?0:"number"==typeof s.duration?s.duration:s.duration in v.fx.speeds?v.fx.speeds[s.duration]:v.fx.speeds._default,null!=s.queue&&!0!==s.queue||(s.queue="fx"),s.old=s.complete,s.complete=function(){v.isFunction(s.old)&&s.old.call(this),s.queue&&v.dequeue(this,s.queue)},s},v.fn.extend({fadeTo:function(e,t,a,s){return this.filter(J).css("opacity",0).show().end().animate({opacity:t},e,a,s)},animate:function(e,t,a,s){var i=v.isEmptyObject(e),r=v.speed(t,a,s),n=function(){var t=et(this,v.extend({},e),r);(i||L.get(this,"finish"))&&t.stop(!0)};return n.finish=n,i||!1===r.queue?this.each(n):this.queue(r.queue,n)},stop:function(e,t,a){var s=function(e){var t=e.stop;delete e.stop,t(a)};return"string"!=typeof e&&(a=t,t=e,e=void 0),t&&!1!==e&&this.queue(e||"fx",[]),this.each(function(){var t=!0,i=null!=e&&e+"queueHooks",r=v.timers,n=L.get(this);if(i)n[i]&&n[i].stop&&s(n[i]);else for(i in n)n[i]&&n[i].stop&&Je.test(i)&&s(n[i]);for(i=r.length;i--;)r[i].elem!==this||null!=e&&r[i].queue!==e||(r[i].anim.stop(a),t=!1,r.splice(i,1));!t&&a||v.dequeue(this,e)})},finish:function(e){return!1!==e&&(e=e||"fx"),this.each(function(){var t,a=L.get(this),s=a[e+"queue"],i=a[e+"queueHooks"],r=v.timers,n=s?s.length:0;for(a.finish=!0,v.queue(this,e,[]),i&&i.stop&&i.stop.call(this,!0),t=r.length;t--;)r[t].elem===this&&r[t].queue===e&&(r[t].anim.stop(!0),r.splice(t,1));for(t=0;n>t;t++)s[t]&&s[t].finish&&s[t].finish.call(this);delete a.finish})}}),v.each(["toggle","show","hide"],function(e,t){var a=v.fn[t];v.fn[t]=function(e,s,i){return null==e||"boolean"==typeof e?a.apply(this,arguments):this.animate(Ze(t,!0),e,s,i)}}),v.each({slideDown:Ze("show"),slideUp:Ze("hide"),slideToggle:Ze("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,t){v.fn[e]=function(e,a,s){return this.animate(t,e,a,s)}}),v.timers=[],v.fx.tick=function(){var e,t=0,a=v.timers;for(We=v.now();t<a.length;t++)(e=a[t])()||a[t]!==e||a.splice(t--,1);a.length||v.fx.stop(),We=void 0},v.fx.timer=function(e){v.timers.push(e),e()?v.fx.start():v.timers.pop()},v.fx.interval=13,v.fx.start=function(){Ye||(Ye=e.setInterval(v.fx.tick,v.fx.interval))},v.fx.stop=function(){e.clearInterval(Ye),Ye=null},v.fx.speeds={slow:600,fast:200,_default:400},v.fn.delay=function(t,a){return t=v.fx&&v.fx.speeds[t]||t,a=a||"fx",this.queue(a,function(a,s){var i=e.setTimeout(a,t);s.stop=function(){e.clearTimeout(i)}})},function(){var e=i.createElement("input"),t=i.createElement("select"),a=t.appendChild(i.createElement("option"));e.type="checkbox",f.checkOn=""!==e.value,f.optSelected=a.selected,t.disabled=!0,f.optDisabled=!a.disabled,(e=i.createElement("input")).value="t",e.type="radio",f.radioValue="t"===e.value}();var tt,at=v.expr.attrHandle;v.fn.extend({attr:function(e,t){return M(this,v.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each(function(){v.removeAttr(this,e)})}}),v.extend({attr:function(e,t,a){var s,i,r=e.nodeType;if(3!==r&&8!==r&&2!==r)return void 0===e.getAttribute?v.prop(e,t,a):(1===r&&v.isXMLDoc(e)||(t=t.toLowerCase(),i=v.attrHooks[t]||(v.expr.match.bool.test(t)?tt:void 0)),void 0!==a?null===a?void v.removeAttr(e,t):i&&"set"in i&&void 0!==(s=i.set(e,a,t))?s:(e.setAttribute(t,a+""),a):i&&"get"in i&&null!==(s=i.get(e,t))?s:null==(s=v.find.attr(e,t))?void 0:s)},attrHooks:{type:{set:function(e,t){if(!f.radioValue&&"radio"===t&&v.nodeName(e,"input")){var a=e.value;return e.setAttribute("type",t),a&&(e.value=a),t}}}},removeAttr:function(e,t){var a,s,i=0,r=t&&t.match(E);if(r&&1===e.nodeType)for(;a=r[i++];)s=v.propFix[a]||a,v.expr.match.bool.test(a)&&(e[s]=!1),e.removeAttribute(a)}}),tt={set:function(e,t,a){return!1===t?v.removeAttr(e,a):e.setAttribute(a,a),a}},v.each(v.expr.match.bool.source.match(/\w+/g),function(e,t){var a=at[t]||v.find.attr;at[t]=function(e,t,s){var i,r;return s||(r=at[t],at[t]=i,i=null!=a(e,t,s)?t.toLowerCase():null,at[t]=r),i}});var st=/^(?:input|select|textarea|button)$/i,it=/^(?:a|area)$/i;v.fn.extend({prop:function(e,t){return M(this,v.prop,e,t,arguments.length>1)},removeProp:function(e){return this.each(function(){delete this[v.propFix[e]||e]})}}),v.extend({prop:function(e,t,a){var s,i,r=e.nodeType;if(3!==r&&8!==r&&2!==r)return 1===r&&v.isXMLDoc(e)||(t=v.propFix[t]||t,i=v.propHooks[t]),void 0!==a?i&&"set"in i&&void 0!==(s=i.set(e,a,t))?s:e[t]=a:i&&"get"in i&&null!==(s=i.get(e,t))?s:e[t]},propHooks:{tabIndex:{get:function(e){var t=v.find.attr(e,"tabindex");return t?parseInt(t,10):st.test(e.nodeName)||it.test(e.nodeName)&&e.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),f.optSelected||(v.propHooks.selected={get:function(e){var t=e.parentNode;return t&&t.parentNode&&t.parentNode.selectedIndex,null},set:function(e){var t=e.parentNode;t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex)}}),v.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){v.propFix[this.toLowerCase()]=this});var rt=/[\t\r\n\f]/g;function nt(e){return e.getAttribute&&e.getAttribute("class")||""}v.fn.extend({addClass:function(e){var t,a,s,i,r,n,o,l=0;if(v.isFunction(e))return this.each(function(t){v(this).addClass(e.call(this,t,nt(this)))});if("string"==typeof e&&e)for(t=e.match(E)||[];a=this[l++];)if(i=nt(a),s=1===a.nodeType&&(" "+i+" ").replace(rt," ")){for(n=0;r=t[n++];)s.indexOf(" "+r+" ")<0&&(s+=r+" ");i!==(o=v.trim(s))&&a.setAttribute("class",o)}return this},removeClass:function(e){var t,a,s,i,r,n,o,l=0;if(v.isFunction(e))return this.each(function(t){v(this).removeClass(e.call(this,t,nt(this)))});if(!arguments.length)return this.attr("class","");if("string"==typeof e&&e)for(t=e.match(E)||[];a=this[l++];)if(i=nt(a),s=1===a.nodeType&&(" "+i+" ").replace(rt," ")){for(n=0;r=t[n++];)for(;s.indexOf(" "+r+" ")>-1;)s=s.replace(" "+r+" "," ");i!==(o=v.trim(s))&&a.setAttribute("class",o)}return this},toggleClass:function(e,t){var a=void 0===e?"undefined":d()(e);return"boolean"==typeof t&&"string"===a?t?this.addClass(e):this.removeClass(e):v.isFunction(e)?this.each(function(a){v(this).toggleClass(e.call(this,a,nt(this),t),t)}):this.each(function(){var t,s,i,r;if("string"===a)for(s=0,i=v(this),r=e.match(E)||[];t=r[s++];)i.hasClass(t)?i.removeClass(t):i.addClass(t);else void 0!==e&&"boolean"!==a||((t=nt(this))&&L.set(this,"__className__",t),this.setAttribute&&this.setAttribute("class",t||!1===e?"":L.get(this,"__className__")||""))})},hasClass:function(e){var t,a,s=0;for(t=" "+e+" ";a=this[s++];)if(1===a.nodeType&&(" "+nt(a)+" ").replace(rt," ").indexOf(t)>-1)return!0;return!1}});var ot=/\r/g,lt=/[\x20\t\r\n\f]+/g;v.fn.extend({val:function(e){var t,a,s,i=this[0];return arguments.length?(s=v.isFunction(e),this.each(function(a){var i;1===this.nodeType&&(null==(i=s?e.call(this,a,v(this).val()):e)?i="":"number"==typeof i?i+="":v.isArray(i)&&(i=v.map(i,function(e){return null==e?"":e+""})),(t=v.valHooks[this.type]||v.valHooks[this.nodeName.toLowerCase()])&&"set"in t&&void 0!==t.set(this,i,"value")||(this.value=i))})):i?(t=v.valHooks[i.type]||v.valHooks[i.nodeName.toLowerCase()])&&"get"in t&&void 0!==(a=t.get(i,"value"))?a:"string"==typeof(a=i.value)?a.replace(ot,""):null==a?"":a:void 0}}),v.extend({valHooks:{option:{get:function(e){var t=v.find.attr(e,"value");return null!=t?t:v.trim(v.text(e)).replace(lt," ")}},select:{get:function(e){for(var t,a,s=e.options,i=e.selectedIndex,r="select-one"===e.type||0>i,n=r?null:[],o=r?i+1:s.length,l=0>i?o:r?i:0;o>l;l++)if(((a=s[l]).selected||l===i)&&(f.optDisabled?!a.disabled:null===a.getAttribute("disabled"))&&(!a.parentNode.disabled||!v.nodeName(a.parentNode,"optgroup"))){if(t=v(a).val(),r)return t;n.push(t)}return n},set:function(e,t){for(var a,s,i=e.options,r=v.makeArray(t),n=i.length;n--;)((s=i[n]).selected=v.inArray(v.valHooks.option.get(s),r)>-1)&&(a=!0);return a||(e.selectedIndex=-1),r}}}}),v.each(["radio","checkbox"],function(){v.valHooks[this]={set:function(e,t){return v.isArray(t)?e.checked=v.inArray(v(e).val(),t)>-1:void 0}},f.checkOn||(v.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})});var ct=/^(?:focusinfocus|focusoutblur)$/;v.extend(v.event,{trigger:function(t,a,s,r){var n,o,l,c,u,m,p,h=[s||i],f=g.call(t,"type")?t.type:t,b=g.call(t,"namespace")?t.namespace.split("."):[];if(o=l=s=s||i,3!==s.nodeType&&8!==s.nodeType&&!ct.test(f+v.event.triggered)&&(f.indexOf(".")>-1&&(f=(b=f.split(".")).shift(),b.sort()),u=f.indexOf(":")<0&&"on"+f,(t=t[v.expando]?t:new v.Event(f,"object"==(void 0===t?"undefined":d()(t))&&t)).isTrigger=r?2:3,t.namespace=b.join("."),t.rnamespace=t.namespace?new RegExp("(^|\\.)"+b.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,t.result=void 0,t.target||(t.target=s),a=null==a?[t]:v.makeArray(a,[t]),p=v.event.special[f]||{},r||!p.trigger||!1!==p.trigger.apply(s,a))){if(!r&&!p.noBubble&&!v.isWindow(s)){for(c=p.delegateType||f,ct.test(c+f)||(o=o.parentNode);o;o=o.parentNode)h.push(o),l=o;l===(s.ownerDocument||i)&&h.push(l.defaultView||l.parentWindow||e)}for(n=0;(o=h[n++])&&!t.isPropagationStopped();)t.type=n>1?c:p.bindType||f,(m=(L.get(o,"events")||{})[t.type]&&L.get(o,"handle"))&&m.apply(o,a),(m=u&&o[u])&&m.apply&&O(o)&&(t.result=m.apply(o,a),!1===t.result&&t.preventDefault());return t.type=f,r||t.isDefaultPrevented()||p._default&&!1!==p._default.apply(h.pop(),a)||!O(s)||u&&v.isFunction(s[f])&&!v.isWindow(s)&&((l=s[u])&&(s[u]=null),v.event.triggered=f,s[f](),v.event.triggered=void 0,l&&(s[u]=l)),t.result}},simulate:function(e,t,a){var s=v.extend(new v.Event,a,{type:e,isSimulated:!0});v.event.trigger(s,null,t)}}),v.fn.extend({trigger:function(e,t){return this.each(function(){v.event.trigger(e,t,this)})},triggerHandler:function(e,t){var a=this[0];return a?v.event.trigger(e,t,a,!0):void 0}}),v.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(e,t){v.fn[t]=function(e,a){return arguments.length>0?this.on(t,null,e,a):this.trigger(t)}}),v.fn.extend({hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)}}),f.focusin="onfocusin"in e,f.focusin||v.each({focus:"focusin",blur:"focusout"},function(e,t){var a=function(e){v.event.simulate(t,e.target,v.event.fix(e))};v.event.special[t]={setup:function(){var s=this.ownerDocument||this,i=L.access(s,t);i||s.addEventListener(e,a,!0),L.access(s,t,(i||0)+1)},teardown:function(){var s=this.ownerDocument||this,i=L.access(s,t)-1;i?L.access(s,t,i):(s.removeEventListener(e,a,!0),L.remove(s,t))}}});var ut=e.location,dt=v.now(),mt=/\?/;v.parseJSON=function(e){return JSON.parse(e+"")},v.parseXML=function(t){var a;if(!t||"string"!=typeof t)return null;try{a=(new e.DOMParser).parseFromString(t,"text/xml")}catch(e){a=void 0}return a&&!a.getElementsByTagName("parsererror").length||v.error("Invalid XML: "+t),a};var pt=/#.*$/,ht=/([?&])_=[^&]*/,gt=/^(.*?):[ \t]*([^\r\n]*)$/gm,ft=/^(?:GET|HEAD)$/,bt=/^\/\//,vt={},yt={},wt="*/".concat("*"),_t=i.createElement("a");function kt(e){return function(t,a){"string"!=typeof t&&(a=t,t="*");var s,i=0,r=t.toLowerCase().match(E)||[];if(v.isFunction(a))for(;s=r[i++];)"+"===s[0]?(s=s.slice(1)||"*",(e[s]=e[s]||[]).unshift(a)):(e[s]=e[s]||[]).push(a)}}function Ct(e,t,a,s){var i={},r=e===yt;function n(o){var l;return i[o]=!0,v.each(e[o]||[],function(e,o){var c=o(t,a,s);return"string"!=typeof c||r||i[c]?r?!(l=c):void 0:(t.dataTypes.unshift(c),n(c),!1)}),l}return n(t.dataTypes[0])||!i["*"]&&n("*")}function xt(e,t){var a,s,i=v.ajaxSettings.flatOptions||{};for(a in t)void 0!==t[a]&&((i[a]?e:s||(s={}))[a]=t[a]);return s&&v.extend(!0,e,s),e}_t.href=ut.href,v.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:ut.href,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(ut.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":wt,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":v.parseJSON,"text xml":v.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?xt(xt(e,v.ajaxSettings),t):xt(v.ajaxSettings,e)},ajaxPrefilter:kt(vt),ajaxTransport:kt(yt),ajax:function(t,a){"object"==(void 0===t?"undefined":d()(t))&&(a=t,t=void 0),a=a||{};var s,r,n,o,l,c,u,m,p=v.ajaxSetup({},a),h=p.context||p,g=p.context&&(h.nodeType||h.jquery)?v(h):v.event,f=v.Deferred(),b=v.Callbacks("once memory"),y=p.statusCode||{},w={},_={},k=0,C="canceled",x={readyState:0,getResponseHeader:function(e){var t;if(2===k){if(!o)for(o={};t=gt.exec(n);)o[t[1].toLowerCase()]=t[2];t=o[e.toLowerCase()]}return null==t?null:t},getAllResponseHeaders:function(){return 2===k?n:null},setRequestHeader:function(e,t){var a=e.toLowerCase();return k||(e=_[a]=_[a]||e,w[e]=t),this},overrideMimeType:function(e){return k||(p.mimeType=e),this},statusCode:function(e){var t;if(e)if(2>k)for(t in e)y[t]=[y[t],e[t]];else x.always(e[x.status]);return this},abort:function(e){var t=e||C;return s&&s.abort(t),S(0,t),this}};if(f.promise(x).complete=b.add,x.success=x.done,x.error=x.fail,p.url=((t||p.url||ut.href)+"").replace(pt,"").replace(bt,ut.protocol+"//"),p.type=a.method||a.type||p.method||p.type,p.dataTypes=v.trim(p.dataType||"*").toLowerCase().match(E)||[""],null==p.crossDomain){c=i.createElement("a");try{c.href=p.url,c.href=c.href,p.crossDomain=_t.protocol+"//"+_t.host!=c.protocol+"//"+c.host}catch(e){p.crossDomain=!0}}if(p.data&&p.processData&&"string"!=typeof p.data&&(p.data=v.param(p.data,p.traditional)),Ct(vt,p,a,x),2===k)return x;for(m in(u=v.event&&p.global)&&0==v.active++&&v.event.trigger("ajaxStart"),p.type=p.type.toUpperCase(),p.hasContent=!ft.test(p.type),r=p.url,p.hasContent||(p.data&&(r=p.url+=(mt.test(r)?"&":"?")+p.data,delete p.data),!1===p.cache&&(p.url=ht.test(r)?r.replace(ht,"$1_="+dt++):r+(mt.test(r)?"&":"?")+"_="+dt++)),p.ifModified&&(v.lastModified[r]&&x.setRequestHeader("If-Modified-Since",v.lastModified[r]),v.etag[r]&&x.setRequestHeader("If-None-Match",v.etag[r])),(p.data&&p.hasContent&&!1!==p.contentType||a.contentType)&&x.setRequestHeader("Content-Type",p.contentType),x.setRequestHeader("Accept",p.dataTypes[0]&&p.accepts[p.dataTypes[0]]?p.accepts[p.dataTypes[0]]+("*"!==p.dataTypes[0]?", "+wt+"; q=0.01":""):p.accepts["*"]),p.headers)x.setRequestHeader(m,p.headers[m]);if(p.beforeSend&&(!1===p.beforeSend.call(h,x,p)||2===k))return x.abort();for(m in C="abort",{success:1,error:1,complete:1})x[m](p[m]);if(s=Ct(yt,p,a,x)){if(x.readyState=1,u&&g.trigger("ajaxSend",[x,p]),2===k)return x;p.async&&p.timeout>0&&(l=e.setTimeout(function(){x.abort("timeout")},p.timeout));try{k=1,s.send(w,S)}catch(e){if(!(2>k))throw e;S(-1,e)}}else S(-1,"No Transport");function S(t,a,i,o){var c,d,m,w,_,C=a;2!==k&&(k=2,l&&e.clearTimeout(l),s=void 0,n=o||"",x.readyState=t>0?4:0,c=t>=200&&300>t||304===t,i&&(w=function(e,t,a){for(var s,i,r,n,o=e.contents,l=e.dataTypes;"*"===l[0];)l.shift(),void 0===s&&(s=e.mimeType||t.getResponseHeader("Content-Type"));if(s)for(i in o)if(o[i]&&o[i].test(s)){l.unshift(i);break}if(l[0]in a)r=l[0];else{for(i in a){if(!l[0]||e.converters[i+" "+l[0]]){r=i;break}n||(n=i)}r=r||n}return r?(r!==l[0]&&l.unshift(r),a[r]):void 0}(p,x,i)),w=function(e,t,a,s){var i,r,n,o,l,c={},u=e.dataTypes.slice();if(u[1])for(n in e.converters)c[n.toLowerCase()]=e.converters[n];for(r=u.shift();r;)if(e.responseFields[r]&&(a[e.responseFields[r]]=t),!l&&s&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),l=r,r=u.shift())if("*"===r)r=l;else if("*"!==l&&l!==r){if(!(n=c[l+" "+r]||c["* "+r]))for(i in c)if((o=i.split(" "))[1]===r&&(n=c[l+" "+o[0]]||c["* "+o[0]])){!0===n?n=c[i]:!0!==c[i]&&(r=o[0],u.unshift(o[1]));break}if(!0!==n)if(n&&e.throws)t=n(t);else try{t=n(t)}catch(e){return{state:"parsererror",error:n?e:"No conversion from "+l+" to "+r}}}return{state:"success",data:t}}(p,w,x,c),c?(p.ifModified&&((_=x.getResponseHeader("Last-Modified"))&&(v.lastModified[r]=_),(_=x.getResponseHeader("etag"))&&(v.etag[r]=_)),204===t||"HEAD"===p.type?C="nocontent":304===t?C="notmodified":(C=w.state,d=w.data,c=!(m=w.error))):(m=C,!t&&C||(C="error",0>t&&(t=0))),x.status=t,x.statusText=(a||C)+"",c?f.resolveWith(h,[d,C,x]):f.rejectWith(h,[x,C,m]),x.statusCode(y),y=void 0,u&&g.trigger(c?"ajaxSuccess":"ajaxError",[x,p,c?d:m]),b.fireWith(h,[x,C]),u&&(g.trigger("ajaxComplete",[x,p]),--v.active||v.event.trigger("ajaxStop")))}return x},getJSON:function(e,t,a){return v.get(e,t,a,"json")},getScript:function(e,t){return v.get(e,void 0,t,"script")}}),v.each(["get","post"],function(e,t){v[t]=function(e,a,s,i){return v.isFunction(a)&&(i=i||s,s=a,a=void 0),v.ajax(v.extend({url:e,type:t,dataType:i,data:a,success:s},v.isPlainObject(e)&&e))}}),v._evalUrl=function(e){return v.ajax({url:e,type:"GET",dataType:"script",async:!1,global:!1,throws:!0})},v.fn.extend({wrapAll:function(e){var t;return v.isFunction(e)?this.each(function(t){v(this).wrapAll(e.call(this,t))}):(this[0]&&(t=v(e,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){for(var e=this;e.firstElementChild;)e=e.firstElementChild;return e}).append(this)),this)},wrapInner:function(e){return v.isFunction(e)?this.each(function(t){v(this).wrapInner(e.call(this,t))}):this.each(function(){var t=v(this),a=t.contents();a.length?a.wrapAll(e):t.append(e)})},wrap:function(e){var t=v.isFunction(e);return this.each(function(a){v(this).wrapAll(t?e.call(this,a):e)})},unwrap:function(){return this.parent().each(function(){v.nodeName(this,"body")||v(this).replaceWith(this.childNodes)}).end()}}),v.expr.filters.hidden=function(e){return!v.expr.filters.visible(e)},v.expr.filters.visible=function(e){return e.offsetWidth>0||e.offsetHeight>0||e.getClientRects().length>0};var St=/%20/g,Ft=/\[\]$/,Tt=/\r?\n/g,$t=/^(?:submit|button|image|reset|file)$/i,Dt=/^(?:input|select|textarea|keygen)/i;function It(e,t,a,s){var i;if(v.isArray(t))v.each(t,function(t,i){a||Ft.test(e)?s(e,i):It(e+"["+("object"==(void 0===i?"undefined":d()(i))&&null!=i?t:"")+"]",i,a,s)});else if(a||"object"!==v.type(t))s(e,t);else for(i in t)It(e+"["+i+"]",t[i],a,s)}v.param=function(e,t){var a,s=[],i=function(e,t){t=v.isFunction(t)?t():null==t?"":t,s[s.length]=encodeURIComponent(e)+"="+encodeURIComponent(t)};if(void 0===t&&(t=v.ajaxSettings&&v.ajaxSettings.traditional),v.isArray(e)||e.jquery&&!v.isPlainObject(e))v.each(e,function(){i(this.name,this.value)});else for(a in e)It(a,e[a],t,i);return s.join("&").replace(St,"+")},v.fn.extend({serialize:function(){return v.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=v.prop(this,"elements");return e?v.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!v(this).is(":disabled")&&Dt.test(this.nodeName)&&!$t.test(e)&&(this.checked||!Z.test(e))}).map(function(e,t){var a=v(this).val();return null==a?null:v.isArray(a)?v.map(a,function(e){return{name:t.name,value:e.replace(Tt,"\r\n")}}):{name:t.name,value:a.replace(Tt,"\r\n")}}).get()}}),v.ajaxSettings.xhr=function(){try{return new e.XMLHttpRequest}catch(e){}};var Pt={0:200,1223:204},Nt=v.ajaxSettings.xhr();f.cors=!!Nt&&"withCredentials"in Nt,f.ajax=Nt=!!Nt,v.ajaxTransport(function(t){var a,s;return f.cors||Nt&&!t.crossDomain?{send:function(i,r){var n,o=t.xhr();if(o.open(t.type,t.url,t.async,t.username,t.password),t.xhrFields)for(n in t.xhrFields)o[n]=t.xhrFields[n];for(n in t.mimeType&&o.overrideMimeType&&o.overrideMimeType(t.mimeType),t.crossDomain||i["X-Requested-With"]||(i["X-Requested-With"]="XMLHttpRequest"),i)o.setRequestHeader(n,i[n]);a=function(e){return function(){a&&(a=s=o.onload=o.onerror=o.onabort=o.onreadystatechange=null,"abort"===e?o.abort():"error"===e?"number"!=typeof o.status?r(0,"error"):r(o.status,o.statusText):r(Pt[o.status]||o.status,o.statusText,"text"!==(o.responseType||"text")||"string"!=typeof o.responseText?{binary:o.response}:{text:o.responseText},o.getAllResponseHeaders()))}},o.onload=a(),s=o.onerror=a("error"),void 0!==o.onabort?o.onabort=s:o.onreadystatechange=function(){4===o.readyState&&e.setTimeout(function(){a&&s()})},a=a("abort");try{o.send(t.hasContent&&t.data||null)}catch(e){if(a)throw e}},abort:function(){a&&a()}}:void 0}),v.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(e){return v.globalEval(e),e}}}),v.ajaxPrefilter("script",function(e){void 0===e.cache&&(e.cache=!1),e.crossDomain&&(e.type="GET")}),v.ajaxTransport("script",function(e){var t,a;if(e.crossDomain)return{send:function(s,r){t=v("<script>").prop({charset:e.scriptCharset,src:e.url}).on("load error",a=function(e){t.remove(),a=null,e&&r("error"===e.type?404:200,e.type)}),i.head.appendChild(t[0])},abort:function(){a&&a()}}});var Vt=[],At=/(=)\?(?=&|$)|\?\?/;v.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=Vt.pop()||v.expando+"_"+dt++;return this[e]=!0,e}}),v.ajaxPrefilter("json jsonp",function(t,a,s){var i,r,n,o=!1!==t.jsonp&&(At.test(t.url)?"url":"string"==typeof t.data&&0===(t.contentType||"").indexOf("application/x-www-form-urlencoded")&&At.test(t.data)&&"data");return o||"jsonp"===t.dataTypes[0]?(i=t.jsonpCallback=v.isFunction(t.jsonpCallback)?t.jsonpCallback():t.jsonpCallback,o?t[o]=t[o].replace(At,"$1"+i):!1!==t.jsonp&&(t.url+=(mt.test(t.url)?"&":"?")+t.jsonp+"="+i),t.converters["script json"]=function(){return n||v.error(i+" was not called"),n[0]},t.dataTypes[0]="json",r=e[i],e[i]=function(){n=arguments},s.always(function(){void 0===r?v(e).removeProp(i):e[i]=r,t[i]&&(t.jsonpCallback=a.jsonpCallback,Vt.push(i)),n&&v.isFunction(r)&&r(n[0]),n=r=void 0}),"script"):void 0}),v.parseHTML=function(e,t,a){if(!e||"string"!=typeof e)return null;"boolean"==typeof t&&(a=t,t=!1),t=t||i;var s=$.exec(e),r=!a&&[];return s?[t.createElement(s[1])]:(s=re([e],t,r),r&&r.length&&v(r).remove(),v.merge([],s.childNodes))};var jt=v.fn.load;function qt(e){return v.isWindow(e)?e:9===e.nodeType&&e.defaultView}v.fn.load=function(e,t,a){if("string"!=typeof e&&jt)return jt.apply(this,arguments);var s,i,r,n=this,o=e.indexOf(" ");return o>-1&&(s=v.trim(e.slice(o)),e=e.slice(0,o)),v.isFunction(t)?(a=t,t=void 0):t&&"object"==(void 0===t?"undefined":d()(t))&&(i="POST"),n.length>0&&v.ajax({url:e,type:i||"GET",dataType:"html",data:t}).done(function(e){r=arguments,n.html(s?v("<div>").append(v.parseHTML(e)).find(s):e)}).always(a&&function(e,t){n.each(function(){a.apply(this,r||[e.responseText,t,e])})}),this},v.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(e,t){v.fn[t]=function(e){return this.on(t,e)}}),v.expr.filters.animated=function(e){return v.grep(v.timers,function(t){return e===t.elem}).length},v.offset={setOffset:function(e,t,a){var s,i,r,n,o,l,c=v.css(e,"position"),u=v(e),d={};"static"===c&&(e.style.position="relative"),o=u.offset(),r=v.css(e,"top"),l=v.css(e,"left"),("absolute"===c||"fixed"===c)&&(r+l).indexOf("auto")>-1?(n=(s=u.position()).top,i=s.left):(n=parseFloat(r)||0,i=parseFloat(l)||0),v.isFunction(t)&&(t=t.call(e,a,v.extend({},o))),null!=t.top&&(d.top=t.top-o.top+n),null!=t.left&&(d.left=t.left-o.left+i),"using"in t?t.using.call(e,d):u.css(d)}},v.fn.extend({offset:function(e){if(arguments.length)return void 0===e?this:this.each(function(t){v.offset.setOffset(this,e,t)});var t,a,s=this[0],i={top:0,left:0},r=s&&s.ownerDocument;return r?(t=r.documentElement,v.contains(t,s)?(i=s.getBoundingClientRect(),a=qt(r),{top:i.top+a.pageYOffset-t.clientTop,left:i.left+a.pageXOffset-t.clientLeft}):i):void 0},position:function(){if(this[0]){var e,t,a=this[0],s={top:0,left:0};return"fixed"===v.css(a,"position")?t=a.getBoundingClientRect():(e=this.offsetParent(),t=this.offset(),v.nodeName(e[0],"html")||(s=e.offset()),s.top+=v.css(e[0],"borderTopWidth",!0),s.left+=v.css(e[0],"borderLeftWidth",!0)),{top:t.top-s.top-v.css(a,"marginTop",!0),left:t.left-s.left-v.css(a,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var e=this.offsetParent;e&&"static"===v.css(e,"position");)e=e.offsetParent;return e||Ve})}}),v.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(e,t){var a="pageYOffset"===t;v.fn[e]=function(s){return M(this,function(e,s,i){var r=qt(e);return void 0===i?r?r[t]:e[s]:void(r?r.scrollTo(a?r.pageXOffset:i,a?i:r.pageYOffset):e[s]=i)},e,s,arguments.length)}}),v.each(["top","left"],function(e,t){v.cssHooks[t]=je(f.pixelPosition,function(e,a){return a?(a=Ae(e,t),Ie.test(a)?v(e).position()[t]+"px":a):void 0})}),v.each({Height:"height",Width:"width"},function(e,t){v.each({padding:"inner"+e,content:t,"":"outer"+e},function(a,s){v.fn[s]=function(s,i){var r=arguments.length&&(a||"boolean"!=typeof s),n=a||(!0===s||!0===i?"margin":"border");return M(this,function(t,a,s){var i;return v.isWindow(t)?t.document.documentElement["client"+e]:9===t.nodeType?(i=t.documentElement,Math.max(t.body["scroll"+e],i["scroll"+e],t.body["offset"+e],i["offset"+e],i["client"+e])):void 0===s?v.css(t,a,n):v.style(t,a,s,n)},t,r?s:void 0,r,null)}})}),v.fn.extend({bind:function(e,t,a){return this.on(e,null,t,a)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,a,s){return this.on(t,e,a,s)},undelegate:function(e,t,a){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",a)},size:function(){return this.length}}),v.fn.andSelf=v.fn.addBack,"function"==typeof define&&a("nErl")&&define("jquery",[],function(){return v});var Et=e.jQuery,Rt=e.$;return v.noConflict=function(t){return e.$===v&&(e.$=Rt),t&&e.jQuery===v&&(e.jQuery=Et),v},t||(e.jQuery=e.$=v),v},"object"==d()(e)&&"object"==d()(e.exports)?e.exports=t.document?s(t,!0):function(e){if(!e.document)throw new Error("jQuery requires a window with a document");return s(e)}:s(t)}).call(t,a("f1Eh")(e))},wabF:function(e,t){},xJPM:function(e,t){},xRdj:function(e,t){},xp0g:function(e,t){}},["NHnr"]);
//# sourceMappingURL=app.097c5c78d2ffe065a435.js.map